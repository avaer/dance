! function(t) {
    console.log('--------------------------------run 1');

    Error.stackTraceLimit = 300;

    function e(t) {
        delete I[t]
    }

    function n(t) {
        var e = document.getElementsByTagName("head")[0],
            n = document.createElement("script");
        n.type = "text/javascript", n.charset = "utf-8", n.src = d.p + "" + t + "." + _ + ".hot-update.js", e.appendChild(n)
    }

    function r(t) {
        return t = t || 1e4, new Promise(function(e, n) {
            if ("undefined" == typeof XMLHttpRequest) return n(new Error("No browser support"));
            try {
                var r = new XMLHttpRequest,
                    i = d.p + "" + _ + ".hot-update.json";
                r.open("GET", i, !0), r.timeout = t, r.send(null)
            } catch (t) {
                return n(t)
            }
            r.onreadystatechange = function() {
                if (4 === r.readyState)
                    if (0 === r.status) n(new Error("Manifest request to " + i + " timed out."));
                    else if (404 === r.status) e();
                else if (200 !== r.status && 304 !== r.status) n(new Error("Manifest request to " + i + " failed."));
                else {
                    try {
                        var t = JSON.parse(r.responseText)
                    } catch (t) {
                        return void n(t)
                    }
                    e(t)
                }
            }
        })
    }

    function i(t) {
        var e = O[t];
        if (!e) return d;
        var n = function(n) {
            return e.hot.active ? (O[n] ? O[n].parents.indexOf(t) < 0 && O[n].parents.push(t) : (M = [t], v = n), e.children.indexOf(n) < 0 && e.children.push(n)) : (console.warn("[HMR] unexpected require(" + n + ") from disposed module " + t), M = []), d(n)
        };
        for (var r in d) Object.prototype.hasOwnProperty.call(d, r) && "e" !== r && Object.defineProperty(n, r, function(t) {
            return {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    return d[t]
                },
                set: function(e) {
                    d[t] = e
                }
            }
        }(r));
        return n.e = function(t) {
            function e() {
                C--, "prepare" === T && (P[t] || l(t), 0 === C && 0 === L && f())
            }
            return "ready" === T && a("prepare"), C++, d.e(t).then(e, function(t) {
                throw e(), t
            })
        }, n
    }

    function o(t) {
        var e = {
            _acceptedDependencies: {},
            _declinedDependencies: {},
            _selfAccepted: !1,
            _selfDeclined: !1,
            _disposeHandlers: [],
            _main: v !== t,
            active: !0,
            accept: function(t, n) {
                if (void 0 === t) e._selfAccepted = !0;
                else if ("function" == typeof t) e._selfAccepted = t;
                else if ("object" == typeof t)
                    for (var r = 0; r < t.length; r++) e._acceptedDependencies[t[r]] = n || function() {};
                else e._acceptedDependencies[t] = n || function() {}
            },
            decline: function(t) {
                if (void 0 === t) e._selfDeclined = !0;
                else if ("object" == typeof t)
                    for (var n = 0; n < t.length; n++) e._declinedDependencies[t[n]] = !0;
                else e._declinedDependencies[t] = !0
            },
            dispose: function(t) {
                e._disposeHandlers.push(t)
            },
            addDisposeHandler: function(t) {
                e._disposeHandlers.push(t)
            },
            removeDisposeHandler: function(t) {
                var n = e._disposeHandlers.indexOf(t);
                n >= 0 && e._disposeHandlers.splice(n, 1)
            },
            check: u,
            apply: h,
            status: function(t) {
                if (!t) return T;
                S.push(t)
            },
            addStatusHandler: function(t) {
                S.push(t)
            },
            removeStatusHandler: function(t) {
                var e = S.indexOf(t);
                e >= 0 && S.splice(e, 1)
            },
            data: w[t]
        };
        return v = void 0, e
    }

    function a(t) {
        T = t;
        for (var e = 0; e < S.length; e++) S[e].call(null, t)
    }

    function s(t) {
        return +t + "" === t ? +t : t
    }

    function u(t) {
        if ("idle" !== T) throw new Error("check() is only allowed in idle status");
        return x = t, a("check"), r(b).then(function(t) {
            if (!t) return a("idle"), null;
            R = {}, P = {}, D = t.c, y = t.h, a("prepare");
            var e = new Promise(function(t, e) {
                g = {
                    resolve: t,
                    reject: e
                }
            });
            A = {};
            for (var n in I) l(n);
            return "prepare" === T && 0 === C && 0 === L && f(), e
        })
    }

    function c(t, e) {
        if (D[t] && R[t]) {
            R[t] = !1;
            for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (A[n] = e[n]);
            0 == --L && 0 === C && f()
        }
    }

    function l(t) {
        D[t] ? (R[t] = !0, L++, n(t)) : P[t] = !0
    }

    function f() {
        a("ready");
        var t = g;
        if (g = null, t)
            if (x) Promise.resolve().then(function() {
                return h(x)
            }).then(function(e) {
                t.resolve(e)
            }, function(e) {
                t.reject(e)
            });
            else {
                var e = [];
                for (var n in A) Object.prototype.hasOwnProperty.call(A, n) && e.push(s(n));
                t.resolve(e)
            }
    }

    function h(n) {
        function r(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                t.indexOf(r) < 0 && t.push(r)
            }
        }
        if ("ready" !== T) throw new Error("apply() is only allowed in ready status");
        n = n || {};
        var i, o, u, c, l, f = {},
            h = [],
            p = {},
            m = function() {
                console.warn("[HMR] unexpected require(" + g.moduleId + ") to disposed module")
            };
        for (var v in A)
            if (Object.prototype.hasOwnProperty.call(A, v)) {
                l = s(v);
                var g;
                g = A[v] ? function(t) {
                    for (var e = [t], n = {}, i = e.slice().map(function(t) {
                            return {
                                chain: [t],
                                id: t
                            }
                        }); i.length > 0;) {
                        var o = i.pop(),
                            a = o.id,
                            s = o.chain;
                        if ((c = O[a]) && !c.hot._selfAccepted) {
                            if (c.hot._selfDeclined) return {
                                type: "self-declined",
                                chain: s,
                                moduleId: a
                            };
                            if (c.hot._main) return {
                                type: "unaccepted",
                                chain: s,
                                moduleId: a
                            };
                            for (var u = 0; u < c.parents.length; u++) {
                                var l = c.parents[u],
                                    f = O[l];
                                if (f) {
                                    if (f.hot._declinedDependencies[a]) return {
                                        type: "declined",
                                        chain: s.concat([l]),
                                        moduleId: a,
                                        parentId: l
                                    };
                                    e.indexOf(l) >= 0 || (f.hot._acceptedDependencies[a] ? (n[l] || (n[l] = []), r(n[l], [a])) : (delete n[l], e.push(l), i.push({
                                        chain: s.concat([l]),
                                        id: l
                                    })))
                                }
                            }
                        }
                    }
                    return {
                        type: "accepted",
                        moduleId: t,
                        outdatedModules: e,
                        outdatedDependencies: n
                    }
                }(l) : {
                    type: "disposed",
                    moduleId: v
                };
                var x = !1,
                    b = !1,
                    E = !1,
                    S = "";
                switch (g.chain && (S = "\nUpdate propagation: " + g.chain.join(" -> ")), g.type) {
                    case "self-declined":
                        n.onDeclined && n.onDeclined(g), n.ignoreDeclined || (x = new Error("Aborted because of self decline: " + g.moduleId + S));
                        break;
                    case "declined":
                        n.onDeclined && n.onDeclined(g), n.ignoreDeclined || (x = new Error("Aborted because of declined dependency: " + g.moduleId + " in " + g.parentId + S));
                        break;
                    case "unaccepted":
                        n.onUnaccepted && n.onUnaccepted(g), n.ignoreUnaccepted || (x = new Error("Aborted because " + l + " is not accepted" + S));
                        break;
                    case "accepted":
                        n.onAccepted && n.onAccepted(g), b = !0;
                        break;
                    case "disposed":
                        n.onDisposed && n.onDisposed(g), E = !0;
                        break;
                    default:
                        throw new Error("Unexception type " + g.type)
                }
                if (x) return a("abort"), Promise.reject(x);
                if (b) {
                    p[l] = A[l], r(h, g.outdatedModules);
                    for (l in g.outdatedDependencies) Object.prototype.hasOwnProperty.call(g.outdatedDependencies, l) && (f[l] || (f[l] = []), r(f[l], g.outdatedDependencies[l]))
                }
                E && (r(h, [g.moduleId]), p[l] = m)
            }
        var L = [];
        for (o = 0; o < h.length; o++) l = h[o], O[l] && O[l].hot._selfAccepted && L.push({
            module: l,
            errorHandler: O[l].hot._selfAccepted
        });
        a("dispose"), Object.keys(D).forEach(function(t) {
            !1 === D[t] && e(t)
        });
        for (var C, P = h.slice(); P.length > 0;)
            if (l = P.pop(), c = O[l]) {
                var R = {},
                    I = c.hot._disposeHandlers;
                for (u = 0; u < I.length; u++)(i = I[u])(R);
                for (w[l] = R, c.hot.active = !1, delete O[l], delete f[l], u = 0; u < c.children.length; u++) {
                    var B = O[c.children[u]];
                    B && ((C = B.parents.indexOf(l)) >= 0 && B.parents.splice(C, 1))
                }
            }
        var N, k;
        for (l in f)
            if (Object.prototype.hasOwnProperty.call(f, l) && (c = O[l]))
                for (k = f[l], u = 0; u < k.length; u++) N = k[u], (C = c.children.indexOf(N)) >= 0 && c.children.splice(C, 1);
        a("apply"), _ = y;
        for (l in p) Object.prototype.hasOwnProperty.call(p, l) && (t[l] = p[l]);
        var F = null;
        for (l in f)
            if (Object.prototype.hasOwnProperty.call(f, l) && (c = O[l])) {
                k = f[l];
                var U = [];
                for (o = 0; o < k.length; o++)
                    if (N = k[o], i = c.hot._acceptedDependencies[N]) {
                        if (U.indexOf(i) >= 0) continue;
                        U.push(i)
                    }
                for (o = 0; o < U.length; o++) {
                    i = U[o];
                    try {
                        i(k)
                    } catch (t) {
                        n.onErrored && n.onErrored({
                            type: "accept-errored",
                            moduleId: l,
                            dependencyId: k[o],
                            error: t
                        }), n.ignoreErrored || F || (F = t)
                    }
                }
            }
        for (o = 0; o < L.length; o++) {
            var z = L[o];
            l = z.module, M = [l];
            try {
                d(l)
            } catch (t) {
                if ("function" == typeof z.errorHandler) try {
                    z.errorHandler(t)
                } catch (e) {
                    n.onErrored && n.onErrored({
                        type: "self-accept-error-handler-errored",
                        moduleId: l,
                        error: e,
                        orginalError: t,
                        originalError: t
                    }), n.ignoreErrored || F || (F = e), F || (F = t)
                } else n.onErrored && n.onErrored({
                    type: "self-accept-errored",
                    moduleId: l,
                    error: t
                }), n.ignoreErrored || F || (F = t)
            }
        }
        return F ? (a("fail"), Promise.reject(F)) : (a("idle"), new Promise(function(t) {
            t(h)
        }))
    }

    function d(e) {
        if (O[e]) return O[e].exports;
        var n = O[e] = {
            i: e,
            l: !1,
            exports: {},
            hot: o(e),
            parents: (E = M, M = [], E),
            children: []
        };
        return t[e].call(n.exports, n, n.exports, i(e)), n.l = !0, n.exports
    }
    var p = window.webpackJsonp;
    window.webpackJsonp = function(e, n, r) {
        for (var i, o, a = 0, s = []; a < e.length; a++) o = e[a], I[o] && s.push(I[o][0]), I[o] = 0;
        for (i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);
        for (p && p(e, n, r); s.length;) s.shift()()
    };
    var m = this.webpackHotUpdate;
    this.webpackHotUpdate = function(t, e) {
        c(t, e), m && m(t, e)
    };
    var v, g, A, y, x = !0,
        _ = "98b23f653127ecd0442c",
        b = 1e4,
        w = {},
        M = [],
        E = [],
        S = [],
        T = "idle",
        L = 0,
        C = 0,
        P = {},
        R = {},
        D = {},
        O = {},
        I = {
            3: 0
        };
    d.e = function(t) {
        function e() {
            o.onerror = o.onload = null, clearTimeout(a);
            var e = I[t];
            0 !== e && (e && e[1](new Error("Loading chunk " + t + " failed.")), I[t] = void 0)
        }
        var n = I[t];
        if (0 === n) return new Promise(function(t) {
            t()
        });
        if (n) return n[2];
        var r = new Promise(function(e, r) {
            n = I[t] = [e, r]
        });
        n[2] = r;
        var i = document.getElementsByTagName("head")[0],
            o = document.createElement("script");
        o.type = "text/javascript", o.charset = "utf-8", o.async = !0, o.timeout = 12e4, d.nc && o.setAttribute("nonce", d.nc), o.src = d.p + "" + t + ".bundle.js";
        var a = setTimeout(e, 12e4);
        return o.onerror = o.onload = e, i.appendChild(o), r
    }, d.m = t, d.c = O, d.d = function(t, e, n) {
        d.o(t, e) || Object.defineProperty(t, e, {
            configurable: !1,
            enumerable: !0,
            get: n
        })
    }, d.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        } : function() {
            return t
        };
        return d.d(e, "a", e), e
    }, d.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, d.p = "/", d.oe = function(t) {
        throw console.error(t), t
    }, d.h = function() {
        return _
    }, i(269)(d.s = 269)
}([function(t, e, n) {
    var r = n(7),
        i = n(42),
        o = n(30),
        a = n(31),
        s = n(38),
        u = function(t, e, n) {
            var c, l, f, h, d = t & u.F,
                p = t & u.G,
                m = t & u.S,
                v = t & u.P,
                g = t & u.B,
                A = p ? r : m ? r[e] || (r[e] = {}) : (r[e] || {}).prototype,
                y = p ? i : i[e] || (i[e] = {}),
                x = y.prototype || (y.prototype = {});
            p && (n = e);
            for (c in n) l = !d && A && void 0 !== A[c], f = (l ? A : n)[c], h = g && l ? s(f, r) : v && "function" == typeof f ? s(Function.call, f) : f, A && a(A, c, f, t & u.U), y[c] != f && o(y, c, h), v && x[c] != f && (x[c] = f)
        };
    r.core = i, u.F = 1, u.G = 2, u.S = 4, u.P = 8, u.B = 16, u.W = 32, u.U = 64, u.R = 128, t.exports = u
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 2');

    function r() {}

    function i(t, e) {
        var n, i, o, a, s = B;
        for (a = arguments.length; a-- > 2;) I.push(arguments[a]);
        for (e && null != e.children && (I.length || I.push(e.children), delete e.children); I.length;)
            if ((i = I.pop()) && void 0 !== i.pop)
                for (a = i.length; a--;) I.push(i[a]);
            else "boolean" == typeof i && (i = null), (o = "function" != typeof t) && (null == i ? i = "" : "number" == typeof i ? i = String(i) : "string" != typeof i && (o = !1)), o && n ? s[s.length - 1] += i : s === B ? s = [i] : s.push(i), n = o;
        var u = new r;
        return u.nodeName = t, u.children = s, u.attributes = null == e ? void 0 : e, u.key = null == e ? void 0 : e.key, void 0 !== O.vnode && O.vnode(u), u
    }

    function o(t, e) {
        for (var n in e) t[n] = e[n];
        return t
    }

    function a(t, e) {
        return i(t.nodeName, o(o({}, t.attributes), e), arguments.length > 2 ? [].slice.call(arguments, 2) : t.children)
    }

    function s(t) {
        !t._dirty && (t._dirty = !0) && 1 == F.push(t) && (O.debounceRendering || N)(u)
    }

    function u() {
        var t, e = F;
        for (F = []; t = e.pop();) t._dirty && L(t)
    }

    function c(t, e, n) {
        return "string" == typeof e || "number" == typeof e ? void 0 !== t.splitText : "string" == typeof e.nodeName ? !t._componentConstructor && l(t, e.nodeName) : n || t._componentConstructor === e.nodeName
    }

    function l(t, e) {
        return t.normalizedNodeName === e || t.nodeName.toLowerCase() === e.toLowerCase()
    }

    function f(t) {
        var e = o({}, t.attributes);
        e.children = t.children;
        var n = t.nodeName.defaultProps;
        if (void 0 !== n)
            for (var r in n) void 0 === e[r] && (e[r] = n[r]);
        return e
    }

    function h(t, e) {
        var n = e ? document.createElementNS("http://www.w3.org/2000/svg", t) : document.createElement(t);
        return n.normalizedNodeName = t, n
    }

    function d(t) {
        var e = t.parentNode;
        e && e.removeChild(t)
    }

    function p(t, e, n, r, i) {
        if ("className" === e && (e = "class"), "key" === e);
        else if ("ref" === e) n && n(null), r && r(t);
        else if ("class" !== e || i)
            if ("style" === e) {
                if (r && "string" != typeof r && "string" != typeof n || (t.style.cssText = r || ""), r && "object" == typeof r) {
                    if ("string" != typeof n)
                        for (var o in n) o in r || (t.style[o] = "");
                    for (var o in r) t.style[o] = "number" == typeof r[o] && !1 === k.test(o) ? r[o] + "px" : r[o]
                }
            } else if ("dangerouslySetInnerHTML" === e) r && (t.innerHTML = r.__html || "");
        else if ("o" == e[0] && "n" == e[1]) {
            var a = e !== (e = e.replace(/Capture$/, ""));
            e = e.toLowerCase().substring(2), r ? n || t.addEventListener(e, v, a) : t.removeEventListener(e, v, a), (t._listeners || (t._listeners = {}))[e] = r
        } else if ("list" !== e && "type" !== e && !i && e in t) m(t, e, null == r ? "" : r), null != r && !1 !== r || t.removeAttribute(e);
        else {
            var s = i && e !== (e = e.replace(/^xlink\:?/, ""));
            null == r || !1 === r ? s ? t.removeAttributeNS("http://www.w3.org/1999/xlink", e.toLowerCase()) : t.removeAttribute(e) : "function" != typeof r && (s ? t.setAttributeNS("http://www.w3.org/1999/xlink", e.toLowerCase(), r) : t.setAttribute(e, r))
        } else t.className = r || ""
    }

    function m(t, e, n) {
        try {
            t[e] = n
        } catch (t) {}
    }

    function v(t) {
        return this._listeners[t.type](O.event && O.event(t) || t)
    }

    function g() {
        for (var t; t = U.pop();) O.afterMount && O.afterMount(t), t.componentDidMount && t.componentDidMount()
    }

    function A(t, e, n, r, i, o) {
        z++ || (V = null != i && void 0 !== i.ownerSVGElement, G = null != t && !("__preactattr_" in t));
        var a = y(t, e, n, r, o);
        return i && a.parentNode !== i && i.appendChild(a), --z || (G = !1, o || g()), a
    }

    function y(t, e, n, r, i) {
        var o = t,
            a = V;
        if (null != e && "boolean" != typeof e || (e = ""), "string" == typeof e || "number" == typeof e) {
          /* if (t && t.parentNode) {
            console.log('got parent node', t.parentNode.constructor);
          } */
          t && void 0 !== t.splitText && t.parentNode && (!t._component || i) ? t.nodeValue != e && (t.nodeValue = e) : (o = document.createTextNode(e), t && (t.parentNode && t.parentNode.replaceChild(o, t), _(t, !0)));
          o.__preactattr_ = !0;
          return o;
        }
        var s = e.nodeName;
        if ("function" == typeof s) return C(t, e, n, r);
        if (V = "svg" === s || "foreignObject" !== s && V, s = String(s), (!t || !l(t, s)) && (o = h(s, V), t)) {
            for (; t.firstChild;) o.appendChild(t.firstChild);
            if (t.parentNode) {
              console.log('got parent node', t.parentNode.constructor); // XXX
              t.parentNode.replaceChild(o, t), _(t, !0);
            }
        }
        var u = o.firstChild,
            c = o.__preactattr_,
            f = e.children;
        if (null == c) {
            c = o.__preactattr_ = {};
            for (var d = o.attributes, p = d.length; p--;) c[d[p].name] = d[p].value
        }
        return !G && f && 1 === f.length && "string" == typeof f[0] && null != u && void 0 !== u.splitText && null == u.nextSibling ? u.nodeValue != f[0] && (u.nodeValue = f[0]) : (f && f.length || null != u) && x(o, f, n, r, G || null != c.dangerouslySetInnerHTML), w(o, e.attributes, c), V = a, o
    }

    function x(t, e, n, r, i) {
        var o, a, s, u, l, f = t.childNodes,
            h = [],
            p = {},
            m = 0,
            v = 0,
            g = f.length,
            A = 0,
            x = e ? e.length : 0;
        if (0 !== g)
            for (var b = 0; b < g; b++) {
                var w = f[b],
                    M = w.__preactattr_,
                    E = x && M ? w._component ? w._component.__key : M.key : null;
                null != E ? (m++, p[E] = w) : (M || (void 0 !== w.splitText ? !i || w.nodeValue.trim() : i)) && (h[A++] = w)
            }
        if (0 !== x)
            for (var b = 0; b < x; b++) {
                u = e[b], l = null;
                var E = u.key;
                if (null != E) m && void 0 !== p[E] && (l = p[E], p[E] = void 0, m--);
                else if (!l && v < A)
                    for (o = v; o < A; o++)
                        if (void 0 !== h[o] && c(a = h[o], u, i)) {
                            l = a, h[o] = void 0, o === A - 1 && A--, o === v && v++;
                            break
                        }
                l = y(l, u, n, r), s = f[b], l && l !== t && l !== s && (null == s ? t.appendChild(l) : l === s.nextSibling ? d(s) : t.insertBefore(l, s))
            }
        if (m)
            for (var b in p) void 0 !== p[b] && _(p[b], !1);
        for (; v <= A;) void 0 !== (l = h[A--]) && _(l, !1)
    }

    function _(t, e) {
        var n = t._component;
        n ? P(n) : (null != t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), !1 !== e && null != t.__preactattr_ || d(t), b(t))
    }

    function b(t) {
        for (t = t.lastChild; t;) {
            var e = t.previousSibling;
            _(t, !0), t = e
        }
    }

    function w(t, e, n) {
        var r;
        for (r in n) e && null != e[r] || null == n[r] || p(t, r, n[r], n[r] = void 0, V);
        for (r in e) "children" === r || "innerHTML" === r || r in n && e[r] === ("value" === r || "checked" === r ? t[r] : n[r]) || p(t, r, n[r], n[r] = e[r], V)
    }

    function M(t) {
        var e = t.constructor.name;
        (H[e] || (H[e] = [])).push(t)
    }

    function E(t, e, n) {
        var r, i = H[t.name];
        if (t.prototype && t.prototype.render ? (r = new t(e, n), R.call(r, e, n)) : (r = new R(e, n), r.constructor = t, r.render = S), i)
            for (var o = i.length; o--;)
                if (i[o].constructor === t) {
                    r.nextBase = i[o].nextBase, i.splice(o, 1);
                    break
                }
        return r
    }

    function S(t, e, n) {
        return this.constructor(t, n)
    }

    function T(t, e, n, r, i) {
        t._disable || (t._disable = !0, (t.__ref = e.ref) && delete e.ref, (t.__key = e.key) && delete e.key, !t.base || i ? t.componentWillMount && t.componentWillMount() : t.componentWillReceiveProps && t.componentWillReceiveProps(e, r), r && r !== t.context && (t.prevContext || (t.prevContext = t.context), t.context = r), t.prevProps || (t.prevProps = t.props), t.props = e, t._disable = !1, 0 !== n && (1 !== n && !1 === O.syncComponentUpdates && t.base ? s(t) : L(t, 1, i)), t.__ref && t.__ref(t))
    }

    function L(t, e, n, r) {
        if (!t._disable) {
            var i, a, s, u = t.props,
                c = t.state,
                l = t.context,
                h = t.prevProps || u,
                d = t.prevState || c,
                p = t.prevContext || l,
                m = t.base,
                v = t.nextBase,
                y = m || v,
                x = t._component,
                b = !1;
            if (m && (t.props = h, t.state = d, t.context = p, 2 !== e && t.shouldComponentUpdate && !1 === t.shouldComponentUpdate(u, c, l) ? b = !0 : t.componentWillUpdate && t.componentWillUpdate(u, c, l), t.props = u, t.state = c, t.context = l), t.prevProps = t.prevState = t.prevContext = t.nextBase = null, t._dirty = !1, !b) {
                i = t.render(u, c, l), t.getChildContext && (l = o(o({}, l), t.getChildContext()));
                var w, M, S = i && i.nodeName;
                if ("function" == typeof S) {
                    var C = f(i);
                    a = x, a && a.constructor === S && C.key == a.__key ? T(a, C, 1, l, !1) : (w = a, t._component = a = E(S, C, l), a.nextBase = a.nextBase || v, a._parentComponent = t, T(a, C, 0, l, !1), L(a, 1, n, !0)), M = a.base
                } else s = y, w = x, w && (s = t._component = null), (y || 1 === e) && (s && (s._component = null), M = A(s, i, l, n || !m, y && y.parentNode, !0));
                if (y && M !== y && a !== x) {
                    var R = y.parentNode;
                    R && M !== R && (R.replaceChild(M, y), w || (y._component = null, _(y, !1)))
                }
                if (w && P(w), t.base = M, M && !r) {
                    for (var D = t, I = t; I = I._parentComponent;)(D = I).base = M;
                    M._component = D, M._componentConstructor = D.constructor
                }
            }
            if (!m || n ? U.unshift(t) : b || (t.componentDidUpdate && t.componentDidUpdate(h, d, p), O.afterUpdate && O.afterUpdate(t)), null != t._renderCallbacks)
                for (; t._renderCallbacks.length;) t._renderCallbacks.pop().call(t);
            z || r || g()
        }
    }

    function C(t, e, n, r) {
        for (var i = t && t._component, o = i, a = t, s = i && t._componentConstructor === e.nodeName, u = s, c = f(e); i && !u && (i = i._parentComponent);) u = i.constructor === e.nodeName;
        return i && u && (!r || i._component) ? (T(i, c, 3, n, r), t = i.base) : (o && !s && (P(o), t = a = null), i = E(e.nodeName, c, n), t && !i.nextBase && (i.nextBase = t, a = null), T(i, c, 1, n, r), t = i.base, a && t !== a && (a._component = null, _(a, !1))), t
    }

    function P(t) {
        O.beforeUnmount && O.beforeUnmount(t);
        var e = t.base;
        t._disable = !0, t.componentWillUnmount && t.componentWillUnmount(), t.base = null;
        var n = t._component;
        n ? P(n) : e && (e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), t.nextBase = e, d(e), M(t), b(e)), t.__ref && t.__ref(null)
    }

    function R(t, e) {
        this._dirty = !0, this.context = e, this.props = t, this.state = this.state || {}
    }

    function D(t, e, n) {
        return A(n, t, {}, !1, e, !1)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), n.d(e, "h", function() {
        return i
    }), n.d(e, "createElement", function() {
        return i
    }), n.d(e, "cloneElement", function() {
        return a
    }), n.d(e, "Component", function() {
        return R
    }), n.d(e, "render", function() {
        return D
    }), n.d(e, "rerender", function() {
        return u
    }), n.d(e, "options", function() {
        return O
    });
    var O = {},
        I = [],
        B = [],
        N = "function" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout,
        k = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,
        F = [],
        U = [],
        z = 0,
        V = !1,
        G = !1,
        H = {};
    o(R.prototype, {
        setState: function(t, e) {
            var n = this.state;
            this.prevState || (this.prevState = o({}, n)), o(n, "function" == typeof t ? t(n, this.props) : t), e && (this._renderCallbacks = this._renderCallbacks || []).push(e), s(this)
        },
        forceUpdate: function(t) {
            t && (this._renderCallbacks = this._renderCallbacks || []).push(t), L(this, 2)
        },
        render: function() {}
    });
    var W = {
        h: i,
        createElement: i,
        cloneElement: a,
        Component: R,
        render: D,
        rerender: u,
        options: O
    };
    e.default = W
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 3');

    e.__esModule = !0, e.default = function(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 4');

    e.__esModule = !0;
    var r = n(170),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.default = function(t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" !== (void 0 === e ? "undefined" : (0, i.default)(e)) && "function" != typeof e ? t : e
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 5');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(543),
        o = r(i),
        a = n(165),
        s = r(a),
        u = n(170),
        c = r(u);
    e.default = function(t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : (0, c.default)(e)));
        t.prototype = (0, s.default)(e && e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), e && (o.default ? (0, o.default)(t, e) : t.__proto__ = e)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 6');

    var r = n(9);
    t.exports = function(t) {
        if (!r(t)) throw TypeError(t + " is not an object!");
        return t
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 7');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(548),
        o = r(i),
        a = n(34),
        s = r(a),
        u = n(86),
        c = r(u),
        l = n(18),
        f = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(l),
        h = n(552),
        d = r(h),
        p = n(553),
        m = r(p),
        v = n(554),
        g = r(v),
        A = n(555),
        y = r(A),
        x = n(54),
        _ = n(10),
        b = r(_),
        w = n(118),
        M = r(w),
        E = n(13),
        S = r(E),
        T = n(55),
        L = r(T),
        C = n(11),
        P = r(C),
        R = n(119),
        D = r(R),
        O = n(48),
        I = n(169),
        B = n(173),
        N = r(B),
        k = function() {
            var t = L.default.aspectRatio,
                e = new f.PerspectiveCamera(70, t, .01, 1e3);
            e.lookAt((0, x.tempVector)(0, 0, 1)), e.position.y = b.default.holeHeight;
            var n = new f.OrthographicCamera(-4 * t, 4 * t, 4, -4, -100, 1e3);
            return n.position.set(.06, .08, .08), n.lookAt((0, x.tempVector)()), {
                default: e,
                orthographic: n
            }
        }(),
        F = new f.Vector3,
        U = 4,
        z = function(t) {
            var e = j(t),
                n = L.default.aspectRatio;
            if (e !== U || void 0 !== n) {
                var r = 4 + (S.default.isMobile ? e : 3 * e),
                    i = k.orthographic;
                i.left = -r * n, i.right = r * n, i.top = r, i.bottom = -r, i.updateProjectionMatrix(), U = e
            }
        },
        V = void 0,
        G = void 0,
        H = void 0,
        W = void 0,
        j = function(t) {
            return -.5 * (Math.cos(Math.PI * t) - 1)
        },
        Q = new f.Fog(O.backgroundColor, 10, 200),
        q = function() {
            var t = new f.Scene,
                e = new f.DirectionalLight(16777215);
            e.position.set(-1.42, 1.86, .74).normalize();
            var n = new f.AmbientLight(4473924, .7),
                r = new f.HemisphereLight(6316128, 4210752);
            return t.add(r, e, n), t.fog = Q, t
        },
        X = q(),
        Y = function(t) {
            var e = t.width,
                n = t.height,
                r = t.aspectRatio,
                i = k.orthographic;
            (0, s.default)(i, {
                left: -4 * r,
                right: 4 * r
            }), G.setSize(e, n), V.domElement.style.width = e + "px", V.domElement.style.height = n + "px", (0, o.default)(k).forEach(function(t) {
                t.aspect = r, t.updateProjectionMatrix()
            })
        },
        Z = (0, s.default)((0, c.default)(), {
            camera: k.orthographic,
            cameras: k,
            cameraWorldPos: F,
            createScene: q,
            scene: X,
            renderScene: X,
            controllers: [{}, {}],
            controls: H,
            renderer: V,
            fog: Q,
            stopAnimating: function() {
                Z.animating = !1
            },
            startAnimating: function() {
                Z.animating = !0, Z.animate()
            },
            isOrthographic: !0,
            animate: function(t, e) {
              var n = W.getDelta();
              // console.log('get delta', n);
              Z.animating && G.requestAnimationFrame(Z.animate);
              S.default.has6DOF && f.VRController.update();
              S.default.isIODaydream && Z.daydreamController.update();
              G.isPresenting && H.update();
              P.default.tick(e);
              D.default.clear();
              Z.emit("tick", n);
              F.setFromMatrixPosition(Z.camera.matrixWorld);
              z(P.default.progress > 21 ? .33333 * Math.min(3, P.default.progress - 21) : 0);

              if (void 0 === e) {
                G.render(Z.renderScene, Z.camera);
                G.isPresenting && S.default.hasExternalDisplay && V.render(Z.renderScene, Z.camera);
                Z.emit("render", n);
                b.default.stats && (0, y.default)(V);
              }
            },
            prepare: function() {
                W = new f.Clock, W.start(), (0, d.default)(f), (0, m.default)(f), (0, g.default)(f), Z.renderer = V = new f.WebGLRenderer({
                    antialias: !0
                }), V.setClearColor(O.backgroundColor), V.setPixelRatio(Math.min(window.devicePixelRatio, b.default.maxPixelRatio)), V.setSize(L.default.width, L.default.height), V.sortObjects = !1;
                var t = document.createElement("div");
                t.className = "viewer", t.appendChild(V.domElement), document.body.appendChild(t), Z.vrEffect = G = new f.VREffect(V), Z.vrEffect.setLogging(b.default.logging);
                var e = I.queryData.res || 1;
                Z.vrEffect.setVRResolutionRatio(e);
                var n = S.default.isMobile ? .9 : 1,
                    r = I.queryData.fov || n;
                Z.vrEffect.setFOVRenderRatio(r), Z.controls = H = new f.VRControls(k.default), H.standing = !0, window.addEventListener("vrdisplaypresentchange", function() {
                    Z.emit("vr-present-change", G.isPresenting), G.isPresenting || (Z.switchCamera("orthographic"), N.default.enable())
                }, !1), L.default.on("resize", Y, !1)
            },
            exitPresent: function() {
                G.isPresenting && (G.exitPresent(), Z.switchCamera("orthographic"))
            },
            enterPresent: function() {
                G.isPresenting || (S.default.isMobile && (S.default.vrPolyfill ? (G.getVRDisplay().wakelock_ = {
                    request: function() {},
                    release: function() {}
                }, N.default.enable()) : N.default.disable()), G.requestPresent(), setTimeout(function() {
                    Z.switchCamera("default")
                }, 10))
            },
            toggleVR: function() {
                G.isPresenting ? Z.exitPresent() : Z.enterPresent()
            },
            switchCamera: function(t) {
                var e = Z.isOrthographic = "orthographic" === t;
                M.default.switch(e ? t : "perspective"), Z.camera = k[t]
            },
            vrEffect: G
        });
    e.default = Z
}, function(t, e) {
    console.log('--------------------------------run 8');

    var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}, function(t, e) {
    console.log('--------------------------------run 9');

    t.exports = function(t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}, function(t, e) {
    console.log('--------------------------------run 10');

    t.exports = function(t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 11');

    e.__esModule = !0;
    var r = n(169);
    e.default = {
        roomDepth: 6,
        roomHeight: 6,
        roomWidth: 5,
        roomOffset: 6 * -.2,
        holeHeight: 1.6,
        holeRadius: .18,
        sphereRadius: .162,
        loopCount: 28,
        roomCount: 19,
        maxLayerCount: 20,
        totalLoopCount: 29,
        playlistsUrl: "https://storage.googleapis.com/you-move-me.appspot.com/playlists/",
        colorTimes: [184.734288, 186.80405, 188.837803, 190.804763, 191.688472, 192.238635, 192.820638, 194.788529, 196.83769, 198.822996, 199.722769, 200.289696, 200.806389, 202.840048, 204.790524, 206.671341, 207.190921, 207.722044, 208.191224, 208.491519, 208.824357, 210.824968, 212.807214, 216.824266],
        dropTime: 216.624266,
        loopDuration: 8,
        shouldCull: void 0 === r.queryData.cull || r.queryData.cull,
        cullDistance: 18,
        minCullDistance: 18,
        maxCullDistance: 48,
        useShadow: void 0 === r.queryData.shadows || r.queryData.shadows,
        maxPixelRatio: r.queryData.dpr || 4,
        stats: /fps/.test(window.location.hash) || r.queryData.fps,
        assetsURL: "https://storage.googleapis.com/you-move-me.appspot.com/assets/",
        logging: void 0 !== r.queryData.log && r.queryData.log
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 12');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(23),
        s = r(a),
        u = n(20),
        c = r(u),
        l = n(34),
        f = r(l),
        h = n(86),
        d = r(h),
        p = n(236),
        m = r(p),
        v = n(13),
        g = r(v),
        A = n(76),
        y = n(10),
        x = r(y),
        _ = n(547),
        b = r(_),
        w = n(6),
        M = r(w),
        E = window.AudioContext || window.webkitAudioContext,
        S = void 0,
        T = void 0,
        L = void 0,
        C = void 0,
        P = void 0,
        R = 0,
        D = 0,
        O = void 0,
        I = 0,
        B = void 0,
        N = void 0,
        k = void 0,
        F = void 0,
        U = void 0,
        z = void 0,
        V = void 0,
        G = void 0,
        H = void 0,
        W = !1,
        j = g.default.isMobile && !g.default.isIOs ? .1 : .05,
        Q = void 0,
        q = (0, f.default)((0, d.default)(), {
            tick: function(t) {
                if (S && R && (!k || 2 !== k.readyState)) {
                    var e = Date.now(),
                        n = void 0 !== t;
                    if (!n && 0 === (O = (k ? k.currentTime : S.currentTime - N) % q.duration)) return void(B = e);
                    if (this.time = n ? t : (H || e - B) / 1e3, !n) {
                        var r = this.time - O;
                        if (Math.abs(r) > j) {
                            this.time = O, B = e - 1e3 * O
                        }
                    }
                    var i = x.default.loopDuration,
                        o = this.time;
                    this.progress = o > 0 ? o / i : 0, this.loopProgress = o % i / i, this.looped = o < D && Math.abs(o - D) > .9 * q.duration, this.looped && (this.loopIndex = Math.floor(this.progress * P), this.loopCount++), this.totalProgress = this.loopCount * P + this.progress, this.totalTime = this.totalProgress * i, D = o, this.totalProgress - I > 1 && (I = Math.floor(this.totalProgress), this.emit("loop", I))
                }
            },
            load: function(t) {
                var e = this;
                return new c.default(function() {
                    var n = (0, s.default)(o.default.mark(function n(r, i) {
                        var a, s;
                        return o.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                                case 0:
                                    q.reset(), S = new E, L = S.createGain(), C = S.createBiquadFilter(), C.type = "lowpass", C.frequency.value = 14e3, C.Q.value = 2, D = 0, I = 0, P = void 0 === t.loops ? 1 : t.loops, e.loopCount = 0, a = function() {
                                        e.duration = R, L.gain.setValueAtTime(1e-4, S.currentTime), q.fadeIn(), r(t.src)
                                    }, t.loopOffset && (e.loopOffset = t.loopOffset), t.progressive ? (k = g.default.isMobile ? m.default.get() : new Audio, k.addEventListener("ended", function() {
                                        return q.emit("ended")
                                    }), k.autoplay = !0, k.src = t.src, k.crossOrigin = "anonymous", k.loop = void 0 === t.loop || t.loop, s = function() {
                                        return 1e3 * k.currentTime
                                    }, U = function() {
                                        ! function t() {
                                            R = k.duration, 0 === R ? setTimeout(t, 5) : a()
                                        }(), k.removeEventListener("canplaythrough", U)
                                    }, z = function() {
                                        e.paused = !0, H = s(), e.emit("pause")
                                    }, V = function() {
                                        e.paused = !1, H = null, e.emit("play")
                                    }, G = function() {
                                        B = Date.now() - s(), H && (H = s()), e.time = k.currentTime, z()
                                    }, k.addEventListener("canplaythrough", U), k.addEventListener("pause", z), k.addEventListener("playing", V), k.addEventListener("seeking", G), T = S.createMediaElementSource(k)) : (T = S.createBufferSource(), F = new XMLHttpRequest, F.open("GET", t.src, !0), F.responseType = "arraybuffer", F.onload = function() {
                                        S.decodeAudioData(F.response, function(e) {
                                            T.buffer = e, R = T.buffer.duration, T.loop = void 0 === t.loop || t.loop, T.start(0), N = S.currentTime, B = Date.now(), a()
                                        }, i)
                                    }, F.send()), T.connect(L), L.connect(S.destination), W && e.mute();
                                case 17:
                                case "end":
                                    return n.stop()
                            }
                        }, n, e)
                    }));
                    return function(t, e) {
                        return n.apply(this, arguments)
                    }
                }())
            },
            play: function() {
                this.paused = !1, S && S.resume(), k && k.play(), !W && L.gain.value < 1 && q.fadeIn()
            },
            pause: function() {
                this.paused = !0, S && S.suspend(), k && k.pause()
            },
            toggle: function() {
                this[this.paused ? "play" : "pause"]()
            },
            gotoTime: function(t) {
                k.currentTime = t, this.tick()
            },
            previousLoop: function() {
                var t = (Math.round(this.progress) - 1.1) * x.default.loopDuration;
                this.gotoTime(Math.max(0, Math.min(this.duration, t)))
            },
            nextLoop: function() {
                var t = (Math.round(this.progress) + .9) * x.default.loopDuration;
                this.gotoTime(Math.max(0, Math.min(this.duration, t)))
            },
            resetValues: function() {
                this.progress = 0, this.time = 0, this.totalTime = 0, this.loopProgress = 0, this.totalProgress = 0, this.looped = !1, R = 0, D = null
            },
            reset: function() {
                S && S.close(), q.resetValues(), k && (k.removeEventListener("canplaythrough", U), k.removeEventListener("pause", z), k.removeEventListener("playing", V), k.removeEventListener("seeking", G), k.pause(), k = null, U = null), F && (F.abort(), F.onload = null, F = null), H = N = null, B = 0
            },
            rewind: function() {
                k && (k.currentTime = 0, L.gain.value = W ? 1e-4 : 1)
            },
            mute: function() {
                Q && L.gain.cancelScheduledValues(Q), L.gain.value = 1e-4, k && (k.muted = !0)
            },
            unmute: function() {
                Q && L.gain.cancelScheduledValues(Q), L.gain.value = 1, k && (k.muted = !1)
            },
            isMuted: function() {
                return W
            },
            toggleMute: function() {
                return this[W ? "unmute" : "mute"](), W = !W
            },
            dim: function() {
                var t = this,
                    e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                return (0, s.default)(o.default.mark(function n() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (S) {
                                    t.next = 2;
                                    break
                                }
                                return t.abrupt("return");
                            case 2:
                                return T.disconnect(), T.connect(C), C.connect(L), e ? C.frequency.value = 6600 : q.fade(2, 6600, C.frequency), t.next = 8, q.fade(1, .85);
                            case 8:
                            case "end":
                                return t.stop()
                        }
                    }, n, t)
                }))()
            },
            undim: function() {
                var t = this,
                    e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                return (0, s.default)(o.default.mark(function n() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (S) {
                                    t.next = 2;
                                    break
                                }
                                return t.abrupt("return");
                            case 2:
                                return e ? C.frequency.value = 14e3 : q.fade(2, 14e3, C.frequency), t.next = 5, q.fade(1, 1);
                            case 5:
                                C.disconnect(), T.disconnect(), T.connect(L);
                            case 8:
                            case "end":
                                return t.stop()
                        }
                    }, n, t)
                }))()
            },
            fadeOut: function() {
                var t = this,
                    e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 2;
                return (0, s.default)(o.default.mark(function n() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, q.fade(e, 1e-4);
                            case 2:
                            case "end":
                                return t.stop()
                        }
                    }, n, t)
                }))()
            },
            fadeIn: function() {
                var t = this,
                    e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                return (0, s.default)(o.default.mark(function n() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, q.fade(e, 1);
                            case 2:
                            case "end":
                                return t.stop()
                        }
                    }, n, t)
                }))()
            },
            fade: function(t, e) {
                var n = this,
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : L.gain;
                return (0, s.default)(o.default.mark(function i() {
                    return o.default.wrap(function(n) {
                        for (;;) switch (n.prev = n.next) {
                            case 0:
                                if (S && !W) {
                                    n.next = 2;
                                    break
                                }
                                return n.abrupt("return");
                            case 2:
                                return Q && r.cancelScheduledValues(Q), Q = S.currentTime, L.gain.setValueAtTime(r.value, S.currentTime), r.exponentialRampToValueAtTime(e, Q + t), n.abrupt("return", (0, A.sleep)(1e3 * t));
                            case 7:
                            case "end":
                                return n.stop()
                        }
                    }, i, n)
                }))()
            },
            time: 0,
            loopIndex: 0
        });
    q.resetValues(), b.default.on("change", function(t) {
        q[t ? "play" : "pause"]()
    }), g.default.isSamsungInternet && M.default.on("vr-present-change", function() {
        setTimeout(function() {
            return q.play()
        }, 500)
    }), e.default = q
}, function(t, e, n) {
    console.log('--------------------------------run 13');

    var r = n(104)("wks"),
        i = n(66),
        o = n(7).Symbol,
        a = "function" == typeof o;
    (t.exports = function(t) {
        return r[t] || (r[t] = a && o[t] || (a ? o : i)("Symbol." + t))
    }).store = r
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 14');

    e.__esModule = !0;
    var r = n(20),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        o = navigator.userAgent,
        a = void 0 !== navigator.getVRDisplays,
        s = function() {
            return new i.default(function(t) {
                if (!a) return void t(!1);
                var e = [];
                if (e.push(navigator.getVRDisplays()), f) {
                    var n = new i.default(function(t) {
                        setTimeout(function() {
                            t([])
                        }, 2e3)
                    });
                    e.push(n)
                }
                i.default.race(e).then(function(e) {
                    t(e)
                }).catch(function(e) {
                    console.log(e), t(!1)
                })
            })
        },
        u = function() {
            return new i.default(function(t) {
                if (!a) return void t(!1);
                s().then(function(e) {
                    t(!!e[0] && !!e[0].capabilities && !!e[0].capabilities.hasExternalDisplay)
                }).catch(function(e) {
                    console.log(e), t(!1)
                })
            })
        },
        c = function() {
            return new i.default(function(t) {
                if (!a && !g) return void t(!1);
                s().then(function(e) {
                    t(0 === e.length ? !1 : !0)
                }).catch(function(e) {
                    console.log(e), t(!1)
                })
            })
        },
        l = function() {
            return new i.default(function(t) {
                if (!a) return void t(!1);
                s().then(function(e) {
                    t(!!e[0] && !!e[0].capabilities && !!e[0].capabilities.hasPosition)
                }).catch(function(e) {
                    console.log(e), t(!1)
                })
            })
        },
        f = /android/i.test(o),
        h = /iphone|ipod|ipad/i.test(o),
        d = h || /android|iemobile/i.test(o),
        p = /safari/i.test(o) && !/chrome|chromium/i.test(o),
        m = /SamsungBrowser/i.test(o),
        v = f && !/mobile/i.test(o) || /ipad/i.test(o),
        g = d && !v && !f && void 0 === navigator.getVRDisplays,
        A = /Edge/i.test(o),
        y = {
            isIOs: h,
            isMobile: d,
            isTablet: v,
            isAndroid: f,
            isSamsungInternet: m,
            isMSEdge: A,
            isChrome: /chrome|chromium/i.test(o) && !A,
            isSafari: p,
            vrPolyfill: g,
            hasWebGL: function() {
                var t = document.createElement("canvas"),
                    e = t.getContext("webgl") || t.getContext("experimental-webgl");
                return e && e instanceof WebGLRenderingContext
            }(),
            hasWebVR: a,
            prepare: function() {
                return i.default.all([c().then(function(t) {
                    y.hasVR = t
                }), s().then(function(t) {
                    if (y.vrDisplays = t.length, t && t.length > 0) {
                        y.vrDisplay = t[0];
                        var e = t[0].displayName;
                        y.isDaydream = /daydream/i.test(e), y.isVive = /vive/i.test(e), y.isOculus = /oculus/i.test(e), y.isCardboard = y.isMobile && !y.isDaydream
                    }
                }), u().then(function(t) {
                    y.hasExternalDisplay = t
                }), l().then(function(t) {
                    y.has6DOF = t
                })])
            }
        };
    e.default = y
}, function(t, e, n) {
    console.log('--------------------------------run 15');

    t.exports = !n(8)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(t, e, n) {
    console.log('--------------------------------run 16');

    var r = n(5),
        i = n(198),
        o = n(43),
        a = Object.defineProperty;
    e.f = n(14) ? Object.defineProperty : function(t, e, n) {
        if (r(t), e = o(e, !0), r(n), i) try {
            return a(t, e, n)
        } catch (t) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
        return "value" in n && (t[e] = n.value), t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 17');

    var r = n(45),
        i = Math.min;
    t.exports = function(t) {
        return t > 0 ? i(r(t), 9007199254740991) : 0
    }
}, function(t, e) {
    console.log('--------------------------------run 18');

    var n = t.exports = {
        version: "2.5.1"
    };
    "number" == typeof __e && (__e = n)
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 19');

    (function(t) {
        function r(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function i() {}

        function o(t, e) {
            this.x = t || 0, this.y = e || 0
        }

        function a(t, e, n, r, i, s, u, c, l, f) {
            Object.defineProperty(this, "id", {
                value: qi++
            }), this.uuid = Qi.generateUUID(), this.name = "", this.image = void 0 !== t ? t : a.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== e ? e : a.DEFAULT_MAPPING, this.wrapS = void 0 !== n ? n : Jr, this.wrapT = void 0 !== r ? r : Jr, this.magFilter = void 0 !== i ? i : ni, this.minFilter = void 0 !== s ? s : ii, this.anisotropy = void 0 !== l ? l : 1, this.format = void 0 !== u ? u : yi, this.type = void 0 !== c ? c : oi, this.offset = new o(0, 0), this.repeat = new o(1, 1), this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = void 0 !== f ? f : ki, this.version = 0, this.onUpdate = null
        }

        function s(t, e, n, r) {
            this.x = t || 0, this.y = e || 0, this.z = n || 0, this.w = void 0 !== r ? r : 1
        }

        function u(t, e, n) {
            this.uuid = Qi.generateUUID(), this.width = t, this.height = e, this.scissor = new s(0, 0, t, e), this.scissorTest = !1, this.viewport = new s(0, 0, t, e), n = n || {}, void 0 === n.minFilter && (n.minFilter = ni), this.texture = new a(void 0, void 0, n.wrapS, n.wrapT, n.magFilter, n.minFilter, n.format, n.type, n.anisotropy, n.encoding), this.depthBuffer = void 0 === n.depthBuffer || n.depthBuffer, this.stencilBuffer = void 0 === n.stencilBuffer || n.stencilBuffer, this.depthTexture = void 0 !== n.depthTexture ? n.depthTexture : null
        }

        function c(t, e, n) {
            u.call(this, t, e, n), this.activeCubeFace = 0, this.activeMipMapLevel = 0
        }

        function l(t, e, n, r) {
            this._x = t || 0, this._y = e || 0, this._z = n || 0, this._w = void 0 !== r ? r : 1
        }

        function f(t, e, n) {
            this.x = t || 0, this.y = e || 0, this.z = n || 0
        }

        function h() {
            this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
        }

        function d(t, e, n, r, i, o, s, u, c, l, f, h) {
            a.call(this, null, o, s, u, c, l, r, i, f, h), this.image = {
                data: t,
                width: e,
                height: n
            }, this.magFilter = void 0 !== c ? c : $r, this.minFilter = void 0 !== l ? l : $r, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1
        }

        function p(t, e, n, r, i, o, s, u, c, l) {
            t = void 0 !== t ? t : [], e = void 0 !== e ? e : Hr, a.call(this, t, e, n, r, i, o, s, u, c, l), this.flipY = !1
        }

        function m() {
            this.seq = [], this.map = {}
        }

        function v(t, e, n) {
            var r = t[0];
            if (r <= 0 || r > 0) return t;
            var i = e * n,
                o = Zi[i];
            if (void 0 === o && (o = new Float32Array(i), Zi[i] = o), 0 !== e) {
                r.toArray(o, 0);
                for (var a = 1, s = 0; a !== e; ++a) s += n, t[a].toArray(o, s)
            }
            return o
        }

        function g(t, e) {
            var n = Ji[e];
            void 0 === n && (n = new Int32Array(e), Ji[e] = n);
            for (var r = 0; r !== e; ++r) n[r] = t.allocTextureUnit();
            return n
        }

        function A(t, e) {
            t.uniform1f(this.addr, e)
        }

        function y(t, e) {
            t.uniform1i(this.addr, e)
        }

        function x(t, e) {
            void 0 === e.x ? t.uniform2fv(this.addr, e) : t.uniform2f(this.addr, e.x, e.y)
        }

        function _(t, e) {
            void 0 !== e.x ? t.uniform3f(this.addr, e.x, e.y, e.z) : void 0 !== e.r ? t.uniform3f(this.addr, e.r, e.g, e.b) : t.uniform3fv(this.addr, e)
        }

        function b(t, e) {
            void 0 === e.x ? t.uniform4fv(this.addr, e) : t.uniform4f(this.addr, e.x, e.y, e.z, e.w)
        }

        function w(t, e) {
            t.uniformMatrix2fv(this.addr, !1, e.elements || e)
        }

        function M(t, e) {
            void 0 === e.elements ? t.uniformMatrix3fv(this.addr, !1, e) : ($i.set(e.elements), t.uniformMatrix3fv(this.addr, !1, $i))
        }

        function E(t, e) {
            void 0 === e.elements ? t.uniformMatrix4fv(this.addr, !1, e) : (Ki.set(e.elements), t.uniformMatrix4fv(this.addr, !1, Ki))
        }

        function S(t, e, n) {
            var r = n.allocTextureUnit();
            t.uniform1i(this.addr, r), n.setTexture2D(e || Xi, r)
        }

        function T(t, e, n) {
            var r = n.allocTextureUnit();
            t.uniform1i(this.addr, r), n.setTextureCube(e || Yi, r)
        }

        function L(t, e) {
            t.uniform2iv(this.addr, e)
        }

        function C(t, e) {
            t.uniform3iv(this.addr, e)
        }

        function P(t, e) {
            t.uniform4iv(this.addr, e)
        }

        function R(t) {
            switch (t) {
                case 5126:
                    return A;
                case 35664:
                    return x;
                case 35665:
                    return _;
                case 35666:
                    return b;
                case 35674:
                    return w;
                case 35675:
                    return M;
                case 35676:
                    return E;
                case 35678:
                    return S;
                case 35680:
                    return T;
                case 5124:
                case 35670:
                    return y;
                case 35667:
                case 35671:
                    return L;
                case 35668:
                case 35672:
                    return C;
                case 35669:
                case 35673:
                    return P
            }
        }

        function D(t, e) {
            t.uniform1fv(this.addr, e)
        }

        function O(t, e) {
            t.uniform1iv(this.addr, e)
        }

        function I(t, e) {
            t.uniform2fv(this.addr, v(e, this.size, 2))
        }

        function B(t, e) {
            t.uniform3fv(this.addr, v(e, this.size, 3))
        }

        function N(t, e) {
            t.uniform4fv(this.addr, v(e, this.size, 4))
        }

        function k(t, e) {
            t.uniformMatrix2fv(this.addr, !1, v(e, this.size, 4))
        }

        function F(t, e) {
            t.uniformMatrix3fv(this.addr, !1, v(e, this.size, 9))
        }

        function U(t, e) {
            t.uniformMatrix4fv(this.addr, !1, v(e, this.size, 16))
        }

        function z(t, e, n) {
            var r = e.length,
                i = g(n, r);
            t.uniform1iv(this.addr, i);
            for (var o = 0; o !== r; ++o) n.setTexture2D(e[o] || Xi, i[o])
        }

        function V(t, e, n) {
            var r = e.length,
                i = g(n, r);
            t.uniform1iv(this.addr, i);
            for (var o = 0; o !== r; ++o) n.setTextureCube(e[o] || Yi, i[o])
        }

        function G(t) {
            switch (t) {
                case 5126:
                    return D;
                case 35664:
                    return I;
                case 35665:
                    return B;
                case 35666:
                    return N;
                case 35674:
                    return k;
                case 35675:
                    return F;
                case 35676:
                    return U;
                case 35678:
                    return z;
                case 35680:
                    return V;
                case 5124:
                case 35670:
                    return O;
                case 35667:
                case 35671:
                    return L;
                case 35668:
                case 35672:
                    return C;
                case 35669:
                case 35673:
                    return P
            }
        }

        function H(t, e, n) {
            this.id = t, this.addr = n, this.setValue = R(e.type)
        }

        function W(t, e, n) {
            this.id = t, this.addr = n, this.size = e.size, this.setValue = G(e.type)
        }

        function j(t) {
            this.id = t, m.call(this)
        }

        function Q(t, e) {
            t.seq.push(e), t.map[e.id] = e
        }

        function q(t, e, n) {
            var r = t.name,
                i = r.length;
            for (to.lastIndex = 0;;) {
                var o = to.exec(r),
                    a = to.lastIndex,
                    s = o[1],
                    u = "]" === o[2],
                    c = o[3];
                if (u && (s |= 0), void 0 === c || "[" === c && a + 2 === i) {
                    Q(n, void 0 === c ? new H(s, t, e) : new W(s, t, e));
                    break
                }
                var l = n.map,
                    f = l[s];
                void 0 === f && (f = new j(s), Q(n, f)), n = f
            }
        }

        function X(t, e, n) {
            m.call(this), this.renderer = n;
            for (var r = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), i = 0; i < r; ++i) {
                var o = t.getActiveUniform(e, i),
                    a = o.name;
                q(o, t.getUniformLocation(e, a), this)
            }
        }

        function Y(t, e, n) {
            return void 0 === e && void 0 === n ? this.set(t) : this.setRGB(t, e, n)
        }

        function Z() {
            Object.defineProperty(this, "id", {
                value: ao++
            }), this.uuid = Qi.generateUUID(), this.name = "", this.type = "Material", this.fog = !0, this.lights = !0, this.blending = ar, this.side = Kn, this.shading = nr, this.vertexColors = rr, this.opacity = 1, this.transparent = !1, this.blendSrc = xr, this.blendDst = _r, this.blendEquation = fr, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = Pr, this.depthTest = !0, this.depthWrite = !0, this.clippingPlanes = null, this.clipIntersection = !1, this.clipShadows = !1, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = !1, this.alphaTest = 0, this.premultipliedAlpha = !1, this.overdraw = 0, this.visible = !0, this.needsUpdate = !0
        }

        function J(t) {
            Z.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}", this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}", this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.extensions = {
                derivatives: !1,
                fragDepth: !1,
                drawBuffers: !1,
                shaderTextureLOD: !1
            }, this.defaultAttributeValues = {
                color: [1, 1, 1],
                uv: [0, 0],
                uv2: [0, 0]
            }, this.index0AttributeName = void 0, void 0 !== t && (void 0 !== t.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."), this.setValues(t))
        }

        function K(t) {
            Z.call(this), this.type = "MeshDepthMaterial", this.depthPacking = Wi, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.setValues(t)
        }

        function $(t, e) {
            this.min = void 0 !== t ? t : new f(1 / 0, 1 / 0, 1 / 0), this.max = void 0 !== e ? e : new f(-1 / 0, -1 / 0, -1 / 0)
        }

        function tt(t, e) {
            this.center = void 0 !== t ? t : new f, this.radius = void 0 !== e ? e : 0
        }

        function et() {
            this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1], arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
        }

        function nt(t, e) {
            this.normal = void 0 !== t ? t : new f(1, 0, 0), this.constant = void 0 !== e ? e : 0
        }

        function rt(t, e, n, r, i, o) {
            this.planes = [void 0 !== t ? t : new nt, void 0 !== e ? e : new nt, void 0 !== n ? n : new nt, void 0 !== r ? r : new nt, void 0 !== i ? i : new nt, void 0 !== o ? o : new nt]
        }

        function it(t, e, n, r) {
            function i(e, n, r, i) {
                var o = e.geometry,
                    a = null,
                    s = w,
                    u = e.customDepthMaterial;
                if (r && (s = M, u = e.customDistanceMaterial), u) a = u;
                else {
                    var c = !1;
                    n.morphTargets && (o && o.isBufferGeometry ? c = o.morphAttributes && o.morphAttributes.position && o.morphAttributes.position.length > 0 : o && o.isGeometry && (c = o.morphTargets && o.morphTargets.length > 0)), e.isSkinnedMesh && !1 === n.skinning && console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:", e);
                    var l = e.isSkinnedMesh && n.skinning,
                        f = 0;
                    c && (f |= x), l && (f |= _), a = s[f]
                }
                if (t.localClippingEnabled && !0 === n.clipShadows && 0 !== n.clippingPlanes.length) {
                    var h = a.uuid,
                        d = n.uuid,
                        p = E[h];
                    void 0 === p && (p = {}, E[h] = p);
                    var m = p[d];
                    void 0 === m && (m = a.clone(), p[d] = m), a = m
                }
                a.visible = n.visible, a.wireframe = n.wireframe;
                var v = n.side;
                return k.renderSingleSided && v == tr && (v = Kn), k.renderReverseSided && (v === Kn ? v = $n : v === $n && (v = Kn)), a.side = v, a.clipShadows = n.clipShadows, a.clippingPlanes = n.clippingPlanes, a.wireframeLinewidth = n.wireframeLinewidth, a.linewidth = n.linewidth, r && void 0 !== a.uniforms.lightPos && a.uniforms.lightPos.value.copy(i), a
            }

            function a(e, r, o, s) {
                if (!1 !== e.visible) {
                    if (e.layers.test(r.layers) && (e.isMesh || e.isLine || e.isPoints) && e.castShadow && (!e.frustumCulled || d.intersectsObject(e))) {
                        e.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse, e.matrixWorld);
                        var u = n.update(e),
                            c = e.material;
                        if (Array.isArray(c))
                            for (var l = u.groups, f = 0, h = l.length; f < h; f++) {
                                var p = l[f],
                                    m = c[p.materialIndex];
                                if (m && m.visible) {
                                    var v = i(e, m, s, y);
                                    t.renderBufferDirect(o, null, u, v, e, p)
                                }
                            } else if (c.visible) {
                                var v = i(e, c, s, y);
                                t.renderBufferDirect(o, null, u, v, e, null)
                            }
                    }
                    for (var g = e.children, A = 0, x = g.length; A < x; A++) a(g[A], r, o, s)
                }
            }
            var c = t.context,
                l = t.state,
                d = new rt,
                p = new h,
                m = e.shadows,
                v = new o,
                g = new o(r.maxTextureSize, r.maxTextureSize),
                A = new f,
                y = new f,
                x = 1,
                _ = 2,
                b = 1 + (x | _),
                w = new Array(b),
                M = new Array(b),
                E = {},
                S = [new f(1, 0, 0), new f(-1, 0, 0), new f(0, 0, 1), new f(0, 0, -1), new f(0, 1, 0), new f(0, -1, 0)],
                T = [new f(0, 1, 0), new f(0, 1, 0), new f(0, 1, 0), new f(0, 1, 0), new f(0, 0, 1), new f(0, 0, -1)],
                L = [new s, new s, new s, new s, new s, new s],
                C = new K;
            C.depthPacking = ji, C.clipping = !0;
            for (var P = oo.distanceRGBA, R = ro.clone(P.uniforms), D = 0; D !== b; ++D) {
                var O = 0 != (D & x),
                    I = 0 != (D & _),
                    B = C.clone();
                B.morphTargets = O, B.skinning = I, w[D] = B;
                var N = new J({
                    defines: {
                        USE_SHADOWMAP: ""
                    },
                    uniforms: R,
                    vertexShader: P.vertexShader,
                    fragmentShader: P.fragmentShader,
                    morphTargets: O,
                    skinning: I,
                    clipping: !0
                });
                M[D] = N
            }
            var k = this;
            this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = Zn, this.renderReverseSided = !0, this.renderSingleSided = !0, this.render = function(e, n) {
                if (!1 !== k.enabled && (!1 !== k.autoUpdate || !1 !== k.needsUpdate) && 0 !== m.length) {
                    l.disable(c.BLEND), l.buffers.color.setClear(1, 1, 1, 1), l.buffers.depth.setTest(!0), l.setScissorTest(!1);
                    for (var r, i, o = 0, s = m.length; o < s; o++) {
                        var f = m[o],
                            h = f.shadow;
                        if (void 0 !== h) {
                            h.isSpotLightShadow && h.update(f);
                            var x = h.camera,
                                _ = h.matrix;
                            if (y.setFromMatrixPosition(f.matrixWorld), x.position.copy(y), v.copy(h.mapSize), v.min(g), f && f.isPointLight) {
                                r = 6, i = !0;
                                var b = v.x,
                                    w = v.y;
                                L[0].set(2 * b, w, b, w), L[1].set(0, w, b, w), L[2].set(3 * b, w, b, w), L[3].set(b, w, b, w), L[4].set(3 * b, 0, b, w), L[5].set(b, 0, b, w), v.x *= 4, v.y *= 2, _.makeTranslation(-y.x, -y.y, -y.z)
                            } else r = 1, i = !1, A.setFromMatrixPosition(f.target.matrixWorld), x.lookAt(A), x.updateMatrixWorld(), x.matrixWorldInverse.getInverse(x.matrixWorld), _.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), _.multiply(x.projectionMatrix), _.multiply(x.matrixWorldInverse);
                            if (null === h.map) {
                                var M = {
                                    minFilter: $r,
                                    magFilter: $r,
                                    format: yi
                                };
                                h.map = new u(v.x, v.y, M), h.map.texture.name = f.name + ".shadowMap", x.updateProjectionMatrix()
                            }
                            var E = h.map;
                            t.setRenderTarget(E), t.clear();
                            for (var C = 0; C < r; C++) {
                                if (i) {
                                    A.copy(x.position), A.add(S[C]), x.up.copy(T[C]), x.lookAt(A), x.updateMatrixWorld(), x.matrixWorldInverse.getInverse(x.matrixWorld);
                                    var P = L[C];
                                    l.viewport(P)
                                }
                                p.multiplyMatrices(x.projectionMatrix, x.matrixWorldInverse), d.setFromMatrix(p), a(e, n, x, i)
                            }
                        } else console.warn("THREE.WebGLShadowMap:", f, "has no shadow.")
                    }
                    var R = t.getClearColor(),
                        D = t.getClearAlpha();
                    t.setClearColor(R, D), k.needsUpdate = !1
                }
            }
        }

        function ot(t, e) {
            this.origin = void 0 !== t ? t : new f, this.direction = void 0 !== e ? e : new f
        }

        function at(t, e, n, r) {
            this._x = t || 0, this._y = e || 0, this._z = n || 0, this._order = r || at.DefaultOrder
        }

        function st() {
            this.mask = 1
        }

        function ut() {
            function t() {
                i.setFromEuler(r, !1)
            }

            function e() {
                r.setFromQuaternion(i, void 0, !1)
            }
            Object.defineProperty(this, "id", {
                value: so++
            }), this.uuid = Qi.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = ut.DefaultUp.clone();
            var n = new f,
                r = new at,
                i = new l,
                o = new f(1, 1, 1);
            r.onChange(t), i.onChange(e), (0, Bn.default)(this, {
                position: {
                    enumerable: !0,
                    value: n
                },
                rotation: {
                    enumerable: !0,
                    value: r
                },
                quaternion: {
                    enumerable: !0,
                    value: i
                },
                scale: {
                    enumerable: !0,
                    value: o
                },
                modelViewMatrix: {
                    value: new h
                },
                normalMatrix: {
                    value: new et
                }
            }), this.matrix = new h, this.matrixWorld = new h, this.matrixAutoUpdate = ut.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new st, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {}, this.onBeforeRender = function() {}, this.onAfterRender = function() {}
        }

        function ct(t, e) {
            this.start = void 0 !== t ? t : new f, this.end = void 0 !== e ? e : new f
        }

        function lt(t, e, n) {
            this.a = void 0 !== t ? t : new f, this.b = void 0 !== e ? e : new f, this.c = void 0 !== n ? n : new f
        }

        function ft(t, e, n, r, i, o) {
            this.a = t, this.b = e, this.c = n, this.normal = r && r.isVector3 ? r : new f, this.vertexNormals = Array.isArray(r) ? r : [], this.color = i && i.isColor ? i : new Y, this.vertexColors = Array.isArray(i) ? i : [], this.materialIndex = void 0 !== o ? o : 0
        }

        function ht(t) {
            Z.call(this), this.type = "MeshBasicMaterial", this.color = new Y(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = Br, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.lights = !1, this.setValues(t)
        }

        function dt(t, e, n) {
            if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
            this.uuid = Qi.generateUUID(), this.array = t, this.itemSize = e, this.count = void 0 !== t ? t.length / e : 0, this.normalized = !0 === n, this.dynamic = !1, this.updateRange = {
                offset: 0,
                count: -1
            }, this.onUploadCallback = function() {}, this.version = 0
        }

        function pt(t, e) {
            dt.call(this, new Int8Array(t), e)
        }

        function mt(t, e) {
            dt.call(this, new Uint8Array(t), e)
        }

        function vt(t, e) {
            dt.call(this, new Uint8ClampedArray(t), e)
        }

        function gt(t, e) {
            dt.call(this, new Int16Array(t), e)
        }

        function At(t, e) {
            dt.call(this, new Uint16Array(t), e)
        }

        function yt(t, e) {
            dt.call(this, new Int32Array(t), e)
        }

        function xt(t, e) {
            dt.call(this, new Uint32Array(t), e)
        }

        function _t(t, e) {
            dt.call(this, new Float32Array(t), e)
        }

        function bt(t, e) {
            dt.call(this, new Float64Array(t), e)
        }

        function wt() {
            this.indices = [], this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.groupsNeedUpdate = !1
        }

        function Mt(t) {
            if (0 === t.length) return -1 / 0;
            for (var e = t[0], n = 1, r = t.length; n < r; ++n) t[n] > e && (e = t[n]);
            return e
        }

        function Et() {
            return uo++
        }

        function St() {
            Object.defineProperty(this, "id", {
                value: Et()
            }), this.uuid = Qi.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                []
            ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.elementsNeedUpdate = !1, this.verticesNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.groupsNeedUpdate = !1
        }

        function Tt() {
            Object.defineProperty(this, "id", {
                value: Et()
            }), this.uuid = Qi.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = {
                start: 0,
                count: 1 / 0
            }
        }

        function Lt(t, e) {
            ut.call(this), this.type = "Mesh", this.geometry = void 0 !== t ? t : new Tt, this.material = void 0 !== e ? e : new ht({
                color: 16777215 * Math.random()
            }), this.drawMode = Ii, this.updateMorphTargets()
        }

        function Ct(t, e, n, r, i, o) {
            St.call(this), this.type = "BoxGeometry", this.parameters = {
                width: t,
                height: e,
                depth: n,
                widthSegments: r,
                heightSegments: i,
                depthSegments: o
            }, this.fromBufferGeometry(new Pt(t, e, n, r, i, o)), this.mergeVertices()
        }

        function Pt(t, e, n, r, i, o) {
            function a(t, e, n, r, i, o, a, m, v, g, A) {
                var y, x, _ = o / v,
                    b = a / g,
                    w = o / 2,
                    M = a / 2,
                    E = m / 2,
                    S = v + 1,
                    T = g + 1,
                    L = 0,
                    C = 0,
                    P = new f;
                for (x = 0; x < T; x++) {
                    var R = x * b - M;
                    for (y = 0; y < S; y++) {
                        var D = y * _ - w;
                        P[t] = D * r, P[e] = R * i, P[n] = E, c.push(P.x, P.y, P.z), P[t] = 0, P[e] = 0, P[n] = m > 0 ? 1 : -1, l.push(P.x, P.y, P.z), h.push(y / v), h.push(1 - x / g), L += 1
                    }
                }
                for (x = 0; x < g; x++)
                    for (y = 0; y < v; y++) {
                        var O = d + y + S * x,
                            I = d + y + S * (x + 1),
                            B = d + (y + 1) + S * (x + 1),
                            N = d + (y + 1) + S * x;
                        u.push(O, I, N), u.push(I, B, N), C += 6
                    }
                s.addGroup(p, C, A), p += C, d += L
            }
            Tt.call(this), this.type = "BoxBufferGeometry", this.parameters = {
                width: t,
                height: e,
                depth: n,
                widthSegments: r,
                heightSegments: i,
                depthSegments: o
            };
            var s = this;
            r = Math.floor(r) || 1, i = Math.floor(i) || 1, o = Math.floor(o) || 1;
            var u = [],
                c = [],
                l = [],
                h = [],
                d = 0,
                p = 0;
            a("z", "y", "x", -1, -1, n, e, t, o, i, 0), a("z", "y", "x", 1, -1, n, e, -t, o, i, 1), a("x", "z", "y", 1, 1, t, n, e, r, o, 2), a("x", "z", "y", 1, -1, t, n, -e, r, o, 3), a("x", "y", "z", 1, -1, t, e, n, r, i, 4), a("x", "y", "z", -1, -1, t, e, -n, r, i, 5), this.setIndex(u), this.addAttribute("position", new _t(c, 3)), this.addAttribute("normal", new _t(l, 3)), this.addAttribute("uv", new _t(h, 2))
        }

        function Rt(t, e, n, r) {
            St.call(this), this.type = "PlaneGeometry", this.parameters = {
                width: t,
                height: e,
                widthSegments: n,
                heightSegments: r
            }, this.fromBufferGeometry(new Dt(t, e, n, r)), this.mergeVertices()
        }

        function Dt(t, e, n, r) {
            Tt.call(this), this.type = "PlaneBufferGeometry", this.parameters = {
                width: t,
                height: e,
                widthSegments: n,
                heightSegments: r
            };
            var i, o, a = t / 2,
                s = e / 2,
                u = Math.floor(n) || 1,
                c = Math.floor(r) || 1,
                l = u + 1,
                f = c + 1,
                h = t / u,
                d = e / c,
                p = [],
                m = [],
                v = [],
                g = [];
            for (o = 0; o < f; o++) {
                var A = o * d - s;
                for (i = 0; i < l; i++) {
                    var y = i * h - a;
                    m.push(y, -A, 0), v.push(0, 0, 1), g.push(i / u), g.push(1 - o / c)
                }
            }
            for (o = 0; o < c; o++)
                for (i = 0; i < u; i++) {
                    var x = i + l * o,
                        _ = i + l * (o + 1),
                        b = i + 1 + l * (o + 1),
                        w = i + 1 + l * o;
                    p.push(x, _, w), p.push(_, b, w)
                }
            this.setIndex(p), this.addAttribute("position", new _t(m, 3)), this.addAttribute("normal", new _t(v, 3)), this.addAttribute("uv", new _t(g, 2))
        }

        function Ot() {
            ut.call(this), this.type = "Camera", this.matrixWorldInverse = new h, this.projectionMatrix = new h
        }

        function It(t, e, n, r) {
            Ot.call(this), this.type = "PerspectiveCamera", this.fov = void 0 !== t ? t : 50, this.zoom = 1, this.near = void 0 !== n ? n : .1, this.far = void 0 !== r ? r : 2e3, this.focus = 10, this.aspect = void 0 !== e ? e : 1, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix()
        }

        function Bt(t, e, n, r, i, o) {
            Ot.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = t, this.right = e, this.top = n, this.bottom = r, this.near = void 0 !== i ? i : .1, this.far = void 0 !== o ? o : 2e3, this.updateProjectionMatrix()
        }

        function Nt(t) {
            function e(e, n) {
                var r = e.array,
                    i = e.dynamic ? t.DYNAMIC_DRAW : t.STATIC_DRAW,
                    o = t.createBuffer();
                t.bindBuffer(n, o), t.bufferData(n, r, i), e.onUploadCallback();
                var a = t.FLOAT;
                return r instanceof Float32Array ? a = t.FLOAT : r instanceof Float64Array ? console.warn("Unsupported data buffer format: Float64Array") : r instanceof Uint16Array ? a = t.UNSIGNED_SHORT : r instanceof Int16Array ? a = t.SHORT : r instanceof Uint32Array ? a = t.UNSIGNED_INT : r instanceof Int32Array ? a = t.INT : r instanceof Int8Array ? a = t.BYTE : r instanceof Uint8Array && (a = t.UNSIGNED_BYTE), {
                    buffer: o,
                    type: a,
                    bytesPerElement: r.BYTES_PER_ELEMENT,
                    version: e.version
                }
            }

            function n(e, n, r) {
                var i = n.array,
                    o = n.updateRange;
                t.bindBuffer(r, e), !1 === n.dynamic ? t.bufferData(r, i, t.STATIC_DRAW) : -1 === o.count ? t.bufferSubData(r, 0, i) : 0 === o.count ? console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.") : (t.bufferSubData(r, o.offset * i.BYTES_PER_ELEMENT, i.subarray(o.offset, o.offset + o.count)), o.count = 0)
            }

            function r(t) {
                return t.isInterleavedBufferAttribute && (t = t.data), a[t.uuid]
            }

            function i(e) {
                var n = a[e.uuid];
                n && (t.deleteBuffer(n.buffer), delete a[e.uuid])
            }

            function o(t, r) {
                t.isInterleavedBufferAttribute && (t = t.data);
                var i = a[t.uuid];
                void 0 === i ? a[t.uuid] = e(t, r) : i.version < t.version && (n(i.buffer, t, r), i.version = t.version)
            }
            var a = {};
            return {
                get: r,
                remove: i,
                update: o
            }
        }

        function kt(t, e) {
            return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.program && e.program && t.program !== e.program ? t.program.id - e.program.id : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id
        }

        function Ft(t, e) {
            return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id
        }

        function Ut() {
            function t() {
                o = -1, s = -1
            }

            function e(t, e, n, r, u) {
                var c, l;
                n.transparent ? (c = a, l = ++s) : (c = i, l = ++o);
                var f = c[l];
                f ? (f.id = t.id, f.object = t, f.geometry = e, f.material = n, f.program = n.program, f.renderOrder = t.renderOrder, f.z = r, f.group = u) : (f = {
                    id: t.id,
                    object: t,
                    geometry: e,
                    material: n,
                    program: n.program,
                    renderOrder: t.renderOrder,
                    z: r,
                    group: u
                }, c.push(f))
            }

            function n() {
                i.length = o + 1, a.length = s + 1
            }

            function r() {
                i.sort(kt), a.sort(Ft)
            }
            var i = [],
                o = -1,
                a = [],
                s = -1;
            return {
                opaque: i,
                transparent: a,
                init: t,
                push: e,
                finish: n,
                sort: r
            }
        }

        function zt() {
            function t(t, e) {
                var r = t.id + "," + e.id,
                    i = n[r];
                return void 0 === i && (i = new Ut, n[r] = i), i
            }

            function e() {
                n = {}
            }
            var n = {};
            return {
                get: t,
                dispose: e
            }
        }

        function Vt(t, e, n) {
            function r(t) {
                s = t
            }

            function i(n) {
                n.array instanceof Uint32Array && e.get("OES_element_index_uint") ? (u = t.UNSIGNED_INT, c = 4) : n.array instanceof Uint16Array ? (u = t.UNSIGNED_SHORT, c = 2) : (u = t.UNSIGNED_BYTE, c = 1)
            }

            function o(e, r) {
                t.drawElements(s, r, u, e * c), n.calls++, n.vertices += r, s === t.TRIANGLES && (n.faces += r / 3)
            }

            function a(r, i, o) {
                var a = e.get("ANGLE_instanced_arrays");
                if (null === a) return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                a.drawElementsInstancedANGLE(s, o, u, i * c, r.maxInstancedCount), n.calls++, n.vertices += o * r.maxInstancedCount, s === t.TRIANGLES && (n.faces += r.maxInstancedCount * o / 3)
            }
            var s, u, c;
            this.setMode = r, this.setIndex = i, this.render = o, this.renderInstances = a
        }

        function Gt(t, e, n) {
            function r(t) {
                a = t
            }

            function i(e, r) {
                t.drawArrays(a, e, r), n.calls++, n.vertices += r, a === t.TRIANGLES && (n.faces += r / 3)
            }

            function o(r, i, o) {
                var s = e.get("ANGLE_instanced_arrays");
                if (null === s) return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                var u = r.attributes.position;
                u.isInterleavedBufferAttribute ? (o = u.data.count, s.drawArraysInstancedANGLE(a, 0, o, r.maxInstancedCount)) : s.drawArraysInstancedANGLE(a, i, o, r.maxInstancedCount), n.calls++, n.vertices += o * r.maxInstancedCount, a === t.TRIANGLES && (n.faces += r.maxInstancedCount * o / 3)
            }
            var a;
            this.setMode = r, this.render = i, this.renderInstances = o
        }

        function Ht(t, e, n) {
            function r(t) {
                var i = t.target,
                    o = s[i.id];
                null !== o.index && e.remove(o.index);
                for (var a in o.attributes) e.remove(o.attributes[a]);
                i.removeEventListener("dispose", r), delete s[i.id];
                var c = u[i.id];
                c && (e.remove(c), delete u[i.id]), c = u[o.id], c && (e.remove(c), delete u[o.id]), n.geometries--
            }

            function i(t, e) {
                var i = s[e.id];
                return i || (e.addEventListener("dispose", r), e.isBufferGeometry ? i = e : e.isGeometry && (void 0 === e._bufferGeometry && (e._bufferGeometry = (new Tt).setFromObject(t)), i = e._bufferGeometry), s[e.id] = i, n.geometries++, i)
            }

            function o(n) {
                var r = n.index,
                    i = n.attributes;
                null !== r && e.update(r, t.ELEMENT_ARRAY_BUFFER);
                for (var o in i) e.update(i[o], t.ARRAY_BUFFER);
                var a = n.morphAttributes;
                for (var o in a)
                    for (var s = a[o], u = 0, c = s.length; u < c; u++) e.update(s[u], t.ARRAY_BUFFER)
            }

            function a(n) {
                var r = u[n.id];
                if (r) return r;
                var i = [],
                    o = n.index,
                    a = n.attributes;
                if (null !== o)
                    for (var s = o.array, c = 0, l = s.length; c < l; c += 3) {
                        var f = s[c + 0],
                            h = s[c + 1],
                            d = s[c + 2];
                        i.push(f, h, h, d, d, f)
                    } else
                        for (var s = a.position.array, c = 0, l = s.length / 3 - 1; c < l; c += 3) {
                            var f = c + 0,
                                h = c + 1,
                                d = c + 2;
                            i.push(f, h, h, d, d, f)
                        }
                return r = new(Mt(i) > 65535 ? xt : At)(i, 1), e.update(r, t.ELEMENT_ARRAY_BUFFER), u[n.id] = r, r
            }
            var s = {},
                u = {};
            return {
                get: i,
                update: o,
                getWireframeAttribute: a
            }
        }

        function Wt() {
            var t = {};
            return {
                get: function(e) {
                    if (void 0 !== t[e.id]) return t[e.id];
                    var n;
                    switch (e.type) {
                        case "DirectionalLight":
                            n = {
                                direction: new f,
                                color: new Y,
                                shadow: !1,
                                shadowBias: 0,
                                shadowRadius: 1,
                                shadowMapSize: new o
                            };
                            break;
                        case "SpotLight":
                            n = {
                                position: new f,
                                direction: new f,
                                color: new Y,
                                distance: 0,
                                coneCos: 0,
                                penumbraCos: 0,
                                decay: 0,
                                shadow: !1,
                                shadowBias: 0,
                                shadowRadius: 1,
                                shadowMapSize: new o
                            };
                            break;
                        case "PointLight":
                            n = {
                                position: new f,
                                color: new Y,
                                distance: 0,
                                decay: 0,
                                shadow: !1,
                                shadowBias: 0,
                                shadowRadius: 1,
                                shadowMapSize: new o
                            };
                            break;
                        case "HemisphereLight":
                            n = {
                                direction: new f,
                                skyColor: new Y,
                                groundColor: new Y
                            };
                            break;
                        case "RectAreaLight":
                            n = {
                                color: new Y,
                                position: new f,
                                halfWidth: new f,
                                halfHeight: new f
                            }
                    }
                    return t[e.id] = n, n
                }
            }
        }

        function jt(t, e, n) {
            function r(t) {
                var r = n.frame,
                    i = t.geometry,
                    a = e.get(t, i);
                return o[a.id] !== r && (i.isGeometry && a.updateFromObject(t), e.update(a), o[a.id] = r), a
            }

            function i() {
                o = {}
            }
            var o = {};
            return {
                update: r,
                clear: i
            }
        }

        function Qt(t) {
            for (var e = t.split("\n"), n = 0; n < e.length; n++) e[n] = n + 1 + ": " + e[n];
            return e.join("\n")
        }

        function qt(t, e, n) {
            var r = t.createShader(e);
            return t.shaderSource(r, n), t.compileShader(r), !1 === t.getShaderParameter(r, t.COMPILE_STATUS) && console.error("THREE.WebGLShader: Shader couldn't compile."), "" !== t.getShaderInfoLog(r) && console.warn("THREE.WebGLShader: gl.getShaderInfoLog()", e === t.VERTEX_SHADER ? "vertex" : "fragment", t.getShaderInfoLog(r), Qt(n)), r
        }

        function Xt(t) {
            switch (t) {
                case ki:
                    return ["Linear", "( value )"];
                case Fi:
                    return ["sRGB", "( value )"];
                case zi:
                    return ["RGBE", "( value )"];
                case Vi:
                    return ["RGBM", "( value, 7.0 )"];
                case Gi:
                    return ["RGBM", "( value, 16.0 )"];
                case Hi:
                    return ["RGBD", "( value, 256.0 )"];
                case Ui:
                    return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
                default:
                    throw new Error("unsupported encoding: " + t)
            }
        }

        function Yt(t, e) {
            var n = Xt(e);
            return "vec4 " + t + "( vec4 value ) { return " + n[0] + "ToLinear" + n[1] + "; }"
        }

        function Zt(t, e) {
            var n = Xt(e);
            return "vec4 " + t + "( vec4 value ) { return LinearTo" + n[0] + n[1] + "; }"
        }

        function Jt(t, e) {
            var n;
            switch (e) {
                case Ur:
                    n = "Linear";
                    break;
                case zr:
                    n = "Reinhard";
                    break;
                case Vr:
                    n = "Uncharted2";
                    break;
                case Gr:
                    n = "OptimizedCineon";
                    break;
                default:
                    throw new Error("unsupported toneMapping: " + e)
            }
            return "vec3 " + t + "( vec3 color ) { return " + n + "ToneMapping( color ); }"
        }

        function Kt(t, e, n) {
            return t = t || {}, [t.derivatives || e.envMapCubeUV || e.bumpMap || e.normalMap || e.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (t.fragDepth || e.logarithmicDepthBuffer) && n.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", t.drawBuffers && n.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (t.shaderTextureLOD || e.envMap) && n.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(ee).join("\n")
        }

        function $t(t) {
            var e = [];
            for (var n in t) {
                var r = t[n];
                !1 !== r && e.push("#define " + n + " " + r)
            }
            return e.join("\n")
        }

        function te(t, e, n) {
            for (var r = {}, i = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), o = 0; o < i; o++) {
                var a = t.getActiveAttrib(e, o),
                    s = a.name;
                r[s] = t.getAttribLocation(e, s)
            }
            return r
        }

        function ee(t) {
            return "" !== t
        }

        function ne(t, e) {
            return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights)
        }

        function re(t) {
            function e(t, e) {
                var n = io[e];
                if (void 0 === n) throw new Error("Can not resolve #include <" + e + ">");
                return re(n)
            }
            var n = /^[ \t]*#include +<([\w\d.]+)>/gm;
            return t.replace(n, e)
        }

        function ie(t) {
            function e(t, e, n, r) {
                for (var i = "", o = parseInt(e); o < parseInt(n); o++) i += r.replace(/\[ i \]/g, "[ " + o + " ]");
                return i
            }
            var n = /for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;
            return t.replace(n, e)
        }

        function oe(t, e, n, r) {
            var i = t.context,
                o = n.extensions,
                a = n.defines,
                s = n.__webglShader.vertexShader,
                u = n.__webglShader.fragmentShader,
                c = "SHADOWMAP_TYPE_BASIC";
            r.shadowMapType === Zn ? c = "SHADOWMAP_TYPE_PCF" : r.shadowMapType === Jn && (c = "SHADOWMAP_TYPE_PCF_SOFT");
            var l = "ENVMAP_TYPE_CUBE",
                f = "ENVMAP_MODE_REFLECTION",
                h = "ENVMAP_BLENDING_MULTIPLY";
            if (r.envMap) {
                switch (n.envMap.mapping) {
                    case Hr:
                    case Wr:
                        l = "ENVMAP_TYPE_CUBE";
                        break;
                    case Xr:
                    case Yr:
                        l = "ENVMAP_TYPE_CUBE_UV";
                        break;
                    case jr:
                    case Qr:
                        l = "ENVMAP_TYPE_EQUIREC";
                        break;
                    case qr:
                        l = "ENVMAP_TYPE_SPHERE"
                }
                switch (n.envMap.mapping) {
                    case Wr:
                    case Qr:
                        f = "ENVMAP_MODE_REFRACTION"
                }
                switch (n.combine) {
                    case Br:
                        h = "ENVMAP_BLENDING_MULTIPLY";
                        break;
                    case Nr:
                        h = "ENVMAP_BLENDING_MIX";
                        break;
                    case kr:
                        h = "ENVMAP_BLENDING_ADD"
                }
            }
            var d, p, m = t.gammaFactor > 0 ? t.gammaFactor : 1,
                v = Kt(o, r, t.extensions),
                g = $t(a),
                A = i.createProgram();
            n.isRawShaderMaterial ? (d = [g, "\n"].filter(ee).join("\n"), p = [v, g, "\n"].filter(ee).join("\n")) : (d = ["precision " + r.precision + " float;", "precision " + r.precision + " int;", "#define SHADER_NAME " + n.__webglShader.name, g, r.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + m, "#define MAX_BONES " + r.maxBones, r.useFog && r.fog ? "#define USE_FOG" : "", r.useFog && r.fogZDepth ? "#define FOG_ZDEPTH" : "", r.useFog && r.fogExp ? "#define FOG_EXP2" : "", r.map ? "#define USE_MAP" : "", r.envMap ? "#define USE_ENVMAP" : "", r.envMap ? "#define " + f : "", r.lightMap ? "#define USE_LIGHTMAP" : "", r.aoMap ? "#define USE_AOMAP" : "", r.emissiveMap ? "#define USE_EMISSIVEMAP" : "", r.bumpMap ? "#define USE_BUMPMAP" : "", r.normalMap ? "#define USE_NORMALMAP" : "", r.displacementMap && r.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", r.specularMap ? "#define USE_SPECULARMAP" : "", r.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", r.metalnessMap ? "#define USE_METALNESSMAP" : "", r.alphaMap ? "#define USE_ALPHAMAP" : "", r.vertexColors ? "#define USE_COLOR" : "", r.flatShading ? "#define FLAT_SHADED" : "", r.skinning ? "#define USE_SKINNING" : "", r.useVertexTexture ? "#define BONE_TEXTURE" : "", r.morphTargets ? "#define USE_MORPHTARGETS" : "", r.morphNormals && !1 === r.flatShading ? "#define USE_MORPHNORMALS" : "", r.doubleSided ? "#define DOUBLE_SIDED" : "", r.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + r.numClippingPlanes, r.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", r.shadowMapEnabled ? "#define " + c : "", r.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", r.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", r.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(ee).join("\n"), p = [v, "precision " + r.precision + " float;", "precision " + r.precision + " int;", "#define SHADER_NAME " + n.__webglShader.name, g, r.alphaTest ? "#define ALPHATEST " + r.alphaTest : "", "#define GAMMA_FACTOR " + m, r.useFog && r.fog ? "#define USE_FOG" : "", r.useFog && r.fogExp ? "#define FOG_EXP2" : "", r.map ? "#define USE_MAP" : "", r.envMap ? "#define USE_ENVMAP" : "", r.envMap ? "#define " + l : "", r.envMap ? "#define " + f : "", r.envMap ? "#define " + h : "", r.lightMap ? "#define USE_LIGHTMAP" : "", r.aoMap ? "#define USE_AOMAP" : "", r.emissiveMap ? "#define USE_EMISSIVEMAP" : "", r.bumpMap ? "#define USE_BUMPMAP" : "", r.normalMap ? "#define USE_NORMALMAP" : "", r.specularMap ? "#define USE_SPECULARMAP" : "", r.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", r.metalnessMap ? "#define USE_METALNESSMAP" : "", r.alphaMap ? "#define USE_ALPHAMAP" : "", r.vertexColors ? "#define USE_COLOR" : "", r.gradientMap ? "#define USE_GRADIENTMAP" : "", r.flatShading ? "#define FLAT_SHADED" : "", r.doubleSided ? "#define DOUBLE_SIDED" : "", r.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + r.numClippingPlanes, "#define UNION_CLIPPING_PLANES " + (r.numClippingPlanes - r.numClipIntersection), r.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", r.shadowMapEnabled ? "#define " + c : "", r.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", r.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", r.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", r.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", r.envMap && t.extensions.get("EXT_shader_texture_lod") ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", r.toneMapping !== Fr ? "#define TONE_MAPPING" : "", r.toneMapping !== Fr ? io.tonemapping_pars_fragment : "", r.toneMapping !== Fr ? Jt("toneMapping", r.toneMapping) : "", r.dithering ? "#define DITHERING" : "", r.outputEncoding || r.mapEncoding || r.envMapEncoding || r.emissiveMapEncoding ? io.encodings_pars_fragment : "", r.mapEncoding ? Yt("mapTexelToLinear", r.mapEncoding) : "", r.envMapEncoding ? Yt("envMapTexelToLinear", r.envMapEncoding) : "", r.emissiveMapEncoding ? Yt("emissiveMapTexelToLinear", r.emissiveMapEncoding) : "", r.outputEncoding ? Zt("linearToOutputTexel", r.outputEncoding) : "", r.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "", "\n"].filter(ee).join("\n")), s = re(s, r), s = ne(s, r), u = re(u, r), u = ne(u, r), n.isShaderMaterial || (s = ie(s), u = ie(u));
            var y = d + s,
                x = p + u,
                _ = qt(i, i.VERTEX_SHADER, y),
                b = qt(i, i.FRAGMENT_SHADER, x);
            i.attachShader(A, _), i.attachShader(A, b), void 0 !== n.index0AttributeName ? i.bindAttribLocation(A, 0, n.index0AttributeName) : !0 === r.morphTargets && i.bindAttribLocation(A, 0, "position"), i.linkProgram(A);
            var w = i.getProgramInfoLog(A),
                M = i.getShaderInfoLog(_),
                E = i.getShaderInfoLog(b),
                S = !0,
                T = !0;
            !1 === i.getProgramParameter(A, i.LINK_STATUS) ? (S = !1, console.error("THREE.WebGLProgram: shader error: ", i.getError(), "gl.VALIDATE_STATUS", i.getProgramParameter(A, i.VALIDATE_STATUS), "gl.getProgramInfoLog", w, M, E)) : "" !== w ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", w) : "" !== M && "" !== E || (T = !1), T && (this.diagnostics = {
                runnable: S,
                material: n,
                programLog: w,
                vertexShader: {
                    log: M,
                    prefix: d
                },
                fragmentShader: {
                    log: E,
                    prefix: p
                }
            }), i.deleteShader(_), i.deleteShader(b);
            var L;
            this.getUniforms = function() {
                return void 0 === L && (L = new X(i, A, t)), L
            };
            var C;
            return this.getAttributes = function() {
                return void 0 === C && (C = te(i, A)), C
            }, this.destroy = function() {
                i.deleteProgram(A), this.program = void 0
            }, (0, Bn.default)(this, {
                uniforms: {
                    get: function() {
                        return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."), this.getUniforms()
                    }
                },
                attributes: {
                    get: function() {
                        return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."), this.getAttributes()
                    }
                }
            }), this.id = co++, this.code = e, this.usedTimes = 1, this.program = A, this.vertexShader = _, this.fragmentShader = b, this
        }

        function ae(t, e) {
            function n(t) {
                var n = t.skeleton,
                    r = n.bones;
                if (e.floatVertexTextures) return 1024;
                var i = e.maxVertexUniforms,
                    o = Math.floor((i - 20) / 4),
                    a = Math.min(o, r.length);
                return a < r.length ? (console.warn("THREE.WebGLRenderer: Skeleton has " + r.length + " bones. This GPU supports " + a + "."), 0) : a
            }

            function r(t, e) {
                var n;
                return t ? t.isTexture ? n = t.encoding : t.isWebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."), n = t.texture.encoding) : n = ki, n === ki && e && (n = Ui), n
            }
            var i = [],
                o = {
                    MeshDepthMaterial: "depth",
                    MeshNormalMaterial: "normal",
                    MeshBasicMaterial: "basic",
                    MeshLambertMaterial: "lambert",
                    MeshPhongMaterial: "phong",
                    MeshToonMaterial: "phong",
                    MeshStandardMaterial: "physical",
                    MeshPhysicalMaterial: "physical",
                    LineBasicMaterial: "basic",
                    LineDashedMaterial: "dashed",
                    PointsMaterial: "points"
                },
                a = ["precision", "supportsVertexTextures", "map", "mapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering"];
            this.getParameters = function(i, a, s, u, c, l) {
                var f = o[i.type],
                    h = l.isSkinnedMesh ? n(l) : 0,
                    d = t.getPrecision();
                null !== i.precision && (d = e.getMaxPrecision(i.precision)) !== i.precision && console.warn("THREE.WebGLProgram.getParameters:", i.precision, "not supported, using", d, "instead.");
                var p = t.getRenderTarget();
                return {
                    shaderID: f,
                    precision: d,
                    supportsVertexTextures: e.vertexTextures,
                    outputEncoding: r(p ? p.texture : null, t.gammaOutput),
                    map: !!i.map,
                    mapEncoding: r(i.map, t.gammaInput),
                    envMap: !!i.envMap,
                    envMapMode: i.envMap && i.envMap.mapping,
                    envMapEncoding: r(i.envMap, t.gammaInput),
                    envMapCubeUV: !!i.envMap && (i.envMap.mapping === Xr || i.envMap.mapping === Yr),
                    lightMap: !!i.lightMap,
                    aoMap: !!i.aoMap,
                    emissiveMap: !!i.emissiveMap,
                    emissiveMapEncoding: r(i.emissiveMap, t.gammaInput),
                    bumpMap: !!i.bumpMap,
                    normalMap: !!i.normalMap,
                    displacementMap: !!i.displacementMap,
                    roughnessMap: !!i.roughnessMap,
                    metalnessMap: !!i.metalnessMap,
                    specularMap: !!i.specularMap,
                    alphaMap: !!i.alphaMap,
                    gradientMap: !!i.gradientMap,
                    combine: i.combine,
                    vertexColors: i.vertexColors,
                    fog: !!s,
                    useFog: i.fog,
                    fogExp: s && s.isFogExp2,
                    fogZDepth: s && s.useZDepth,
                    flatShading: i.shading === er,
                    sizeAttenuation: i.sizeAttenuation,
                    logarithmicDepthBuffer: e.logarithmicDepthBuffer,
                    skinning: i.skinning && h > 0,
                    maxBones: h,
                    useVertexTexture: e.floatVertexTextures,
                    morphTargets: i.morphTargets,
                    morphNormals: i.morphNormals,
                    maxMorphTargets: t.maxMorphTargets,
                    maxMorphNormals: t.maxMorphNormals,
                    numDirLights: a.directional.length,
                    numPointLights: a.point.length,
                    numSpotLights: a.spot.length,
                    numRectAreaLights: a.rectArea.length,
                    numHemiLights: a.hemi.length,
                    numClippingPlanes: u,
                    numClipIntersection: c,
                    dithering: i.dithering,
                    shadowMapEnabled: t.shadowMap.enabled && l.receiveShadow && a.shadows.length > 0,
                    shadowMapType: t.shadowMap.type,
                    toneMapping: t.toneMapping,
                    physicallyCorrectLights: t.physicallyCorrectLights,
                    premultipliedAlpha: i.premultipliedAlpha,
                    alphaTest: i.alphaTest,
                    doubleSided: i.side === tr,
                    flipSided: i.side === $n,
                    depthPacking: void 0 !== i.depthPacking && i.depthPacking
                }
            }, this.getProgramCode = function(t, e) {
                var n = [];
                if (e.shaderID ? n.push(e.shaderID) : (n.push(t.fragmentShader), n.push(t.vertexShader)), void 0 !== t.defines)
                    for (var r in t.defines) n.push(r), n.push(t.defines[r]);
                for (var i = 0; i < a.length; i++) n.push(e[a[i]]);
                return n.join()
            }, this.acquireProgram = function(e, n, r) {
                for (var o, a = 0, s = i.length; a < s; a++) {
                    var u = i[a];
                    if (u.code === r) {
                        o = u, ++o.usedTimes;
                        break
                    }
                }
                return void 0 === o && (o = new oe(t, r, e, n), i.push(o)), o
            }, this.releaseProgram = function(t) {
                if (0 == --t.usedTimes) {
                    var e = i.indexOf(t);
                    i[e] = i[i.length - 1], i.pop(), t.destroy()
                }
            }, this.programs = i
        }

        function se(t, e, n, r, i, o, a) {
            function s(t, e) {
                if (t.width > e || t.height > e) {
                    var n = e / Math.max(t.width, t.height),
                        r = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                    r.width = Math.floor(t.width * n), r.height = Math.floor(t.height * n);
                    return r.getContext("2d").drawImage(t, 0, 0, t.width, t.height, 0, 0, r.width, r.height), console.warn("THREE.WebGLRenderer: image is too big (" + t.width + "x" + t.height + "). Resized to " + r.width + "x" + r.height, t), r
                }
                return t
            }

            function u(t) {
                return Qi.isPowerOfTwo(t.width) && Qi.isPowerOfTwo(t.height)
            }

            function c(t) {
                if (t instanceof HTMLImageElement || t instanceof HTMLCanvasElement) {
                    var e = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                    e.width = Qi.nearestPowerOfTwo(t.width), e.height = Qi.nearestPowerOfTwo(t.height);
                    return e.getContext("2d").drawImage(t, 0, 0, e.width, e.height), console.warn("THREE.WebGLRenderer: image is not power of two (" + t.width + "x" + t.height + "). Resized to " + e.width + "x" + e.height, t), e
                }
                return t
            }

            function l(t) {
                return t.wrapS !== Jr || t.wrapT !== Jr || t.minFilter !== $r && t.minFilter !== ni
            }

            function f(e) {
                return e === $r || e === ti || e === ei ? t.NEAREST : t.LINEAR
            }

            function h(t) {
                var e = t.target;
                e.removeEventListener("dispose", h), p(e), a.textures--
            }

            function d(t) {
                var e = t.target;
                e.removeEventListener("dispose", d), m(e), a.textures--
            }

            function p(e) {
                var n = r.get(e);
                if (e.image && n.__image__webglTextureCube) t.deleteTexture(n.__image__webglTextureCube);
                else {
                    if (void 0 === n.__webglInit) return;
                    t.deleteTexture(n.__webglTexture)
                }
                r.remove(e)
            }

            function m(e) {
                var n = r.get(e),
                    i = r.get(e.texture);
                if (e) {
                    if (void 0 !== i.__webglTexture && t.deleteTexture(i.__webglTexture), e.depthTexture && e.depthTexture.dispose(), e.isWebGLRenderTargetCube)
                        for (var o = 0; o < 6; o++) t.deleteFramebuffer(n.__webglFramebuffer[o]), n.__webglDepthbuffer && t.deleteRenderbuffer(n.__webglDepthbuffer[o]);
                    else t.deleteFramebuffer(n.__webglFramebuffer), n.__webglDepthbuffer && t.deleteRenderbuffer(n.__webglDepthbuffer);
                    r.remove(e.texture), r.remove(e)
                }
            }

            function v(e, i) {
                var o = r.get(e);
                if (e.version > 0 && o.__version !== e.version) {
                    var a = e.image;
                    if (void 0 === a) console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined", e);
                    else {
                        if (!1 !== a.complete) return void x(o, e, i);
                        console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete", e)
                    }
                }
                n.activeTexture(t.TEXTURE0 + i), n.bindTexture(t.TEXTURE_2D, o.__webglTexture)
            }

            function g(e, c) {
                var l = r.get(e);
                if (6 === e.image.length)
                    if (e.version > 0 && l.__version !== e.version) {
                        l.__image__webglTextureCube || (e.addEventListener("dispose", h), l.__image__webglTextureCube = t.createTexture(), a.textures++), n.activeTexture(t.TEXTURE0 + c), n.bindTexture(t.TEXTURE_CUBE_MAP, l.__image__webglTextureCube), t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, e.flipY);
                        for (var f = e && e.isCompressedTexture, d = e.image[0] && e.image[0].isDataTexture, p = [], m = 0; m < 6; m++) p[m] = f || d ? d ? e.image[m].image : e.image[m] : s(e.image[m], i.maxCubemapSize);
                        var v = p[0],
                            g = u(v),
                            A = o(e.format),
                            x = o(e.type);
                        y(t.TEXTURE_CUBE_MAP, e, g);
                        for (var m = 0; m < 6; m++)
                            if (f)
                                for (var _, b = p[m].mipmaps, w = 0, M = b.length; w < M; w++) _ = b[w], e.format !== yi && e.format !== Ai ? n.getCompressedTextureFormats().indexOf(A) > -1 ? n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + m, w, A, _.width, _.height, 0, _.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + m, w, A, _.width, _.height, 0, A, x, _.data);
                            else d ? n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + m, 0, A, p[m].width, p[m].height, 0, A, x, p[m].data) : n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + m, 0, A, A, x, p[m]);
                        e.generateMipmaps && g && t.generateMipmap(t.TEXTURE_CUBE_MAP), l.__version = e.version, e.onUpdate && e.onUpdate(e)
                    } else n.activeTexture(t.TEXTURE0 + c), n.bindTexture(t.TEXTURE_CUBE_MAP, l.__image__webglTextureCube)
            }

            function A(e, i) {
                n.activeTexture(t.TEXTURE0 + i), n.bindTexture(t.TEXTURE_CUBE_MAP, r.get(e).__webglTexture)
            }

            function y(n, a, s) {
                var u;
                if (s ? (t.texParameteri(n, t.TEXTURE_WRAP_S, o(a.wrapS)), t.texParameteri(n, t.TEXTURE_WRAP_T, o(a.wrapT)), t.texParameteri(n, t.TEXTURE_MAG_FILTER, o(a.magFilter)), t.texParameteri(n, t.TEXTURE_MIN_FILTER, o(a.minFilter))) : (t.texParameteri(n, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(n, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), a.wrapS === Jr && a.wrapT === Jr || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.", a), t.texParameteri(n, t.TEXTURE_MAG_FILTER, f(a.magFilter)), t.texParameteri(n, t.TEXTURE_MIN_FILTER, f(a.minFilter)), a.minFilter !== $r && a.minFilter !== ni && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.", a)), u = e.get("EXT_texture_filter_anisotropic")) {
                    if (a.type === fi && null === e.get("OES_texture_float_linear")) return;
                    if (a.type === hi && null === e.get("OES_texture_half_float_linear")) return;
                    (a.anisotropy > 1 || r.get(a).__currentAnisotropy) && (t.texParameterf(n, u.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(a.anisotropy, i.getMaxAnisotropy())), r.get(a).__currentAnisotropy = a.anisotropy)
                }
            }

            function x(e, r, f) {
                void 0 === e.__webglInit && (e.__webglInit = !0, r.addEventListener("dispose", h), e.__webglTexture = t.createTexture(), a.textures++), n.activeTexture(t.TEXTURE0 + f), n.bindTexture(t.TEXTURE_2D, e.__webglTexture), t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, r.flipY), t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r.premultiplyAlpha), t.pixelStorei(t.UNPACK_ALIGNMENT, r.unpackAlignment);
                var d = s(r.image, i.maxTextureSize);
                l(r) && !1 === u(d) && (d = c(d));
                var p = u(d),
                    m = o(r.format),
                    v = o(r.type);
                y(t.TEXTURE_2D, r, p);
                var g, A = r.mipmaps;
                if (r.isDepthTexture) {
                    var x = t.DEPTH_COMPONENT;
                    if (r.type === fi) {
                        if (!T) throw new Error("Float Depth Texture only supported in WebGL2.0");
                        x = t.DEPTH_COMPONENT32F
                    } else T && (x = t.DEPTH_COMPONENT16);
                    r.format === wi && x === t.DEPTH_COMPONENT && r.type !== ui && r.type !== li && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."), r.type = ui, v = o(r.type)), r.format === Mi && (x = t.DEPTH_STENCIL, r.type !== vi && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."), r.type = vi, v = o(r.type))), n.texImage2D(t.TEXTURE_2D, 0, x, d.width, d.height, 0, m, v, null)
                } else if (r.isDataTexture)
                    if (A.length > 0 && p) {
                        for (var _ = 0, b = A.length; _ < b; _++) g = A[_], n.texImage2D(t.TEXTURE_2D, _, m, g.width, g.height, 0, m, v, g.data);
                        r.generateMipmaps = !1
                    } else n.texImage2D(t.TEXTURE_2D, 0, m, d.width, d.height, 0, m, v, d.data);
                else if (r.isCompressedTexture)
                    for (var _ = 0, b = A.length; _ < b; _++) g = A[_], r.format !== yi && r.format !== Ai ? n.getCompressedTextureFormats().indexOf(m) > -1 ? n.compressedTexImage2D(t.TEXTURE_2D, _, m, g.width, g.height, 0, g.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : n.texImage2D(t.TEXTURE_2D, _, m, g.width, g.height, 0, m, v, g.data);
                else if (A.length > 0 && p) {
                    for (var _ = 0, b = A.length; _ < b; _++) g = A[_], n.texImage2D(t.TEXTURE_2D, _, m, m, v, g);
                    r.generateMipmaps = !1
                } else n.texImage2D(t.TEXTURE_2D, 0, m, m, v, d);
                r.generateMipmaps && p && t.generateMipmap(t.TEXTURE_2D), e.__version = r.version, r.onUpdate && r.onUpdate(r)
            }

            function _(e, i, a, s) {
                var u = o(i.texture.format),
                    c = o(i.texture.type);
                n.texImage2D(s, 0, u, i.width, i.height, 0, u, c, null), t.bindFramebuffer(t.FRAMEBUFFER, e), t.framebufferTexture2D(t.FRAMEBUFFER, a, s, r.get(i.texture).__webglTexture, 0), t.bindFramebuffer(t.FRAMEBUFFER, null)
            }

            function b(e, n) {
                t.bindRenderbuffer(t.RENDERBUFFER, e), n.depthBuffer && !n.stencilBuffer ? (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_COMPONENT16, n.width, n.height), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.RENDERBUFFER, e)) : n.depthBuffer && n.stencilBuffer ? (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, n.width, n.height), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, e)) : t.renderbufferStorage(t.RENDERBUFFER, t.RGBA4, n.width, n.height), t.bindRenderbuffer(t.RENDERBUFFER, null)
            }

            function w(e, n) {
                if (n && n.isWebGLRenderTargetCube) throw new Error("Depth Texture with cube render targets is not supported!");
                if (t.bindFramebuffer(t.FRAMEBUFFER, e), !n.depthTexture || !n.depthTexture.isDepthTexture) throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                r.get(n.depthTexture).__webglTexture && n.depthTexture.image.width === n.width && n.depthTexture.image.height === n.height || (n.depthTexture.image.width = n.width, n.depthTexture.image.height = n.height, n.depthTexture.needsUpdate = !0), v(n.depthTexture, 0);
                var i = r.get(n.depthTexture).__webglTexture;
                if (n.depthTexture.format === wi) t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.TEXTURE_2D, i, 0);
                else {
                    if (n.depthTexture.format !== Mi) throw new Error("Unknown depthTexture format");
                    t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.TEXTURE_2D, i, 0)
                }
            }

            function M(e) {
                var n = r.get(e),
                    i = !0 === e.isWebGLRenderTargetCube;
                if (e.depthTexture) {
                    if (i) throw new Error("target.depthTexture not supported in Cube render targets");
                    w(n.__webglFramebuffer, e)
                } else if (i) {
                    n.__webglDepthbuffer = [];
                    for (var o = 0; o < 6; o++) t.bindFramebuffer(t.FRAMEBUFFER, n.__webglFramebuffer[o]), n.__webglDepthbuffer[o] = t.createRenderbuffer(), b(n.__webglDepthbuffer[o], e)
                } else t.bindFramebuffer(t.FRAMEBUFFER, n.__webglFramebuffer), n.__webglDepthbuffer = t.createRenderbuffer(), b(n.__webglDepthbuffer, e);
                t.bindFramebuffer(t.FRAMEBUFFER, null)
            }

            function E(e) {
                var i = r.get(e),
                    o = r.get(e.texture);
                e.addEventListener("dispose", d), o.__webglTexture = t.createTexture(), a.textures++;
                var s = !0 === e.isWebGLRenderTargetCube,
                    c = u(e);
                if (s) {
                    i.__webglFramebuffer = [];
                    for (var l = 0; l < 6; l++) i.__webglFramebuffer[l] = t.createFramebuffer()
                } else i.__webglFramebuffer = t.createFramebuffer();
                if (s) {
                    n.bindTexture(t.TEXTURE_CUBE_MAP, o.__webglTexture), y(t.TEXTURE_CUBE_MAP, e.texture, c);
                    for (var l = 0; l < 6; l++) _(i.__webglFramebuffer[l], e, t.COLOR_ATTACHMENT0, t.TEXTURE_CUBE_MAP_POSITIVE_X + l);
                    e.texture.generateMipmaps && c && t.generateMipmap(t.TEXTURE_CUBE_MAP), n.bindTexture(t.TEXTURE_CUBE_MAP, null)
                } else n.bindTexture(t.TEXTURE_2D, o.__webglTexture), y(t.TEXTURE_2D, e.texture, c), _(i.__webglFramebuffer, e, t.COLOR_ATTACHMENT0, t.TEXTURE_2D), e.texture.generateMipmaps && c && t.generateMipmap(t.TEXTURE_2D), n.bindTexture(t.TEXTURE_2D, null);
                e.depthBuffer && M(e)
            }

            function S(e) {
                var i = e.texture;
                if (i.generateMipmaps && u(e) && i.minFilter !== $r && i.minFilter !== ni) {
                    var o = e && e.isWebGLRenderTargetCube ? t.TEXTURE_CUBE_MAP : t.TEXTURE_2D,
                        a = r.get(i).__webglTexture;
                    n.bindTexture(o, a), t.generateMipmap(o), n.bindTexture(o, null)
                }
            }
            var T = "undefined" != typeof WebGL2RenderingContext && t instanceof WebGL2RenderingContext;
            this.setTexture2D = v, this.setTextureCube = g, this.setTextureCubeDynamic = A, this.setupRenderTarget = E, this.updateRenderTargetMipmap = S
        }

        function ue() {
            function t(t) {
                var e = t.uuid,
                    n = r[e];
                return void 0 === n && (n = {}, r[e] = n), n
            }

            function e(t) {
                delete r[t.uuid]
            }

            function n() {
                r = {}
            }
            var r = {};
            return {
                get: t,
                remove: e,
                clear: n
            }
        }

        function ce(t, e, n) {
            function r() {
                var e = !1,
                    n = new s,
                    r = null,
                    i = new s;
                return {
                    setMask: function(n) {
                        r === n || e || (t.colorMask(n, n, n, n), r = n)
                    },
                    setLocked: function(t) {
                        e = t
                    },
                    setClear: function(e, r, o, a, s) {
                        !0 === s && (e *= a, r *= a, o *= a), n.set(e, r, o, a), !1 === i.equals(n) && (t.clearColor(e, r, o, a), i.copy(n))
                    },
                    reset: function() {
                        e = !1, r = null, i.set(0, 0, 0, 1)
                    }
                }
            }

            function i() {
                var e = !1,
                    n = null,
                    r = null,
                    i = null;
                return {
                    setTest: function(e) {
                        e ? d(t.DEPTH_TEST) : p(t.DEPTH_TEST)
                    },
                    setMask: function(r) {
                        n === r || e || (t.depthMask(r), n = r)
                    },
                    setFunc: function(e) {
                        if (r !== e) {
                            if (e) switch (e) {
                                case Tr:
                                    t.depthFunc(t.NEVER);
                                    break;
                                case Lr:
                                    t.depthFunc(t.ALWAYS);
                                    break;
                                case Cr:
                                    t.depthFunc(t.LESS);
                                    break;
                                case Pr:
                                    t.depthFunc(t.LEQUAL);
                                    break;
                                case Rr:
                                    t.depthFunc(t.EQUAL);
                                    break;
                                case Dr:
                                    t.depthFunc(t.GEQUAL);
                                    break;
                                case Or:
                                    t.depthFunc(t.GREATER);
                                    break;
                                case Ir:
                                    t.depthFunc(t.NOTEQUAL);
                                    break;
                                default:
                                    t.depthFunc(t.LEQUAL)
                            } else t.depthFunc(t.LEQUAL);
                            r = e
                        }
                    },
                    setLocked: function(t) {
                        e = t
                    },
                    setClear: function(e) {
                        i !== e && (t.clearDepth(e), i = e)
                    },
                    reset: function() {
                        e = !1, n = null, r = null, i = null
                    }
                }
            }

            function o() {
                var e = !1,
                    n = null,
                    r = null,
                    i = null,
                    o = null,
                    a = null,
                    s = null,
                    u = null,
                    c = null;
                return {
                    setTest: function(e) {
                        e ? d(t.STENCIL_TEST) : p(t.STENCIL_TEST)
                    },
                    setMask: function(r) {
                        n === r || e || (t.stencilMask(r), n = r)
                    },
                    setFunc: function(e, n, a) {
                        r === e && i === n && o === a || (t.stencilFunc(e, n, a), r = e, i = n, o = a)
                    },
                    setOp: function(e, n, r) {
                        a === e && s === n && u === r || (t.stencilOp(e, n, r), a = e, s = n, u = r)
                    },
                    setLocked: function(t) {
                        e = t
                    },
                    setClear: function(e) {
                        c !== e && (t.clearStencil(e), c = e)
                    },
                    reset: function() {
                        e = !1, n = null, r = null, i = null, o = null, a = null, s = null, u = null, c = null
                    }
                }
            }

            function a(e, n, r) {
                var i = new Uint8Array(4),
                    o = t.createTexture();
                t.bindTexture(e, o), t.texParameteri(e, t.TEXTURE_MIN_FILTER, t.NEAREST), t.texParameteri(e, t.TEXTURE_MAG_FILTER, t.NEAREST);
                for (var a = 0; a < r; a++) t.texImage2D(n + a, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, i);
                return o
            }

            function u() {
                R.setClear(0, 0, 0, 1), D.setClear(1), O.setClear(0), d(t.DEPTH_TEST), D.setFunc(Pr), A(!1), y(qn), d(t.CULL_FACE), d(t.BLEND), v(ar)
            }

            function c() {
                for (var t = 0, e = B.length; t < e; t++) B[t] = 0
            }

            function l(n) {
                if (B[n] = 1, 0 === N[n] && (t.enableVertexAttribArray(n), N[n] = 1), 0 !== k[n]) {
                    e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n, 0), k[n] = 0
                }
            }

            function f(n, r) {
                if (B[n] = 1, 0 === N[n] && (t.enableVertexAttribArray(n), N[n] = 1), k[n] !== r) {
                    e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n, r), k[n] = r
                }
            }

            function h() {
                for (var e = 0, n = N.length; e !== n; ++e) N[e] !== B[e] && (t.disableVertexAttribArray(e), N[e] = 0)
            }

            function d(e) {
                !0 !== F[e] && (t.enable(e), F[e] = !0)
            }

            function p(e) {
                !1 !== F[e] && (t.disable(e), F[e] = !1)
            }

            function m() {
                if (null === U && (U = [], e.get("WEBGL_compressed_texture_pvrtc") || e.get("WEBGL_compressed_texture_s3tc") || e.get("WEBGL_compressed_texture_etc1")))
                    for (var n = t.getParameter(t.COMPRESSED_TEXTURE_FORMATS), r = 0; r < n.length; r++) U.push(n[r]);
                return U
            }

            function v(e, r, i, o, a, s, u, c) {
                e !== or ? d(t.BLEND) : p(t.BLEND), e === z && c === q || (e === sr ? c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ONE, t.ONE, t.ONE, t.ONE)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.SRC_ALPHA, t.ONE)) : e === ur ? c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ZERO, t.ZERO, t.ONE_MINUS_SRC_COLOR, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.ZERO, t.ONE_MINUS_SRC_COLOR)) : e === cr ? c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ZERO, t.SRC_COLOR, t.ZERO, t.SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.ZERO, t.SRC_COLOR)) : c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ONE, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA)), z = e, q = c), e === lr ? (a = a || r, s = s || i, u = u || o, r === V && a === W || (t.blendEquationSeparate(n(r), n(a)), V = r, W = a), i === G && o === H && s === j && u === Q || (t.blendFuncSeparate(n(i), n(o), n(s), n(u)), G = i, H = o, j = s, Q = u)) : (V = null, G = null, H = null, W = null, j = null, Q = null)
            }

            function g(e) {
                e.side === tr ? p(t.CULL_FACE) : d(t.CULL_FACE), A(e.side === $n), !0 === e.transparent ? v(e.blending, e.blendEquation, e.blendSrc, e.blendDst, e.blendEquationAlpha, e.blendSrcAlpha, e.blendDstAlpha, e.premultipliedAlpha) : v(or), D.setFunc(e.depthFunc), D.setTest(e.depthTest), D.setMask(e.depthWrite), R.setMask(e.colorWrite), _(e.polygonOffset, e.polygonOffsetFactor, e.polygonOffsetUnits)
            }

            function A(e) {
                X !== e && (e ? t.frontFace(t.CW) : t.frontFace(t.CCW), X = e)
            }

            function y(e) {
                e !== Qn ? (d(t.CULL_FACE), e !== Y && (e === qn ? t.cullFace(t.BACK) : e === Xn ? t.cullFace(t.FRONT) : t.cullFace(t.FRONT_AND_BACK))) : p(t.CULL_FACE), Y = e
            }

            function x(e) {
                e !== Z && (nt && t.lineWidth(e), Z = e)
            }

            function _(e, n, r) {
                e ? (d(t.POLYGON_OFFSET_FILL), J === n && K === r || (t.polygonOffset(n, r), J = n, K = r)) : p(t.POLYGON_OFFSET_FILL)
            }

            function b() {
                return $
            }

            function w(e) {
                $ = e, e ? d(t.SCISSOR_TEST) : p(t.SCISSOR_TEST)
            }

            function M(e) {
                void 0 === e && (e = t.TEXTURE0 + tt - 1), rt !== e && (t.activeTexture(e), rt = e)
            }

            function E(e, n) {
                null === rt && M();
                var r = it[rt];
                void 0 === r && (r = {
                    type: void 0,
                    texture: void 0
                }, it[rt] = r), r.type === e && r.texture === n || (t.bindTexture(e, n || st[e]), r.type = e, r.texture = n)
            }

            function S() {
                try {
                    t.compressedTexImage2D.apply(t, arguments)
                } catch (t) {
                    console.error(t)
                }
            }

            function T() {
                try {
                    t.texImage2D.apply(t, arguments)
                } catch (t) {
                    console.error(t)
                }
            }

            function L(e) {
                !1 === ot.equals(e) && (t.scissor(e.x, e.y, e.z, e.w), ot.copy(e))
            }

            function C(e) {
                !1 === at.equals(e) && (t.viewport(e.x, e.y, e.z, e.w), at.copy(e))
            }

            function P() {
                for (var e = 0; e < N.length; e++) 1 === N[e] && (t.disableVertexAttribArray(e), N[e] = 0);
                F = {}, U = null, rt = null, it = {}, z = null, X = null, Y = null, R.reset(), D.reset(), O.reset()
            }
            var R = new r,
                D = new i,
                O = new o,
                I = t.getParameter(t.MAX_VERTEX_ATTRIBS),
                B = new Uint8Array(I),
                N = new Uint8Array(I),
                k = new Uint8Array(I),
                F = {},
                U = null,
                z = null,
                V = null,
                G = null,
                H = null,
                W = null,
                j = null,
                Q = null,
                q = !1,
                X = null,
                Y = null,
                Z = null,
                J = null,
                K = null,
                $ = null,
                tt = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),
                et = parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),
                nt = parseFloat(et) >= 1,
                rt = null,
                it = {},
                ot = new s,
                at = new s,
                st = {};
            return st[t.TEXTURE_2D] = a(t.TEXTURE_2D, t.TEXTURE_2D, 1), st[t.TEXTURE_CUBE_MAP] = a(t.TEXTURE_CUBE_MAP, t.TEXTURE_CUBE_MAP_POSITIVE_X, 6), {
                buffers: {
                    color: R,
                    depth: D,
                    stencil: O
                },
                init: u,
                initAttributes: c,
                enableAttribute: l,
                enableAttributeAndDivisor: f,
                disableUnusedAttributes: h,
                enable: d,
                disable: p,
                getCompressedTextureFormats: m,
                setBlending: v,
                setMaterial: g,
                setFlipSided: A,
                setCullFace: y,
                setLineWidth: x,
                setPolygonOffset: _,
                getScissorTest: b,
                setScissorTest: w,
                activeTexture: M,
                bindTexture: E,
                compressedTexImage2D: S,
                texImage2D: T,
                scissor: L,
                viewport: C,
                reset: P
            }
        }

        function le(t, e, n) {
            function r() {
                if (void 0 !== o) return o;
                var n = e.get("EXT_texture_filter_anisotropic");
                return o = null !== n ? t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
            }

            function i(e) {
                if ("highp" === e) {
                    if (t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT).precision > 0) return "highp";
                    e = "mediump"
                }
                return "mediump" === e && t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.MEDIUM_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp"
            }
            var o, a = void 0 !== n.precision ? n.precision : "highp",
                s = i(a);
            s !== a && (console.warn("THREE.WebGLRenderer:", a, "not supported, using", s, "instead."), a = s);
            var u = !0 === n.logarithmicDepthBuffer && !!e.get("EXT_frag_depth"),
                c = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),
                l = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
                f = t.getParameter(t.MAX_TEXTURE_SIZE),
                h = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),
                d = t.getParameter(t.MAX_VERTEX_ATTRIBS),
                p = t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),
                m = t.getParameter(t.MAX_VARYING_VECTORS),
                v = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),
                g = l > 0,
                A = !!e.get("OES_texture_float");
            return {
                getMaxAnisotropy: r,
                getMaxPrecision: i,
                precision: a,
                logarithmicDepthBuffer: u,
                maxTextures: c,
                maxVertexTextures: l,
                maxTextureSize: f,
                maxCubemapSize: h,
                maxAttributes: d,
                maxVertexUniforms: p,
                maxVaryings: m,
                maxFragmentUniforms: v,
                vertexTextures: g,
                floatFragmentTextures: A,
                floatVertexTextures: g && A
            }
        }

        function fe(t) {
            var e = {};
            return {
                get: function(n) {
                    if (void 0 !== e[n]) return e[n];
                    var r;
                    switch (n) {
                        case "WEBGL_depth_texture":
                            r = t.getExtension("WEBGL_depth_texture") || t.getExtension("MOZ_WEBGL_depth_texture") || t.getExtension("WEBKIT_WEBGL_depth_texture");
                            break;
                        case "EXT_texture_filter_anisotropic":
                            r = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                            break;
                        case "WEBGL_compressed_texture_s3tc":
                            r = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                            break;
                        case "WEBGL_compressed_texture_pvrtc":
                            r = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                            break;
                        case "WEBGL_compressed_texture_etc1":
                            r = t.getExtension("WEBGL_compressed_texture_etc1");
                            break;
                        default:
                            r = t.getExtension(n)
                    }
                    return null === r && console.warn("THREE.WebGLRenderer: " + n + " extension not supported."), e[n] = r, r
                }
            }
        }

        function he() {
            function t() {
                c.value !== r && (c.value = r, c.needsUpdate = i > 0), n.numPlanes = i, n.numIntersection = 0
            }

            function e(t, e, r, i) {
                var o = null !== t ? t.length : 0,
                    a = null;
                if (0 !== o) {
                    if (a = c.value, !0 !== i || null === a) {
                        var l = r + 4 * o,
                            f = e.matrixWorldInverse;
                        u.getNormalMatrix(f), (null === a || a.length < l) && (a = new Float32Array(l));
                        for (var h = 0, d = r; h !== o; ++h, d += 4) s.copy(t[h]).applyMatrix4(f, u), s.normal.toArray(a, d), a[d + 3] = s.constant
                    }
                    c.value = a, c.needsUpdate = !0
                }
                return n.numPlanes = o, a
            }
            var n = this,
                r = null,
                i = 0,
                o = !1,
                a = !1,
                s = new nt,
                u = new et,
                c = {
                    value: null,
                    needsUpdate: !1
                };
            this.uniform = c, this.numPlanes = 0, this.numIntersection = 0, this.init = function(t, n, a) {
                var s = 0 !== t.length || n || 0 !== i || o;
                return o = n, r = e(t, a, 0), i = t.length, s
            }, this.beginShadows = function() {
                a = !0, e(null)
            }, this.endShadows = function() {
                a = !1, t()
            }, this.setState = function(n, s, u, l, f, h) {
                if (!o || null === n || 0 === n.length || a && !u) a ? e(null) : t();
                else {
                    var d = a ? 0 : i,
                        p = 4 * d,
                        m = f.clippingState || null;
                    c.value = m, m = e(n, l, p, h);
                    for (var v = 0; v !== p; ++v) m[v] = r[v];
                    f.clippingState = m, this.numIntersection = s ? this.numPlanes : 0, this.numPlanes += d
                }
            }
        }

        function de(t) {
            function e() {
                return null === K ? pt : 1
            }

            function n() {
                Qt.init(), Qt.scissor(ot.copy(mt).multiplyScalar(pt)), Qt.viewport(st.copy(gt).multiplyScalar(pt)), Qt.buffers.color.setClear(ct.r, ct.g, ct.b, lt, G)
            }

            function r() {
                Z = null, nt = null, et = "", tt = -1, Qt.reset()
            }

            function i(t) {
                t.preventDefault(), r(), n(), qt.clear(), Jt.clear()
            }

            function o(t) {
                var e = t.target;
                e.removeEventListener("dispose", o), a(e)
            }

            function a(t) {
                u(t), qt.remove(t)
            }

            function u(t) {
                var e = qt.get(t).program;
                t.program = void 0, void 0 !== e && Kt.releaseProgram(e)
            }

            function c(t, e, n) {
                t.render(function(t) {
                    q.renderBufferImmediate(t, e, n)
                })
            }

            function l(t, e) {
                return Math.abs(e[0]) - Math.abs(t[0])
            }

            function p(t, e, n, r) {
                if (n && n.isInstancedBufferGeometry && null === Ft.get("ANGLE_instanced_arrays")) return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                void 0 === r && (r = 0), Qt.initAttributes();
                var i = n.attributes,
                    o = e.getAttributes(),
                    a = t.defaultAttributeValues;
                for (var s in o) {
                    var u = o[s];
                    if (u >= 0) {
                        var c = i[s];
                        if (void 0 !== c) {
                            var l = c.normalized,
                                f = c.itemSize,
                                h = Yt.get(c),
                                d = h.buffer,
                                p = h.type,
                                m = h.bytesPerElement;
                            if (c.isInterleavedBufferAttribute) {
                                var v = c.data,
                                    g = v.stride,
                                    A = c.offset;
                                v && v.isInstancedInterleavedBuffer ? (Qt.enableAttributeAndDivisor(u, v.meshPerAttribute), void 0 === n.maxInstancedCount && (n.maxInstancedCount = v.meshPerAttribute * v.count)) : Qt.enableAttribute(u), Ot.bindBuffer(Ot.ARRAY_BUFFER, d), Ot.vertexAttribPointer(u, f, p, l, g * m, (r * g + A) * m)
                            } else c.isInstancedBufferAttribute ? (Qt.enableAttributeAndDivisor(u, c.meshPerAttribute), void 0 === n.maxInstancedCount && (n.maxInstancedCount = c.meshPerAttribute * c.count)) : Qt.enableAttribute(u), Ot.bindBuffer(Ot.ARRAY_BUFFER, d), Ot.vertexAttribPointer(u, f, p, l, 0, r * f * m)
                        } else if (void 0 !== a) {
                            var y = a[s];
                            if (void 0 !== y) switch (y.length) {
                                case 2:
                                    Ot.vertexAttrib2fv(u, y);
                                    break;
                                case 3:
                                    Ot.vertexAttrib3fv(u, y);
                                    break;
                                case 4:
                                    Ot.vertexAttrib4fv(u, y);
                                    break;
                                default:
                                    Ot.vertexAttrib1fv(u, y)
                            }
                        }
                    }
                }
                Qt.disableUnusedAttributes()
            }

            function m(t, e, n) {
                if (t.visible) {
                    if (t.layers.test(e.layers))
                        if (t.isLight) W.push(t);
                        else if (t.isImmediateRenderObject) n && wt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(bt), j.push(t, null, t.material, wt.z, null);
                    else if ((t.isMesh || t.isLine || t.isPoints) && (t.isSkinnedMesh && t.skeleton.update(), !t.frustumCulled || At.intersectsObject(t))) {
                        n && wt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(bt);
                        var r = Jt.update(t),
                            i = t.material;
                        if (Array.isArray(i))
                            for (var o = r.groups, a = 0, s = o.length; a < s; a++) {
                                var u = o[a],
                                    c = i[u.materialIndex];
                                c && c.visible && j.push(t, r, c, wt.z, u)
                            } else i.visible && j.push(t, r, i, wt.z, null)
                    }
                    for (var l = t.children, a = 0, s = l.length; a < s; a++) m(l[a], e, n)
                }
            }

            function v(t, e, n, r) {
                for (var i = 0, o = t.length; i < o; i++) {
                    var a = t[i],
                        s = a.object,
                        u = a.geometry,
                        c = void 0 === r ? a.material : r,
                        l = a.group;
                    if (s.onBeforeRender(q, e, n, u, c, l), n.isArrayCamera && n.enabled)
                        for (var f = n.cameras, h = 0, d = f.length; h < d; h++) {
                            var p = f[h],
                                m = p.bounds;
                            q.setViewport(m.x * ft * pt, m.y * dt * pt, m.z * ft * pt, m.w * dt * pt), q.setScissor(m.x * ft * pt, m.y * dt * pt, m.z * ft * pt, m.w * dt * pt), q.setScissorTest(!0), g(s, e, p, u, c, l)
                        } else g(s, e, n, u, c, l);
                    s.onAfterRender(q, e, n, u, c, l)
                }
            }

            function g(t, e, n, r, i, o) {
                if (t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, t.matrixWorld), t.normalMatrix.getNormalMatrix(t.modelViewMatrix), t.isImmediateRenderObject) {
                    Qt.setMaterial(i);
                    var a = y(n, e.fog, i, t);
                    et = "", c(t, a, i)
                } else q.renderBufferDirect(n, e.fog, r, i, t, o)
            }

            function A(t, e, n) {
                var r = qt.get(t),
                    i = Kt.getParameters(t, St, e, yt.numPlanes, yt.numIntersection, n),
                    a = Kt.getProgramCode(t, i),
                    s = r.program,
                    c = !0;
                if (void 0 === s) t.addEventListener("dispose", o);
                else if (s.code !== a) u(t);
                else {
                    if (void 0 !== i.shaderID) return;
                    c = !1
                }
                if (c) {
                    if (i.shaderID) {
                        var l = oo[i.shaderID];
                        r.__webglShader = {
                            name: t.type,
                            uniforms: ro.clone(l.uniforms),
                            vertexShader: l.vertexShader,
                            fragmentShader: l.fragmentShader
                        }
                    } else r.__webglShader = {
                        name: t.type,
                        uniforms: t.uniforms,
                        vertexShader: t.vertexShader,
                        fragmentShader: t.fragmentShader
                    };
                    t.__webglShader = r.__webglShader, s = Kt.acquireProgram(t, i, a), r.program = s, t.program = s
                }
                var f = s.getAttributes();
                if (t.morphTargets) {
                    t.numSupportedMorphTargets = 0;
                    for (var h = 0; h < q.maxMorphTargets; h++) f["morphTarget" + h] >= 0 && t.numSupportedMorphTargets++
                }
                if (t.morphNormals) {
                    t.numSupportedMorphNormals = 0;
                    for (var h = 0; h < q.maxMorphNormals; h++) f["morphNormal" + h] >= 0 && t.numSupportedMorphNormals++
                }
                var d = r.__webglShader.uniforms;
                (t.isShaderMaterial || t.isRawShaderMaterial) && !0 !== t.clipping || (r.numClippingPlanes = yt.numPlanes, r.numIntersection = yt.numIntersection, d.clippingPlanes = yt.uniform), r.fog = e, r.lightsHash = St.hash, t.lights && (d.ambientLightColor.value = St.ambient, d.directionalLights.value = St.directional, d.spotLights.value = St.spot, d.rectAreaLights.value = St.rectArea, d.pointLights.value = St.point, d.hemisphereLights.value = St.hemi, d.directionalShadowMap.value = St.directionalShadowMap, d.directionalShadowMatrix.value = St.directionalShadowMatrix, d.spotShadowMap.value = St.spotShadowMap, d.spotShadowMatrix.value = St.spotShadowMatrix, d.pointShadowMap.value = St.pointShadowMap, d.pointShadowMatrix.value = St.pointShadowMatrix);
                var p = r.program.getUniforms(),
                    m = X.seqWithValue(p.seq, d);
                r.uniformsList = m
            }

            function y(t, e, n, r) {
                ut = 0;
                var i = qt.get(n);
                if (xt && (_t || t !== nt)) {
                    var o = t === nt && n.id === tt;
                    yt.setState(n.clippingPlanes, n.clipIntersection, n.clipShadows, t, i, o)
                }!1 === n.needsUpdate && (void 0 === i.program ? n.needsUpdate = !0 : n.fog && i.fog !== e ? n.needsUpdate = !0 : n.lights && i.lightsHash !== St.hash ? n.needsUpdate = !0 : void 0 === i.numClippingPlanes || i.numClippingPlanes === yt.numPlanes && i.numIntersection === yt.numIntersection || (n.needsUpdate = !0)), n.needsUpdate && (A(n, e, r), n.needsUpdate = !1);
                var a = !1,
                    s = !1,
                    u = !1,
                    c = i.program,
                    l = c.getUniforms(),
                    f = i.__webglShader.uniforms;
                if (c.id !== Z && (Ot.useProgram(c.program), Z = c.id, a = !0, s = !0, u = !0), n.id !== tt && (tt = n.id, s = !0), a || t !== nt) {
                    if (l.setValue(Ot, "projectionMatrix", t.projectionMatrix), Ut.logarithmicDepthBuffer && l.setValue(Ot, "logDepthBufFC", 2 / (Math.log(t.far + 1) / Math.LN2)), t !== nt && (nt = t, s = !0, u = !0), n.isShaderMaterial || n.isMeshPhongMaterial || n.isMeshStandardMaterial || n.envMap) {
                        var h = l.map.cameraPosition;
                        void 0 !== h && h.setValue(Ot, wt.setFromMatrixPosition(t.matrixWorld))
                    }(n.isMeshPhongMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial || n.skinning) && l.setValue(Ot, "viewMatrix", t.matrixWorldInverse), l.setValue(Ot, "toneMappingExposure", q.toneMappingExposure), l.setValue(Ot, "toneMappingWhitePoint", q.toneMappingWhitePoint)
                }
                if (n.skinning) {
                    l.setOptional(Ot, r, "bindMatrix"), l.setOptional(Ot, r, "bindMatrixInverse");
                    var p = r.skeleton;
                    if (p) {
                        var m = p.bones;
                        if (Ut.floatVertexTextures) {
                            if (void 0 === p.boneTexture) {
                                var v = Math.sqrt(4 * m.length);
                                v = Qi.nextPowerOfTwo(Math.ceil(v)), v = Math.max(v, 4);
                                var g = new Float32Array(v * v * 4);
                                g.set(p.boneMatrices);
                                var y = new d(g, v, v, yi, fi);
                                p.boneMatrices = g, p.boneTexture = y, p.boneTextureSize = v
                            }
                            l.setValue(Ot, "boneTexture", p.boneTexture), l.setValue(Ot, "boneTextureSize", p.boneTextureSize)
                        } else l.setOptional(Ot, p, "boneMatrices")
                    }
                }
                return s && (n.lights && R(f, u), e && n.fog && M(f, e), (n.isMeshBasicMaterial || n.isMeshLambertMaterial || n.isMeshPhongMaterial || n.isMeshStandardMaterial || n.isMeshNormalMaterial || n.isMeshDepthMaterial) && x(f, n), n.isLineBasicMaterial ? _(f, n) : n.isLineDashedMaterial ? (_(f, n), b(f, n)) : n.isPointsMaterial ? w(f, n) : n.isMeshLambertMaterial ? E(f, n) : n.isMeshToonMaterial ? T(f, n) : n.isMeshPhongMaterial ? S(f, n) : n.isMeshPhysicalMaterial ? C(f, n) : n.isMeshStandardMaterial ? L(f, n) : n.isMeshDepthMaterial ? n.displacementMap && (f.displacementMap.value = n.displacementMap, f.displacementScale.value = n.displacementScale, f.displacementBias.value = n.displacementBias) : n.isMeshNormalMaterial && P(f, n), void 0 !== f.ltcMat && (f.ltcMat.value = no.LTC_MAT_TEXTURE), void 0 !== f.ltcMag && (f.ltcMag.value = no.LTC_MAG_TEXTURE), X.upload(Ot, i.uniformsList, f, q)), l.setValue(Ot, "modelViewMatrix", r.modelViewMatrix), l.setValue(Ot, "normalMatrix", r.normalMatrix), l.setValue(Ot, "modelMatrix", r.matrixWorld), c
            }

            function x(t, e) {
                t.opacity.value = e.opacity, t.diffuse.value = e.color, e.emissive && t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity), t.map.value = e.map, t.specularMap.value = e.specularMap, t.alphaMap.value = e.alphaMap, e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.aoMap && (t.aoMap.value = e.aoMap, t.aoMapIntensity.value = e.aoMapIntensity);
                var n;
                if (e.map ? n = e.map : e.specularMap ? n = e.specularMap : e.displacementMap ? n = e.displacementMap : e.normalMap ? n = e.normalMap : e.bumpMap ? n = e.bumpMap : e.roughnessMap ? n = e.roughnessMap : e.metalnessMap ? n = e.metalnessMap : e.alphaMap ? n = e.alphaMap : e.emissiveMap && (n = e.emissiveMap), void 0 !== n) {
                    n.isWebGLRenderTarget && (n = n.texture);
                    var r = n.offset,
                        i = n.repeat;
                    t.offsetRepeat.value.set(r.x, r.y, i.x, i.y)
                }
                t.envMap.value = e.envMap, t.flipEnvMap.value = e.envMap && e.envMap.isCubeTexture ? -1 : 1, t.reflectivity.value = e.reflectivity, t.refractionRatio.value = e.refractionRatio
            }

            function _(t, e) {
                t.diffuse.value = e.color, t.opacity.value = e.opacity
            }

            function b(t, e) {
                t.dashSize.value = e.dashSize, t.totalSize.value = e.dashSize + e.gapSize, t.scale.value = e.scale
            }

            function w(t, e) {
                if (t.diffuse.value = e.color, t.opacity.value = e.opacity, t.size.value = e.size * pt, t.scale.value = .5 * dt, t.map.value = e.map, null !== e.map) {
                    var n = e.map.offset,
                        r = e.map.repeat;
                    t.offsetRepeat.value.set(n.x, n.y, r.x, r.y)
                }
            }

            function M(t, e) {
                t.fogColor.value = e.color, e.isFog ? (t.fogNear.value = e.near, t.fogFar.value = e.far) : e.isFogExp2 && (t.fogDensity.value = e.density)
            }

            function E(t, e) {
                e.emissiveMap && (t.emissiveMap.value = e.emissiveMap)
            }

            function S(t, e) {
                t.specular.value = e.specular, t.shininess.value = Math.max(e.shininess, 1e-4), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
            }

            function T(t, e) {
                S(t, e), e.gradientMap && (t.gradientMap.value = e.gradientMap)
            }

            function L(t, e) {
                t.roughness.value = e.roughness, t.metalness.value = e.metalness, e.roughnessMap && (t.roughnessMap.value = e.roughnessMap), e.metalnessMap && (t.metalnessMap.value = e.metalnessMap), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias), e.envMap && (t.envMapIntensity.value = e.envMapIntensity)
            }

            function C(t, e) {
                t.clearCoat.value = e.clearCoat, t.clearCoatRoughness.value = e.clearCoatRoughness, L(t, e)
            }

            function P(t, e) {
                e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
            }

            function R(t, e) {
                t.ambientLightColor.needsUpdate = e, t.directionalLights.needsUpdate = e, t.pointLights.needsUpdate = e, t.spotLights.needsUpdate = e, t.rectAreaLights.needsUpdate = e, t.hemisphereLights.needsUpdate = e
            }

            function D(t) {
                for (var e = 0, n = 0, r = t.length; n < r; n++) {
                    var i = t[n];
                    i.castShadow && (St.shadows[e] = i, e++)
                }
                St.shadows.length = e
            }

            function O(t, e) {
                var n, r, i, o, a, s, u, c, l = 0,
                    f = 0,
                    h = 0,
                    d = e.matrixWorldInverse,
                    p = 0,
                    m = 0,
                    v = 0,
                    g = 0,
                    A = 0;
                for (n = 0, r = t.length; n < r; n++)
                    if (i = t[n], a = i.color, s = i.intensity, u = i.distance, c = i.shadow && i.shadow.map ? i.shadow.map.texture : null, i.isAmbientLight) l += a.r * s, f += a.g * s, h += a.b * s;
                    else if (i.isDirectionalLight) {
                    var y = $t.get(i);
                    y.color.copy(i.color).multiplyScalar(i.intensity), y.direction.setFromMatrixPosition(i.matrixWorld), wt.setFromMatrixPosition(i.target.matrixWorld), y.direction.sub(wt), y.direction.transformDirection(d), y.shadow = i.castShadow, i.castShadow && (o = i.shadow, y.shadowBias = o.bias, y.shadowRadius = o.radius, y.shadowMapSize = o.mapSize), St.directionalShadowMap[p] = c, St.directionalShadowMatrix[p] = i.shadow.matrix, St.directional[p] = y, p++
                } else if (i.isSpotLight) {
                    var y = $t.get(i);
                    y.position.setFromMatrixPosition(i.matrixWorld), y.position.applyMatrix4(d), y.color.copy(a).multiplyScalar(s), y.distance = u, y.direction.setFromMatrixPosition(i.matrixWorld), wt.setFromMatrixPosition(i.target.matrixWorld), y.direction.sub(wt), y.direction.transformDirection(d), y.coneCos = Math.cos(i.angle), y.penumbraCos = Math.cos(i.angle * (1 - i.penumbra)), y.decay = 0 === i.distance ? 0 : i.decay, y.shadow = i.castShadow, i.castShadow && (o = i.shadow, y.shadowBias = o.bias, y.shadowRadius = o.radius, y.shadowMapSize = o.mapSize), St.spotShadowMap[v] = c, St.spotShadowMatrix[v] = i.shadow.matrix, St.spot[v] = y, v++
                } else if (i.isRectAreaLight) {
                    var y = $t.get(i);
                    y.color.copy(a).multiplyScalar(s / (i.width * i.height)), y.position.setFromMatrixPosition(i.matrixWorld), y.position.applyMatrix4(d), Et.identity(), Mt.copy(i.matrixWorld), Mt.premultiply(d), Et.extractRotation(Mt), y.halfWidth.set(.5 * i.width, 0, 0), y.halfHeight.set(0, .5 * i.height, 0), y.halfWidth.applyMatrix4(Et), y.halfHeight.applyMatrix4(Et), St.rectArea[g] = y, g++
                } else if (i.isPointLight) {
                    var y = $t.get(i);
                    y.position.setFromMatrixPosition(i.matrixWorld), y.position.applyMatrix4(d), y.color.copy(i.color).multiplyScalar(i.intensity), y.distance = i.distance, y.decay = 0 === i.distance ? 0 : i.decay, y.shadow = i.castShadow, i.castShadow && (o = i.shadow, y.shadowBias = o.bias, y.shadowRadius = o.radius, y.shadowMapSize = o.mapSize), St.pointShadowMap[m] = c, St.pointShadowMatrix[m] = i.shadow.matrix, St.point[m] = y, m++
                } else if (i.isHemisphereLight) {
                    var y = $t.get(i);
                    y.direction.setFromMatrixPosition(i.matrixWorld), y.direction.transformDirection(d), y.direction.normalize(), y.skyColor.copy(i.color).multiplyScalar(s), y.groundColor.copy(i.groundColor).multiplyScalar(s), St.hemi[A] = y, A++
                }
                St.ambient[0] = l, St.ambient[1] = f, St.ambient[2] = h, St.directional.length = p, St.spot.length = v, St.rectArea.length = g, St.point.length = m, St.hemi.length = A, St.hash = p + "," + m + "," + v + "," + g + "," + A + "," + St.shadows.length
            }

            function I() {
                var t = ut;
                return t >= Ut.maxTextures && console.warn("WebGLRenderer: trying to use " + t + " texture units while this GPU supports only " + Ut.maxTextures), ut += 1, t
            }

            function B(t) {
                var e;
                if (t === Zr) return Ot.REPEAT;
                if (t === Jr) return Ot.CLAMP_TO_EDGE;
                if (t === Kr) return Ot.MIRRORED_REPEAT;
                if (t === $r) return Ot.NEAREST;
                if (t === ti) return Ot.NEAREST_MIPMAP_NEAREST;
                if (t === ei) return Ot.NEAREST_MIPMAP_LINEAR;
                if (t === ni) return Ot.LINEAR;
                if (t === ri) return Ot.LINEAR_MIPMAP_NEAREST;
                if (t === ii) return Ot.LINEAR_MIPMAP_LINEAR;
                if (t === oi) return Ot.UNSIGNED_BYTE;
                if (t === di) return Ot.UNSIGNED_SHORT_4_4_4_4;
                if (t === pi) return Ot.UNSIGNED_SHORT_5_5_5_1;
                if (t === mi) return Ot.UNSIGNED_SHORT_5_6_5;
                if (t === ai) return Ot.BYTE;
                if (t === si) return Ot.SHORT;
                if (t === ui) return Ot.UNSIGNED_SHORT;
                if (t === ci) return Ot.INT;
                if (t === li) return Ot.UNSIGNED_INT;
                if (t === fi) return Ot.FLOAT;
                if (t === hi && null !== (e = Ft.get("OES_texture_half_float"))) return e.HALF_FLOAT_OES;
                if (t === gi) return Ot.ALPHA;
                if (t === Ai) return Ot.RGB;
                if (t === yi) return Ot.RGBA;
                if (t === xi) return Ot.LUMINANCE;
                if (t === _i) return Ot.LUMINANCE_ALPHA;
                if (t === wi) return Ot.DEPTH_COMPONENT;
                if (t === Mi) return Ot.DEPTH_STENCIL;
                if (t === fr) return Ot.FUNC_ADD;
                if (t === hr) return Ot.FUNC_SUBTRACT;
                if (t === dr) return Ot.FUNC_REVERSE_SUBTRACT;
                if (t === vr) return Ot.ZERO;
                if (t === gr) return Ot.ONE;
                if (t === Ar) return Ot.SRC_COLOR;
                if (t === yr) return Ot.ONE_MINUS_SRC_COLOR;
                if (t === xr) return Ot.SRC_ALPHA;
                if (t === _r) return Ot.ONE_MINUS_SRC_ALPHA;
                if (t === br) return Ot.DST_ALPHA;
                if (t === wr) return Ot.ONE_MINUS_DST_ALPHA;
                if (t === Mr) return Ot.DST_COLOR;
                if (t === Er) return Ot.ONE_MINUS_DST_COLOR;
                if (t === Sr) return Ot.SRC_ALPHA_SATURATE;
                if ((t === Ei || t === Si || t === Ti || t === Li) && null !== (e = Ft.get("WEBGL_compressed_texture_s3tc"))) {
                    if (t === Ei) return e.COMPRESSED_RGB_S3TC_DXT1_EXT;
                    if (t === Si) return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                    if (t === Ti) return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                    if (t === Li) return e.COMPRESSED_RGBA_S3TC_DXT5_EXT
                }
                if ((t === Ci || t === Pi || t === Ri || t === Di) && null !== (e = Ft.get("WEBGL_compressed_texture_pvrtc"))) {
                    if (t === Ci) return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                    if (t === Pi) return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                    if (t === Ri) return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                    if (t === Di) return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                }
                if (t === Oi && null !== (e = Ft.get("WEBGL_compressed_texture_etc1"))) return e.COMPRESSED_RGB_ETC1_WEBGL;
                if ((t === pr || t === mr) && null !== (e = Ft.get("EXT_blend_minmax"))) {
                    if (t === pr) return e.MIN_EXT;
                    if (t === mr) return e.MAX_EXT
                }
                return t === vi && null !== (e = Ft.get("WEBGL_depth_texture")) ? e.UNSIGNED_INT_24_8_WEBGL : 0
            }
            console.log("THREE.WebGLRenderer", Wn), t = t || {};
            var N = void 0 !== t.canvas ? t.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
                k = void 0 !== t.context ? t.context : null,
                F = void 0 !== t.alpha && t.alpha,
                U = void 0 === t.depth || t.depth,
                z = void 0 === t.stencil || t.stencil,
                V = void 0 !== t.antialias && t.antialias,
                G = void 0 === t.premultipliedAlpha || t.premultipliedAlpha,
                H = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer,
                W = [],
                j = null,
                Q = new Float32Array(8);
            this.domElement = N, this.context = null, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this.gammaFactor = 2, this.gammaInput = !1, this.gammaOutput = !1, this.physicallyCorrectLights = !1, this.toneMapping = Ur, this.toneMappingExposure = 1, this.toneMappingWhitePoint = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4;
            var q = this,
                Z = null,
                K = null,
                $ = null,
                tt = -1,
                et = "",
                nt = null,
                ot = new s,
                at = null,
                st = new s,
                ut = 0,
                ct = new Y(0),
                lt = 0,
                ft = N.width,
                dt = N.height,
                pt = 1,
                mt = new s(0, 0, ft, dt),
                vt = !1,
                gt = new s(0, 0, ft, dt),
                At = new rt,
                yt = new he,
                xt = !1,
                _t = !1,
                bt = new h,
                wt = new f,
                Mt = new h,
                Et = new h,
                St = {
                    hash: "",
                    ambient: [0, 0, 0],
                    directional: [],
                    directionalShadowMap: [],
                    directionalShadowMatrix: [],
                    spot: [],
                    spotShadowMap: [],
                    spotShadowMatrix: [],
                    rectArea: [],
                    point: [],
                    pointShadowMap: [],
                    pointShadowMatrix: [],
                    hemi: [],
                    shadows: []
                },
                Ct = {
                    geometries: 0,
                    textures: 0
                },
                Rt = {
                    frame: 0,
                    calls: 0,
                    vertices: 0,
                    faces: 0,
                    points: 0
                };
            this.info = {
                render: Rt,
                memory: Ct,
                programs: null
            };
            var Ot;
            try {
                var kt = {
                    alpha: F,
                    depth: U,
                    stencil: z,
                    antialias: V,
                    premultipliedAlpha: G,
                    preserveDrawingBuffer: H
                };
                if (null === (Ot = k || N.getContext("webgl", kt) || N.getContext("experimental-webgl", kt))) throw null !== N.getContext("webgl") ? "Error creating WebGL context with your selected attributes." : "Error creating WebGL context.";
                void 0 === Ot.getShaderPrecisionFormat && (Ot.getShaderPrecisionFormat = function() {
                    return {
                        rangeMin: 1,
                        rangeMax: 1,
                        precision: 1
                    }
                }), N.addEventListener("webglcontextlost", i, !1)
            } catch (t) {
                console.error("THREE.WebGLRenderer: " + t)
            }
            var Ft = new fe(Ot);
            Ft.get("WEBGL_depth_texture"), Ft.get("OES_texture_float"), Ft.get("OES_texture_float_linear"), Ft.get("OES_texture_half_float"), Ft.get("OES_texture_half_float_linear"), Ft.get("OES_standard_derivatives"), Ft.get("ANGLE_instanced_arrays"), Ft.get("OES_element_index_uint") && (Tt.MaxIndex = 4294967296);
            var Ut = new le(Ot, Ft, t),
                Qt = new ce(Ot, Ft, B),
                qt = new ue,
                Xt = new se(Ot, Ft, Qt, qt, Ut, B, Ct),
                Yt = new Nt(Ot),
                Zt = new Ht(Ot, Yt, Ct),
                Jt = new jt(Ot, Zt, Rt),
                Kt = new ae(this, Ut),
                $t = new Wt,
                te = new zt;
            this.info.programs = Kt.programs;
            var ee, ne, re, ie, oe = new Gt(Ot, Ft, Rt),
                de = new Vt(Ot, Ft, Rt);
            n(), this.context = Ot, this.capabilities = Ut, this.extensions = Ft, this.properties = qt, this.state = Qt;
            var pe = new it(this, St, Jt, Ut);
            this.shadowMap = pe, this.getContext = function() {
                return Ot
            }, this.getContextAttributes = function() {
                return Ot.getContextAttributes()
            }, this.forceContextLoss = function() {
                var t = Ft.get("WEBGL_lose_context");
                t && t.loseContext()
            }, this.getMaxAnisotropy = function() {
                return Ut.getMaxAnisotropy()
            }, this.getPrecision = function() {
                return Ut.precision
            }, this.getPixelRatio = function() {
                return pt
            }, this.setPixelRatio = function(t) {
                void 0 !== t && (pt = t, this.setSize(gt.z, gt.w, !1))
            }, this.getSize = function() {
                return {
                    width: ft,
                    height: dt
                }
            }, this.setSize = function(t, e, n) {
                ft = t, dt = e, N.width = t * pt, N.height = e * pt, !1 !== n && (N.style.width = t + "px", N.style.height = e + "px"), this.setViewport(0, 0, t, e)
            }, this.setViewport = function(t, e, n, r) {
                Qt.viewport(gt.set(t, e, n, r))
            }, this.setScissor = function(t, e, n, r) {
                Qt.scissor(mt.set(t, e, n, r))
            }, this.setScissorTest = function(t) {
                Qt.setScissorTest(vt = t)
            }, this.getClearColor = function() {
                return ct
            }, this.setClearColor = function(t, e) {
                ct.set(t), lt = void 0 !== e ? e : 1, Qt.buffers.color.setClear(ct.r, ct.g, ct.b, lt, G)
            }, this.getClearAlpha = function() {
                return lt
            }, this.setClearAlpha = function(t) {
                lt = t, Qt.buffers.color.setClear(ct.r, ct.g, ct.b, lt, G)
            }, this.clear = function(t, e, n) {
                var r = 0;
                (void 0 === t || t) && (r |= Ot.COLOR_BUFFER_BIT), (void 0 === e || e) && (r |= Ot.DEPTH_BUFFER_BIT), (void 0 === n || n) && (r |= Ot.STENCIL_BUFFER_BIT), Ot.clear(r)
            }, this.clearColor = function() {
                this.clear(!0, !1, !1)
            }, this.clearDepth = function() {
                this.clear(!1, !0, !1)
            }, this.clearStencil = function() {
                this.clear(!1, !1, !0)
            }, this.clearTarget = function(t, e, n, r) {
                this.setRenderTarget(t), this.clear(e, n, r)
            }, this.resetGLState = r, this.dispose = function() {
                N.removeEventListener("webglcontextlost", i, !1), te.dispose()
            }, this.renderBufferImmediate = function(t, e, n) {
                Qt.initAttributes();
                var r = qt.get(t);
                t.hasPositions && !r.position && (r.position = Ot.createBuffer()), t.hasNormals && !r.normal && (r.normal = Ot.createBuffer()), t.hasUvs && !r.uv && (r.uv = Ot.createBuffer()), t.hasColors && !r.color && (r.color = Ot.createBuffer());
                var i = e.getAttributes();
                if (t.hasPositions && (Ot.bindBuffer(Ot.ARRAY_BUFFER, r.position), Ot.bufferData(Ot.ARRAY_BUFFER, t.positionArray, Ot.DYNAMIC_DRAW), Qt.enableAttribute(i.position), Ot.vertexAttribPointer(i.position, 3, Ot.FLOAT, !1, 0, 0)), t.hasNormals) {
                    if (Ot.bindBuffer(Ot.ARRAY_BUFFER, r.normal), !n.isMeshPhongMaterial && !n.isMeshStandardMaterial && !n.isMeshNormalMaterial && n.shading === er)
                        for (var o = 0, a = 3 * t.count; o < a; o += 9) {
                            var s = t.normalArray,
                                u = (s[o + 0] + s[o + 3] + s[o + 6]) / 3,
                                c = (s[o + 1] + s[o + 4] + s[o + 7]) / 3,
                                l = (s[o + 2] + s[o + 5] + s[o + 8]) / 3;
                            s[o + 0] = u, s[o + 1] = c, s[o + 2] = l, s[o + 3] = u, s[o + 4] = c, s[o + 5] = l, s[o + 6] = u, s[o + 7] = c, s[o + 8] = l
                        }
                    Ot.bufferData(Ot.ARRAY_BUFFER, t.normalArray, Ot.DYNAMIC_DRAW), Qt.enableAttribute(i.normal), Ot.vertexAttribPointer(i.normal, 3, Ot.FLOAT, !1, 0, 0)
                }
                t.hasUvs && n.map && (Ot.bindBuffer(Ot.ARRAY_BUFFER, r.uv), Ot.bufferData(Ot.ARRAY_BUFFER, t.uvArray, Ot.DYNAMIC_DRAW), Qt.enableAttribute(i.uv), Ot.vertexAttribPointer(Yt.uv, 2, Ot.FLOAT, !1, 0, 0)), t.hasColors && n.vertexColors !== rr && (Ot.bindBuffer(Ot.ARRAY_BUFFER, r.color), Ot.bufferData(Ot.ARRAY_BUFFER, t.colorArray, Ot.DYNAMIC_DRAW), Qt.enableAttribute(i.color), Ot.vertexAttribPointer(i.color, 3, Ot.FLOAT, !1, 0, 0)), Qt.disableUnusedAttributes(), Ot.drawArrays(Ot.TRIANGLES, 0, t.count), t.count = 0
            }, this.renderBufferDirect = function(t, n, r, i, o, a) {
                Qt.setMaterial(i);
                var s = y(t, n, i, o),
                    u = r.id + "_" + s.id + "_" + (!0 === i.wireframe),
                    c = !1;
                u !== et && (et = u, c = !0);
                var f = o.morphTargetInfluences;
                if (void 0 !== f) {
                    for (var h = [], d = 0, m = f.length; d < m; d++) {
                        var v = f[d];
                        h.push([v, d])
                    }
                    h.sort(l), h.length > 8 && (h.length = 8);
                    for (var g = r.morphAttributes, d = 0, m = h.length; d < m; d++) {
                        var v = h[d];
                        if (Q[d] = v[0], 0 !== v[0]) {
                            var A = v[1];
                            !0 === i.morphTargets && g.position && r.addAttribute("morphTarget" + d, g.position[A]), !0 === i.morphNormals && g.normal && r.addAttribute("morphNormal" + d, g.normal[A])
                        } else !0 === i.morphTargets && r.removeAttribute("morphTarget" + d), !0 === i.morphNormals && r.removeAttribute("morphNormal" + d)
                    }
                    for (var d = h.length, x = Q.length; d < x; d++) Q[d] = 0;
                    s.getUniforms().setValue(Ot, "morphTargetInfluences", Q), c = !0
                }
                var A = r.index,
                    _ = r.attributes.position,
                    b = 1;
                !0 === i.wireframe && (A = Zt.getWireframeAttribute(r), b = 2);
                var w = oe;
                null !== A && (w = de, w.setIndex(A)), c && (p(i, s, r), null !== A && Ot.bindBuffer(Ot.ELEMENT_ARRAY_BUFFER, Yt.get(A).buffer));
                var M = 0;
                null !== A ? M = A.count : void 0 !== _ && (M = _.count);
                var E = r.drawRange.start * b,
                    S = r.drawRange.count * b,
                    T = null !== a ? a.start * b : 0,
                    L = null !== a ? a.count * b : 1 / 0,
                    C = Math.max(E, T),
                    P = Math.min(M, E + S, T + L) - 1,
                    R = Math.max(0, P - C + 1);
                if (0 !== R) {
                    if (o.isMesh)
                        if (!0 === i.wireframe) Qt.setLineWidth(i.wireframeLinewidth * e()), w.setMode(Ot.LINES);
                        else switch (o.drawMode) {
                            case Ii:
                                w.setMode(Ot.TRIANGLES);
                                break;
                            case Bi:
                                w.setMode(Ot.TRIANGLE_STRIP);
                                break;
                            case Ni:
                                w.setMode(Ot.TRIANGLE_FAN)
                        } else if (o.isLine) {
                            var D = i.linewidth;
                            void 0 === D && (D = 1), Qt.setLineWidth(D * e()), o.isLineSegments ? w.setMode(Ot.LINES) : o.isLineLoop ? w.setMode(Ot.LINE_LOOP) : w.setMode(Ot.LINE_STRIP)
                        } else o.isPoints && w.setMode(Ot.POINTS);
                    r && r.isInstancedBufferGeometry ? r.maxInstancedCount > 0 && w.renderInstances(r, C, R) : w.render(C, R)
                }
            }, this.compile = function(t, e) {
                W = [], t.traverse(function(t) {
                    t.isLight && W.push(t)
                }), O(W, e), t.traverse(function(e) {
                    if (e.material)
                        if (Array.isArray(e.material))
                            for (var n = 0; n < e.material.length; n++) A(e.material[n], t.fog, e);
                        else A(e.material, t.fog, e)
                })
            }, this.render = function(t, e, n, r) {
                if (void 0 !== e && !0 !== e.isCamera) return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
                et = "", tt = -1, nt = null, !0 === t.autoUpdate && t.updateMatrixWorld(), e.onBeforeRender(q), null === e.parent && e.updateMatrixWorld(), e.matrixWorldInverse.getInverse(e.matrixWorld), bt.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), At.setFromMatrix(bt), W.length = 0, _t = this.localClippingEnabled, xt = yt.init(this.clippingPlanes, _t, e), j = te.get(t, e), j.init(), m(t, e, q.sortObjects), j.finish(), !0 === q.sortObjects && j.sort(), xt && yt.beginShadows(), D(W), pe.render(t, e), O(W, e), xt && yt.endShadows(), Rt.frame++, Rt.calls = 0, Rt.vertices = 0, Rt.faces = 0, Rt.points = 0, void 0 === n && (n = null), this.setRenderTarget(n);
                var i = t.background;
                null === i ? Qt.buffers.color.setClear(ct.r, ct.g, ct.b, lt, G) : i && i.isColor && (Qt.buffers.color.setClear(i.r, i.g, i.b, 1, G), r = !0), (this.autoClear || r) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil), i && i.isCubeTexture ? (void 0 === re && (re = new It, ie = new Lt(new Pt(5, 5, 5), new J({
                    uniforms: oo.cube.uniforms,
                    vertexShader: oo.cube.vertexShader,
                    fragmentShader: oo.cube.fragmentShader,
                    side: $n,
                    depthTest: !1,
                    depthWrite: !1,
                    fog: !1
                }))), re.projectionMatrix.copy(e.projectionMatrix), re.matrixWorld.extractRotation(e.matrixWorld), re.matrixWorldInverse.getInverse(re.matrixWorld), ie.material.uniforms.tCube.value = i, ie.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse, ie.matrixWorld), Jt.update(ie), q.renderBufferDirect(re, null, ie.geometry, ie.material, ie, null)) : i && i.isTexture && (void 0 === ee && (ee = new Bt(-1, 1, 1, -1, 0, 1), ne = new Lt(new Dt(2, 2), new ht({
                    depthTest: !1,
                    depthWrite: !1,
                    fog: !1
                }))), ne.material.map = i, Jt.update(ne), q.renderBufferDirect(ee, null, ne.geometry, ne.material, ne, null));
                var o = j.opaque,
                    a = j.transparent;
                if (t.overrideMaterial) {
                    var s = t.overrideMaterial;
                    o.length && v(o, t, e, s), a.length && v(a, t, e, s)
                } else o.length && v(o, t, e), a.length && v(a, t, e);
                n && Xt.updateRenderTargetMipmap(n), Qt.buffers.depth.setTest(!0), Qt.buffers.depth.setMask(!0), Qt.buffers.color.setMask(!0), e.isArrayCamera && e.enabled && q.setScissorTest(!1), e.onAfterRender(q)
            }, this.setFaceCulling = function(t, e) {
                Qt.setCullFace(t), Qt.setFlipSided(e === Yn)
            }, this.allocTextureUnit = I, this.setTexture2D = function() {
                var t = !1;
                return function(e, n) {
                    e && e.isWebGLRenderTarget && (t || (console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."), t = !0), e = e.texture), Xt.setTexture2D(e, n)
                }
            }(), this.setTexture = function() {
                var t = !1;
                return function(e, n) {
                    t || (console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."), t = !0), Xt.setTexture2D(e, n)
                }
            }(), this.setTextureCube = function() {
                var t = !1;
                return function(e, n) {
                    e && e.isWebGLRenderTargetCube && (t || (console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."), t = !0), e = e.texture), e && e.isCubeTexture || Array.isArray(e.image) && 6 === e.image.length ? Xt.setTextureCube(e, n) : Xt.setTextureCubeDynamic(e, n)
                }
            }(), this.getRenderTarget = function() {
                return K
            }, this.setRenderTarget = function(t) {
                K = t, t && void 0 === qt.get(t).__webglFramebuffer && Xt.setupRenderTarget(t);
                var e, n = t && t.isWebGLRenderTargetCube;
                if (t) {
                    var r = qt.get(t);
                    e = n ? r.__webglFramebuffer[t.activeCubeFace] : r.__webglFramebuffer, ot.copy(t.scissor), at = t.scissorTest, st.copy(t.viewport)
                } else e = null, ot.copy(mt).multiplyScalar(pt), at = vt, st.copy(gt).multiplyScalar(pt);
                if ($ !== e && (Ot.bindFramebuffer(Ot.FRAMEBUFFER, e), $ = e), Qt.scissor(ot), Qt.setScissorTest(at), Qt.viewport(st), n) {
                    var i = qt.get(t.texture);
                    Ot.framebufferTexture2D(Ot.FRAMEBUFFER, Ot.COLOR_ATTACHMENT0, Ot.TEXTURE_CUBE_MAP_POSITIVE_X + t.activeCubeFace, i.__webglTexture, t.activeMipMapLevel)
                }
            }, this.readRenderTargetPixels = function(t, e, n, r, i, o) {
                if (!1 === (t && t.isWebGLRenderTarget)) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
                var a = qt.get(t).__webglFramebuffer;
                if (a) {
                    var s = !1;
                    a !== $ && (Ot.bindFramebuffer(Ot.FRAMEBUFFER, a), s = !0);
                    try {
                        var u = t.texture,
                            c = u.format,
                            l = u.type;
                        if (c !== yi && B(c) !== Ot.getParameter(Ot.IMPLEMENTATION_COLOR_READ_FORMAT)) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
                        if (!(l === oi || B(l) === Ot.getParameter(Ot.IMPLEMENTATION_COLOR_READ_TYPE) || l === fi && (Ft.get("OES_texture_float") || Ft.get("WEBGL_color_buffer_float")) || l === hi && Ft.get("EXT_color_buffer_half_float"))) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
                        Ot.checkFramebufferStatus(Ot.FRAMEBUFFER) === Ot.FRAMEBUFFER_COMPLETE ? e >= 0 && e <= t.width - r && n >= 0 && n <= t.height - i && Ot.readPixels(e, n, r, i, B(c), B(l), o) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")
                    } finally {
                        s && Ot.bindFramebuffer(Ot.FRAMEBUFFER, $)
                    }
                }
            }
        }

        function pe(t, e) {
            this.name = "", this.color = new Y(t), this.density = void 0 !== e ? e : 25e-5
        }

        function me(t, e, n) {
            this.name = "", this.color = new Y(t), this.near = void 0 !== e ? e : 1, this.far = void 0 !== n ? n : 1e3
        }

        function ve() {
            ut.call(this), this.type = "Scene", this.background = null, this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0
        }

        function ge(t) {
            Z.call(this), this.type = "SpriteMaterial", this.color = new Y(16777215), this.map = null, this.rotation = 0, this.fog = !1, this.lights = !1, this.setValues(t)
        }

        function Ae(t) {
            ut.call(this), this.type = "Sprite", this.material = void 0 !== t ? t : new ge
        }

        function ye() {
            ut.call(this), this.type = "LOD", (0, Bn.default)(this, {
                levels: {
                    enumerable: !0,
                    value: []
                }
            })
        }

        function xe() {
            Tt.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0
        }

        function _e(t, e, n) {
            dt.call(this, t, e), this.meshPerAttribute = n || 1
        }

        function be(t, e, n, r, i, o) {
            Lt.call(this, (new xe).copy(t)), this._dynamic = !!r, this._uniformScale = !!o, this._colors = !!i, this.numInstances = n, this._setAttributes(), this.material = e.clone(), this.frustumCulled = !1, this.customDepthMaterial = lo, this.customDistanceMaterial = po
        }

        function we(t) {
            Z.call(this), this.type = "LineBasicMaterial", this.color = new Y(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.lights = !1, this.setValues(t)
        }

        function Me(t, e, n) {
            if (1 === n) return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."), new Ee(t, e);
            ut.call(this), this.type = "Line", this.geometry = void 0 !== t ? t : new Tt, this.material = void 0 !== e ? e : new we({
                color: 16777215 * Math.random()
            })
        }

        function Ee(t, e) {
            Me.call(this, t, e), this.type = "LineSegments"
        }

        function Se(t, e) {
            Me.call(this, t, e), this.type = "LineLoop"
        }

        function Te() {
            ut.call(this), this.type = "Group"
        }

        function Le(t) {
            Tt.call(this), this.type = "WireframeGeometry";
            var e, n, r, i, o, a, s, u, c, l, h = [],
                d = [0, 0],
                p = {},
                m = ["a", "b", "c"];
            if (t && t.isGeometry) {
                var v = t.faces;
                for (e = 0, r = v.length; e < r; e++) {
                    var g = v[e];
                    for (n = 0; n < 3; n++) s = g[m[n]], u = g[m[(n + 1) % 3]], d[0] = Math.min(s, u), d[1] = Math.max(s, u), c = d[0] + "," + d[1], void 0 === p[c] && (p[c] = {
                        index1: d[0],
                        index2: d[1]
                    })
                }
                for (c in p) a = p[c], l = t.vertices[a.index1], h.push(l.x, l.y, l.z), l = t.vertices[a.index2], h.push(l.x, l.y, l.z)
            } else if (t && t.isBufferGeometry) {
                var A, y, x, _, b, w, M, E;
                if (l = new f, null !== t.index) {
                    for (A = t.attributes.position, y = t.index, x = t.groups, 0 === x.length && (x = [{
                            start: 0,
                            count: y.count,
                            materialIndex: 0
                        }]), i = 0, o = x.length; i < o; ++i)
                        for (_ = x[i], b = _.start, w = _.count, e = b, r = b + w; e < r; e += 3)
                            for (n = 0; n < 3; n++) s = y.getX(e + n), u = y.getX(e + (n + 1) % 3), d[0] = Math.min(s, u), d[1] = Math.max(s, u), c = d[0] + "," + d[1], void 0 === p[c] && (p[c] = {
                                index1: d[0],
                                index2: d[1]
                            });
                    for (c in p) a = p[c], l.fromBufferAttribute(A, a.index1), h.push(l.x, l.y, l.z), l.fromBufferAttribute(A, a.index2), h.push(l.x, l.y, l.z)
                } else
                    for (A = t.attributes.position, e = 0, r = A.count / 3; e < r; e++)
                        for (n = 0; n < 3; n++) M = 3 * e + n, l.fromBufferAttribute(A, M), h.push(l.x, l.y, l.z), E = 3 * e + (n + 1) % 3, l.fromBufferAttribute(A, E), h.push(l.x, l.y, l.z)
            }
            this.addAttribute("position", new _t(h, 3))
        }

        function Ce(t, e, n, r, i, o, a) {
            St.call(this), this.type = "SphereGeometry", this.parameters = {
                radius: t,
                widthSegments: e,
                heightSegments: n,
                phiStart: r,
                phiLength: i,
                thetaStart: o,
                thetaLength: a
            }, this.fromBufferGeometry(new Pe(t, e, n, r, i, o, a)), this.mergeVertices()
        }

        function Pe(t, e, n, r, i, o, a) {
            Tt.call(this), this.type = "SphereBufferGeometry", this.parameters = {
                radius: t,
                widthSegments: e,
                heightSegments: n,
                phiStart: r,
                phiLength: i,
                thetaStart: o,
                thetaLength: a
            }, t = t || 50, e = Math.max(3, Math.floor(e) || 8), n = Math.max(2, Math.floor(n) || 6), r = void 0 !== r ? r : 0, i = void 0 !== i ? i : 2 * Math.PI, o = void 0 !== o ? o : 0, a = void 0 !== a ? a : Math.PI;
            var s, u, c = o + a,
                l = 0,
                h = [],
                d = new f,
                p = new f,
                m = [],
                v = [],
                g = [],
                A = [];
            for (u = 0; u <= n; u++) {
                var y = [],
                    x = u / n;
                for (s = 0; s <= e; s++) {
                    var _ = s / e;
                    d.x = -t * Math.cos(r + _ * i) * Math.sin(o + x * a), d.y = t * Math.cos(o + x * a), d.z = t * Math.sin(r + _ * i) * Math.sin(o + x * a), v.push(d.x, d.y, d.z), p.set(d.x, d.y, d.z).normalize(), g.push(p.x, p.y, p.z), A.push(_, 1 - x), y.push(l++)
                }
                h.push(y)
            }
            for (u = 0; u < n; u++)
                for (s = 0; s < e; s++) {
                    var b = h[u][s + 1],
                        w = h[u][s],
                        M = h[u + 1][s],
                        E = h[u + 1][s + 1];
                    (0 !== u || o > 0) && m.push(b, w, E), (u !== n - 1 || c < Math.PI) && m.push(w, M, E)
                }
            this.setIndex(m), this.addAttribute("position", new _t(v, 3)), this.addAttribute("normal", new _t(g, 3)), this.addAttribute("uv", new _t(A, 2))
        }

        function Re(t, e) {
            Tt.call(this), this.type = "EdgesGeometry", this.parameters = {
                thresholdAngle: e
            }, e = void 0 !== e ? e : 1;
            var n, r, i, o, a = [],
                s = Math.cos(Qi.DEG2RAD * e),
                u = [0, 0],
                c = {},
                l = ["a", "b", "c"];
            t.isBufferGeometry ? (o = new St, o.fromBufferGeometry(t)) : o = t.clone(), o.mergeVertices(), o.computeFaceNormals();
            for (var f = o.vertices, h = o.faces, d = 0, p = h.length; d < p; d++)
                for (var m = h[d], v = 0; v < 3; v++) n = m[l[v]], r = m[l[(v + 1) % 3]], u[0] = Math.min(n, r), u[1] = Math.max(n, r), i = u[0] + "," + u[1], void 0 === c[i] ? c[i] = {
                    index1: u[0],
                    index2: u[1],
                    face1: d,
                    face2: void 0
                } : c[i].face2 = d;
            for (i in c) {
                var g = c[i];
                if (void 0 === g.face2 || h[g.face1].normal.dot(h[g.face2].normal) <= s) {
                    var A = f[g.index1];
                    a.push(A.x, A.y, A.z), A = f[g.index2], a.push(A.x, A.y, A.z)
                }
            }
            this.addAttribute("position", new _t(a, 3))
        }

        function De(t, e, n, r, i, o, a, s) {
            St.call(this), this.type = "CylinderGeometry", this.parameters = {
                radiusTop: t,
                radiusBottom: e,
                height: n,
                radialSegments: r,
                heightSegments: i,
                openEnded: o,
                thetaStart: a,
                thetaLength: s
            }, this.fromBufferGeometry(new Oe(t, e, n, r, i, o, a, s)), this.mergeVertices()
        }

        function Oe(t, e, n, r, i, a, s, u) {
            function c(n) {
                var i, a, c, g = new o,
                    x = new f,
                    _ = 0,
                    b = !0 === n ? t : e,
                    w = !0 === n ? 1 : -1;
                for (a = v, i = 1; i <= r; i++) d.push(0, A * w, 0), p.push(0, w, 0), m.push(.5, .5), v++;
                for (c = v, i = 0; i <= r; i++) {
                    var M = i / r,
                        E = M * u + s,
                        S = Math.cos(E),
                        T = Math.sin(E);
                    x.x = b * T, x.y = A * w, x.z = b * S, d.push(x.x, x.y, x.z), p.push(0, w, 0), g.x = .5 * S + .5, g.y = .5 * T * w + .5, m.push(g.x, g.y), v++
                }
                for (i = 0; i < r; i++) {
                    var L = a + i,
                        C = c + i;
                    !0 === n ? h.push(C, C + 1, L) : h.push(C + 1, C, L), _ += 3
                }
                l.addGroup(y, _, !0 === n ? 1 : 2), y += _
            }
            Tt.call(this), this.type = "CylinderBufferGeometry", this.parameters = {
                radiusTop: t,
                radiusBottom: e,
                height: n,
                radialSegments: r,
                heightSegments: i,
                openEnded: a,
                thetaStart: s,
                thetaLength: u
            };
            var l = this;
            t = void 0 !== t ? t : 20, e = void 0 !== e ? e : 20, n = void 0 !== n ? n : 100, r = Math.floor(r) || 8, i = Math.floor(i) || 1, a = void 0 !== a && a, s = void 0 !== s ? s : 0, u = void 0 !== u ? u : 2 * Math.PI;
            var h = [],
                d = [],
                p = [],
                m = [],
                v = 0,
                g = [],
                A = n / 2,
                y = 0;
            ! function() {
                var o, a, c = new f,
                    x = new f,
                    _ = 0,
                    b = (e - t) / n;
                for (a = 0; a <= i; a++) {
                    var w = [],
                        M = a / i,
                        E = M * (e - t) + t;
                    for (o = 0; o <= r; o++) {
                        var S = o / r,
                            T = S * u + s,
                            L = Math.sin(T),
                            C = Math.cos(T);
                        x.x = E * L, x.y = -M * n + A, x.z = E * C, d.push(x.x, x.y, x.z), c.set(L, b, C).normalize(), p.push(c.x, c.y, c.z), m.push(S, 1 - M), w.push(v++)
                    }
                    g.push(w)
                }
                for (o = 0; o < r; o++)
                    for (a = 0; a < i; a++) {
                        var P = g[a][o],
                            R = g[a + 1][o],
                            D = g[a + 1][o + 1],
                            O = g[a][o + 1];
                        h.push(P, R, O), h.push(R, D, O), _ += 6
                    }
                l.addGroup(y, _, 0), y += _
            }(), !1 === a && (t > 0 && c(!0), e > 0 && c(!1)), this.setIndex(h), this.addAttribute("position", new _t(d, 3)), this.addAttribute("normal", new _t(p, 3)), this.addAttribute("uv", new _t(m, 2))
        }

        function Ie(t, e, n, r, i, o, a) {
            De.call(this, 0, t, e, n, r, i, o, a), this.type = "ConeGeometry", this.parameters = {
                radius: t,
                height: e,
                radialSegments: n,
                heightSegments: r,
                openEnded: i,
                thetaStart: o,
                thetaLength: a
            }
        }

        function Be(t, e, n, r, i, o, a) {
            Oe.call(this, 0, t, e, n, r, i, o, a), this.type = "ConeBufferGeometry", this.parameters = {
                radius: t,
                height: e,
                radialSegments: n,
                heightSegments: r,
                openEnded: i,
                thetaStart: o,
                thetaLength: a
            }
        }

        function Ne(t) {
            J.call(this, {
                uniforms: ro.merge([no.lights, {
                    opacity: {
                        value: 1
                    }
                }]),
                vertexShader: io.shadow_vert,
                fragmentShader: io.shadow_frag
            }), this.lights = !0, this.transparent = !0, (0, Bn.default)(this, {
                opacity: {
                    enumerable: !0,
                    get: function() {
                        return this.uniforms.opacity.value
                    },
                    set: function(t) {
                        this.uniforms.opacity.value = t
                    }
                }
            }), this.setValues(t)
        }

        function ke(t) {
            J.call(this, t), this.type = "RawShaderMaterial"
        }

        function Fe(t) {
            Z.call(this), this.type = "PointsMaterial", this.color = new Y(16777215), this.map = null, this.size = 1, this.sizeAttenuation = !0, this.lights = !1, this.setValues(t)
        }

        function Ue(t) {
            Z.call(this), this.defines = {
                STANDARD: ""
            }, this.type = "MeshStandardMaterial", this.color = new Y(16777215), this.roughness = .5, this.metalness = .5, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Y(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new o(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
        }

        function ze(t) {
            Ue.call(this), this.defines = {
                PHYSICAL: ""
            }, this.type = "MeshPhysicalMaterial", this.reflectivity = .5, this.clearCoat = 0, this.clearCoatRoughness = 0, this.setValues(t)
        }

        function Ve(t) {
            Z.call(this), this.type = "MeshPhongMaterial", this.color = new Y(16777215), this.specular = new Y(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Y(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new o(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = Br, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
        }

        function Ge(t) {
            Ve.call(this), this.defines = {
                TOON: ""
            }, this.type = "MeshToonMaterial", this.gradientMap = null, this.setValues(t)
        }

        function He(t) {
            Z.call(this, t), this.type = "MeshNormalMaterial", this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new o(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
        }

        function We(t) {
            Z.call(this), this.type = "MeshLambertMaterial", this.color = new Y(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Y(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = Br, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
        }

        function je(t) {
            Z.call(this), this.type = "LineDashedMaterial", this.color = new Y(16777215), this.linewidth = 1, this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.lights = !1, this.setValues(t)
        }

        function Qe(t, e, n) {
            var r = this,
                i = !1,
                o = 0,
                a = 0;
            this.onStart = void 0, this.onLoad = t, this.onProgress = e, this.onError = n, this.itemStart = function(t) {
                a++, !1 === i && void 0 !== r.onStart && r.onStart(t, o, a), i = !0
            }, this.itemEnd = function(t) {
                o++, void 0 !== r.onProgress && r.onProgress(t, o, a), o === a && (i = !1, void 0 !== r.onLoad && r.onLoad())
            }, this.itemError = function(t) {
                void 0 !== r.onError && r.onError(t)
            }
        }

        function qe(t) {
            this.manager = void 0 !== t ? t : go
        }

        function Xe(t) {
            this.manager = void 0 !== t ? t : go
        }

        function Ye(t) {
            this.manager = void 0 !== t ? t : go
        }

        function Ze(t) {
            this.manager = void 0 !== t ? t : go, this.textures = {}
        }

        function Je(t) {
            this.manager = void 0 !== t ? t : go
        }

        function Ke() {
            this.onLoadStart = function() {}, this.onLoadProgress = function() {}, this.onLoadComplete = function() {}
        }

        function $e(t) {
            this.camera = t, this.bias = 0, this.radius = 1, this.mapSize = new o(512, 512), this.map = null, this.matrix = new h
        }

        function tn() {
            $e.call(this, new It(50, 1, .5, 500))
        }

        function en(t, e) {
            ut.call(this), this.type = "Light", this.color = new Y(t), this.intensity = void 0 !== e ? e : 1, this.receiveShadow = void 0
        }

        function nn(t, e, n, r, i, o) {
            en.call(this, t, e), this.type = "SpotLight", this.position.copy(ut.DefaultUp), this.updateMatrix(), this.target = new ut, Object.defineProperty(this, "power", {
                get: function() {
                    return this.intensity * Math.PI
                },
                set: function(t) {
                    this.intensity = t / Math.PI
                }
            }), this.distance = void 0 !== n ? n : 0, this.angle = void 0 !== r ? r : Math.PI / 3, this.penumbra = void 0 !== i ? i : 0, this.decay = void 0 !== o ? o : 1, this.shadow = new tn
        }

        function rn(t, e, n, r) {
            en.call(this, t, e), this.type = "PointLight", Object.defineProperty(this, "power", {
                get: function() {
                    return 4 * this.intensity * Math.PI
                },
                set: function(t) {
                    this.intensity = t / (4 * Math.PI)
                }
            }), this.distance = void 0 !== n ? n : 0, this.decay = void 0 !== r ? r : 1, this.shadow = new $e(new It(90, 1, .5, 500))
        }

        function on(t, e, n, r) {
            en.call(this, t, e), this.type = "RectAreaLight", this.position.set(0, 1, 0), this.updateMatrix(), this.width = void 0 !== n ? n : 10, this.height = void 0 !== r ? r : 10
        }

        function an(t, e, n) {
            en.call(this, t, n), this.type = "HemisphereLight", this.castShadow = void 0, this.position.copy(ut.DefaultUp), this.updateMatrix(), this.groundColor = new Y(e)
        }

        function sn() {
            $e.call(this, new Bt(-5, 5, 5, -5, .5, 500))
        }

        function un(t, e) {
            en.call(this, t, e), this.type = "DirectionalLight", this.position.copy(ut.DefaultUp), this.updateMatrix(), this.target = new ut, this.shadow = new sn
        }

        function cn(t, e) {
            en.call(this, t, e), this.type = "AmbientLight", this.castShadow = void 0
        }

        function ln(t, e, n) {
            ut.call(this), this.type = "CubeCamera";
            var r = new It(90, 1, t, e);
            r.up.set(0, -1, 0), r.lookAt(new f(1, 0, 0)), this.add(r);
            var i = new It(90, 1, t, e);
            i.up.set(0, -1, 0), i.lookAt(new f(-1, 0, 0)), this.add(i);
            var o = new It(90, 1, t, e);
            o.up.set(0, 0, 1), o.lookAt(new f(0, 1, 0)), this.add(o);
            var a = new It(90, 1, t, e);
            a.up.set(0, 0, -1), a.lookAt(new f(0, -1, 0)), this.add(a);
            var s = new It(90, 1, t, e);
            s.up.set(0, -1, 0), s.lookAt(new f(0, 0, 1)), this.add(s);
            var u = new It(90, 1, t, e);
            u.up.set(0, -1, 0), u.lookAt(new f(0, 0, -1)), this.add(u);
            var l = {
                format: Ai,
                magFilter: ni,
                minFilter: ni
            };
            this.renderTarget = new c(n, n, l), this.renderTarget.texture.name = "CubeCamera", this.updateCubeMap = function(t, e) {
                null === this.parent && this.updateMatrixWorld();
                var n = this.renderTarget,
                    c = n.texture.generateMipmaps;
                n.texture.generateMipmaps = !1, n.activeCubeFace = 0, t.render(e, r, n), n.activeCubeFace = 1, t.render(e, i, n), n.activeCubeFace = 2, t.render(e, o, n), n.activeCubeFace = 3, t.render(e, a, n), n.activeCubeFace = 4, t.render(e, s, n), n.texture.generateMipmaps = c, n.activeCubeFace = 5, t.render(e, u, n), t.setRenderTarget(null)
            }
        }

        function fn(t) {
            "string" == typeof t && (console.warn("THREE.Uniform: Type parameter is no longer needed."), t = arguments[1]), this.value = t
        }

        function hn(t, e, n, r) {
            this.uuid = Qi.generateUUID(), this.data = t, this.itemSize = e, this.offset = n, this.normalized = !0 === r
        }

        function dn(t, e) {
            this.uuid = Qi.generateUUID(), this.array = t, this.stride = e, this.count = void 0 !== t ? t.length / e : 0, this.dynamic = !1, this.updateRange = {
                offset: 0,
                count: -1
            }, this.onUploadCallback = function() {}, this.version = 0
        }

        function pn(t, e, n) {
            dn.call(this, t, e), this.meshPerAttribute = n || 1
        }

        function mn(t, e, n, r) {
            this.ray = new ot(t, e), this.near = n || 0, this.far = r || 1 / 0, this.params = {
                Mesh: {},
                Line: {},
                LOD: {},
                Points: {
                    threshold: 1
                },
                Sprite: {}
            }, (0, Bn.default)(this.params, {
                PointCloud: {
                    get: function() {
                        return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."), this.Points
                    }
                }
            })
        }

        function vn(t, e) {
            return t.distance - e.distance
        }

        function gn(t, e, n, r) {
            if (!1 !== t.visible && (t.raycast(e, n), !0 === r))
                for (var i = t.children, o = 0, a = i.length; o < a; o++) gn(i[o], e, n, !0)
        }

        function An(t) {
            this.autoStart = void 0 === t || t, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1
        }

        function yn(t, e, n, r) {
            this.parameterPositions = t, this._cachedIndex = 0, this.resultBuffer = void 0 !== r ? r : new e.constructor(n), this.sampleValues = e, this.valueSize = n
        }

        function xn(t, e, n, r) {
            yn.call(this, t, e, n, r)
        }

        function _n(t, e, n, r) {
            yn.call(this, t, e, n, r)
        }

        function bn(t, e, n, r) {
            yn.call(this, t, e, n, r)
        }

        function wn(t, e, n, r) {
            yn.call(this, t, e, n, r), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0
        }

        function Mn(t, e, n) {
            return this.radius = void 0 !== t ? t : 1, this.phi = void 0 !== e ? e : 0, this.theta = void 0 !== n ? n : 0, this
        }

        function En(t, e, n) {
            return this.radius = void 0 !== t ? t : 1, this.theta = void 0 !== e ? e : 0, this.y = void 0 !== n ? n : 0, this
        }

        function Sn(t, e) {
            this.min = void 0 !== t ? t : new o(1 / 0, 1 / 0), this.max = void 0 !== e ? e : new o(-1 / 0, -1 / 0)
        }

        function Tn(t, e, n, r) {
            t = t || 10, e = e || 10, n = new Y(void 0 !== n ? n : 4473924), r = new Y(void 0 !== r ? r : 8947848);
            for (var i = e / 2, o = t / e, a = t / 2, s = [], u = [], c = 0, l = 0, f = -a; c <= e; c++, f += o) {
                s.push(-a, 0, f, a, 0, f), s.push(f, 0, -a, f, 0, a);
                var h = c === i ? n : r;
                h.toArray(u, l), l += 3, h.toArray(u, l), l += 3, h.toArray(u, l), l += 3, h.toArray(u, l), l += 3
            }
            var d = new Tt;
            d.addAttribute("position", new _t(s, 3)), d.addAttribute("color", new _t(u, 3));
            var p = new we({
                vertexColors: ir
            });
            Ee.call(this, d, p)
        }
        e.__esModule = !0, e.RGBADepthPacking = e.BasicDepthPacking = e.RGBDEncoding = e.RGBM16Encoding = e.RGBM7Encoding = e.LogLuvEncoding = e.RGBEEncoding = e.GammaEncoding = e.sRGBEncoding = e.LinearEncoding = e.TriangleFanDrawMode = e.TriangleStripDrawMode = e.TrianglesDrawMode = e.WrapAroundEnding = e.ZeroSlopeEnding = e.ZeroCurvatureEnding = e.InterpolateSmooth = e.InterpolateLinear = e.InterpolateDiscrete = e.LoopPingPong = e.LoopRepeat = e.LoopOnce = e.RGB_ETC1_Format = e.RGBA_PVRTC_2BPPV1_Format = e.RGBA_PVRTC_4BPPV1_Format = e.RGB_PVRTC_2BPPV1_Format = e.RGB_PVRTC_4BPPV1_Format = e.RGBA_S3TC_DXT5_Format = e.RGBA_S3TC_DXT3_Format = e.RGBA_S3TC_DXT1_Format = e.RGB_S3TC_DXT1_Format = e.DepthStencilFormat = e.DepthFormat = e.RGBEFormat = e.LuminanceAlphaFormat = e.LuminanceFormat = e.RGBAFormat = e.RGBFormat = e.AlphaFormat = e.UnsignedInt248Type = e.UnsignedShort565Type = e.UnsignedShort5551Type = e.UnsignedShort4444Type = e.HalfFloatType = e.FloatType = void 0, e.UnsignedIntType = e.IntType = e.UnsignedShortType = e.ShortType = e.ByteType = e.UnsignedByteType = e.LinearMipMapLinearFilter = e.LinearMipMapNearestFilter = e.LinearFilter = e.NearestMipMapLinearFilter = e.NearestMipMapNearestFilter = e.NearestFilter = e.MirroredRepeatWrapping = e.ClampToEdgeWrapping = e.RepeatWrapping = e.CubeUVRefractionMapping = e.CubeUVReflectionMapping = e.SphericalReflectionMapping = e.EquirectangularRefractionMapping = e.EquirectangularReflectionMapping = e.CubeRefractionMapping = e.CubeReflectionMapping = e.UVMapping = e.CineonToneMapping = e.Uncharted2ToneMapping = e.ReinhardToneMapping = e.LinearToneMapping = e.NoToneMapping = e.AddOperation = e.MixOperation = e.MultiplyOperation = e.NotEqualDepth = e.GreaterDepth = e.GreaterEqualDepth = e.EqualDepth = e.LessEqualDepth = e.LessDepth = e.AlwaysDepth = e.NeverDepth = e.SrcAlphaSaturateFactor = e.OneMinusDstColorFactor = e.DstColorFactor = e.OneMinusDstAlphaFactor = e.DstAlphaFactor = e.OneMinusSrcAlphaFactor = e.SrcAlphaFactor = e.OneMinusSrcColorFactor = e.SrcColorFactor = e.OneFactor = e.ZeroFactor = e.MaxEquation = e.MinEquation = e.ReverseSubtractEquation = e.SubtractEquation = e.AddEquation = e.CustomBlending = e.MultiplyBlending = e.SubtractiveBlending = e.AdditiveBlending = e.NormalBlending = e.NoBlending = e.VertexColors = e.FaceColors = e.NoColors = e.SmoothShading = e.FlatShading = e.DoubleSide = e.BackSide = e.FrontSide = e.PCFSoftShadowMap = e.PCFShadowMap = e.BasicShadowMap = e.FrontFaceDirectionCCW = e.FrontFaceDirectionCW = e.CullFaceFrontBack = e.CullFaceFront = e.CullFaceBack = e.CullFaceNone = e.MOUSE = e.REVISION = e.BufferAttribute = e.Int8BufferAttribute = e.Uint8BufferAttribute = e.Uint8ClampedBufferAttribute = e.Int16BufferAttribute = e.Uint16BufferAttribute = e.Int32BufferAttribute = e.Uint32BufferAttribute = e.Float32BufferAttribute = e.Float64BufferAttribute = e.Material = e.LineBasicMaterial = e.LineDashedMaterial = e.MeshBasicMaterial = e.MeshDepthMaterial = e.MeshLambertMaterial = e.MeshNormalMaterial = e.MeshToonMaterial = e.MeshPhongMaterial = e.MeshStandardMaterial = void 0, e.MeshPhysicalMaterial = e.PointsMaterial = e.ShaderMaterial = e.RawShaderMaterial = e.SpriteMaterial = e.ShadowMaterial = e.BoxBufferGeometry = e.BoxGeometry = e.CylinderBufferGeometry = e.CylinderGeometry = e.ConeBufferGeometry = e.ConeGeometry = e.EdgesGeometry = e.PlaneBufferGeometry = e.PlaneGeometry = e.SphereBufferGeometry = e.SphereGeometry = e.WireframeGeometry = e.GridHelper = e.Color = e.Quaternion = e.Vector2 = e.Vector3 = e.Vector4 = e.Euler = e.Line3 = e.Box2 = e.Box3 = e.Matrix3 = e.Matrix4 = e.Ray = e.Sphere = e.Frustum = e.Plane = e.Cylindrical = e.Spherical = e.Math = e.Triangle = e.Interpolant = e.CubicInterpolant = e.DiscreteInterpolant = e.LinearInterpolant = e.QuaternionLinearInterpolant = e.Clock = e.EventDispatcher = e.Layers = e.Raycaster = e.Object3D = e.Face3 = e.InstancedBufferAttribute = e.InterleavedBuffer = e.InstancedInterleavedBuffer = e.InterleavedBufferAttribute = e.Geometry = e.GeometryIdCount = e.BufferGeometry = e.InstancedBufferGeometry = e.Uniform = e.Camera = e.CubeCamera = e.OrthographicCamera = e.PerspectiveCamera = e.Light = e.LightShadow = e.AmbientLight = e.DirectionalLight = e.DirectionalLightShadow = e.HemisphereLight = e.RectAreaLight = e.PointLight = e.SpotLight = e.SpotLightShadow = e.Cache = e.Loader = e.FileLoader = e.ImageLoader = e.LoadingManager = e.DefaultLoadingManager = e.BufferGeometryLoader = e.MaterialLoader = e.TextureLoader = e.Texture = e.Group = e.Line = e.LineLoop = e.LineSegments = e.InstancedMesh = e.Mesh = e.LOD = e.Sprite = e.Scene = e.Fog = e.FogExp2 = e.ShaderChunk = e.UniformsUtils = e.UniformsLib = e.ShaderLib = e.WebGLRenderer = e.WebGLRenderTarget = e.WebGLRenderTargetCube = void 0;
        var Ln = n(497),
            Cn = r(Ln),
            Pn = n(181),
            Rn = r(Pn),
            Dn = n(165),
            On = r(Dn),
            In = n(503),
            Bn = r(In),
            Nn = n(34),
            kn = r(Nn),
            Fn = n(509),
            Un = r(Fn),
            zn = n(513),
            Vn = r(zn),
            Gn = n(517),
            Hn = r(Gn);
        void 0 === Hn.default && (Number.EPSILON = Math.pow(2, -52)), void 0 === Vn.default && (Number.isInteger = function(t) {
            return "number" == typeof t && isFinite(t) && Math.floor(t) === t
        }), void 0 === Un.default && (Math.sign = function(t) {
            return t < 0 ? -1 : t > 0 ? 1 : +t
        }), void 0 === Function.prototype.name && Object.defineProperty(Function.prototype, "name", {
            get: function() {
                return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
            }
        }), (0, kn.default)(i.prototype, {
            addEventListener: function(t, e) {
                void 0 === this._listeners && (this._listeners = {});
                var n = this._listeners;
                void 0 === n[t] && (n[t] = []), -1 === n[t].indexOf(e) && n[t].push(e)
            },
            hasEventListener: function(t, e) {
                if (void 0 === this._listeners) return !1;
                var n = this._listeners;
                return void 0 !== n[t] && -1 !== n[t].indexOf(e)
            },
            removeEventListener: function(t, e) {
                if (void 0 !== this._listeners) {
                    var n = this._listeners,
                        r = n[t];
                    if (void 0 !== r) {
                        var i = r.indexOf(e); - 1 !== i && r.splice(i, 1)
                    }
                }
            },
            dispatchEvent: function(t) {
                if (void 0 !== this._listeners) {
                    var e = this._listeners,
                        n = e[t.type];
                    if (void 0 !== n) {
                        t.target = this;
                        var r = [],
                            i = 0,
                            o = n.length;
                        for (i = 0; i < o; i++) r[i] = n[i];
                        for (i = 0; i < o; i++) r[i].call(this, t)
                    }
                }
            }
        });
        var Wn = "86dev",
            jn = {
                LEFT: 0,
                MIDDLE: 1,
                RIGHT: 2
            },
            Qn = 0,
            qn = 1,
            Xn = 2,
            Yn = 0,
            Zn = 1,
            Jn = 2,
            Kn = 0,
            $n = 1,
            tr = 2,
            er = 1,
            nr = 2,
            rr = 0,
            ir = 2,
            or = 0,
            ar = 1,
            sr = 2,
            ur = 3,
            cr = 4,
            lr = 5,
            fr = 100,
            hr = 101,
            dr = 102,
            pr = 103,
            mr = 104,
            vr = 200,
            gr = 201,
            Ar = 202,
            yr = 203,
            xr = 204,
            _r = 205,
            br = 206,
            wr = 207,
            Mr = 208,
            Er = 209,
            Sr = 210,
            Tr = 0,
            Lr = 1,
            Cr = 2,
            Pr = 3,
            Rr = 4,
            Dr = 5,
            Or = 6,
            Ir = 7,
            Br = 0,
            Nr = 1,
            kr = 2,
            Fr = 0,
            Ur = 1,
            zr = 2,
            Vr = 3,
            Gr = 4,
            Hr = 301,
            Wr = 302,
            jr = 303,
            Qr = 304,
            qr = 305,
            Xr = 306,
            Yr = 307,
            Zr = 1e3,
            Jr = 1001,
            Kr = 1002,
            $r = 1003,
            ti = 1004,
            ei = 1005,
            ni = 1006,
            ri = 1007,
            ii = 1008,
            oi = 1009,
            ai = 1010,
            si = 1011,
            ui = 1012,
            ci = 1013,
            li = 1014,
            fi = 1015,
            hi = 1016,
            di = 1017,
            pi = 1018,
            mi = 1019,
            vi = 1020,
            gi = 1021,
            Ai = 1022,
            yi = 1023,
            xi = 1024,
            _i = 1025,
            bi = yi,
            wi = 1026,
            Mi = 1027,
            Ei = 2001,
            Si = 2002,
            Ti = 2003,
            Li = 2004,
            Ci = 2100,
            Pi = 2101,
            Ri = 2102,
            Di = 2103,
            Oi = 2151,
            Ii = 0,
            Bi = 1,
            Ni = 2,
            ki = 3e3,
            Fi = 3001,
            Ui = 3007,
            zi = 3002,
            Vi = 3004,
            Gi = 3005,
            Hi = 3006,
            Wi = 3200,
            ji = 3201,
            Qi = {
                DEG2RAD: Math.PI / 180,
                RAD2DEG: 180 / Math.PI,
                generateUUID: function() {
                    var t, e = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
                        n = new Array(36),
                        r = 0;
                    return function() {
                        for (var i = 0; i < 36; i++) 8 === i || 13 === i || 18 === i || 23 === i ? n[i] = "-" : 14 === i ? n[i] = "4" : (r <= 2 && (r = 33554432 + 16777216 * Math.random() | 0), t = 15 & r, r >>= 4, n[i] = e[19 === i ? 3 & t | 8 : t]);
                        return n.join("")
                    }
                }(),
                clamp: function(t, e, n) {
                    return Math.max(e, Math.min(n, t))
                },
                euclideanModulo: function(t, e) {
                    return (t % e + e) % e
                },
                mapLinear: function(t, e, n, r, i) {
                    return r + (t - e) * (i - r) / (n - e)
                },
                lerp: function(t, e, n) {
                    return (1 - n) * t + n * e
                },
                smoothstep: function(t, e, n) {
                    return t <= e ? 0 : t >= n ? 1 : (t = (t - e) / (n - e)) * t * (3 - 2 * t)
                },
                smootherstep: function(t, e, n) {
                    return t <= e ? 0 : t >= n ? 1 : (t = (t - e) / (n - e)) * t * t * (t * (6 * t - 15) + 10)
                },
                randInt: function(t, e) {
                    return t + Math.floor(Math.random() * (e - t + 1))
                },
                randFloat: function(t, e) {
                    return t + Math.random() * (e - t)
                },
                randFloatSpread: function(t) {
                    return t * (.5 - Math.random())
                },
                degToRad: function(t) {
                    return t * Qi.DEG2RAD
                },
                radToDeg: function(t) {
                    return t * Qi.RAD2DEG
                },
                isPowerOfTwo: function(t) {
                    return 0 == (t & t - 1) && 0 !== t
                },
                nearestPowerOfTwo: function(t) {
                    return Math.pow(2, Math.round(Math.log(t) / Math.LN2))
                },
                nextPowerOfTwo: function(t) {
                    return t--, t |= t >> 1, t |= t >> 2, t |= t >> 4, t |= t >> 8, t |= t >> 16, ++t
                }
            };
        (0, Bn.default)(o.prototype, {
            width: {
                get: function() {
                    return this.x
                },
                set: function(t) {
                    this.x = t
                }
            },
            height: {
                get: function() {
                    return this.y
                },
                set: function(t) {
                    this.y = t
                }
            }
        }), (0, kn.default)(o.prototype, {
            isVector2: !0,
            set: function(t, e) {
                return this.x = t, this.y = e, this
            },
            setScalar: function(t) {
                return this.x = t, this.y = t, this
            },
            setX: function(t) {
                return this.x = t, this
            },
            setY: function(t) {
                return this.y = t, this
            },
            setComponent: function(t, e) {
                switch (t) {
                    case 0:
                        this.x = e;
                        break;
                    case 1:
                        this.y = e;
                        break;
                    default:
                        throw new Error("index is out of range: " + t)
                }
                return this
            },
            getComponent: function(t) {
                switch (t) {
                    case 0:
                        return this.x;
                    case 1:
                        return this.y;
                    default:
                        throw new Error("index is out of range: " + t)
                }
            },
            clone: function() {
                return new this.constructor(this.x, this.y)
            },
            copy: function(t) {
                return this.x = t.x, this.y = t.y, this
            },
            add: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this)
            },
            addScalar: function(t) {
                return this.x += t, this.y += t, this
            },
            addVectors: function(t, e) {
                return this.x = t.x + e.x, this.y = t.y + e.y, this
            },
            addScaledVector: function(t, e) {
                return this.x += t.x * e, this.y += t.y * e, this
            },
            sub: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this)
            },
            subScalar: function(t) {
                return this.x -= t, this.y -= t, this
            },
            subVectors: function(t, e) {
                return this.x = t.x - e.x, this.y = t.y - e.y, this
            },
            multiply: function(t) {
                return this.x *= t.x, this.y *= t.y, this
            },
            multiplyScalar: function(t) {
                return this.x *= t, this.y *= t, this
            },
            divide: function(t) {
                return this.x /= t.x, this.y /= t.y, this
            },
            divideScalar: function(t) {
                return this.multiplyScalar(1 / t)
            },
            min: function(t) {
                return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this
            },
            max: function(t) {
                return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this
            },
            clamp: function(t, e) {
                return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this
            },
            clampScalar: function() {
                var t, e;
                return function(n, r) {
                    return void 0 === t && (t = new o, e = new o), t.set(n, n), e.set(r, r), this.clamp(t, e)
                }
            }(),
            clampLength: function(t, e) {
                var n = this.length();
                return this.multiplyScalar(Math.max(t, Math.min(e, n)) / n)
            },
            floor: function() {
                return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
            },
            ceil: function() {
                return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
            },
            round: function() {
                return this.x = Math.round(this.x), this.y = Math.round(this.y), this
            },
            roundToZero: function() {
                return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this
            },
            negate: function() {
                return this.x = -this.x, this.y = -this.y, this
            },
            dot: function(t) {
                return this.x * t.x + this.y * t.y
            },
            lengthSq: function() {
                return this.x * this.x + this.y * this.y
            },
            length: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y)
            },
            lengthManhattan: function() {
                return Math.abs(this.x) + Math.abs(this.y)
            },
            normalize: function() {
                return this.divideScalar(this.length())
            },
            angle: function() {
                var t = Math.atan2(this.y, this.x);
                return t < 0 && (t += 2 * Math.PI), t
            },
            distanceTo: function(t) {
                return Math.sqrt(this.distanceToSquared(t))
            },
            distanceToSquared: function(t) {
                var e = this.x - t.x,
                    n = this.y - t.y;
                return e * e + n * n
            },
            distanceToManhattan: function(t) {
                return Math.abs(this.x - t.x) + Math.abs(this.y - t.y)
            },
            setLength: function(t) {
                return this.multiplyScalar(t / this.length())
            },
            lerp: function(t, e) {
                return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this
            },
            lerpVectors: function(t, e, n) {
                return this.subVectors(e, t).multiplyScalar(n).add(t)
            },
            equals: function(t) {
                return t.x === this.x && t.y === this.y
            },
            fromArray: function(t, e) {
                return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this
            },
            toArray: function(t, e) {
                return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t
            },
            fromBufferAttribute: function(t, e, n) {
                return void 0 !== n && console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."), this.x = t.getX(e), this.y = t.getY(e), this
            },
            rotateAround: function(t, e) {
                var n = Math.cos(e),
                    r = Math.sin(e),
                    i = this.x - t.x,
                    o = this.y - t.y;
                return this.x = i * n - o * r + t.x, this.y = i * r + o * n + t.y, this
            }
        });
        var qi = 0;
        a.DEFAULT_IMAGE = void 0, a.DEFAULT_MAPPING = 300, Object.defineProperty(a.prototype, "needsUpdate", {
            set: function(t) {
                !0 === t && this.version++
            }
        }), (0, kn.default)(a.prototype, i.prototype, {
            constructor: a,
            isTexture: !0,
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                return this.name = t.name, this.image = t.image, this.mipmaps = t.mipmaps.slice(0), this.mapping = t.mapping, this.wrapS = t.wrapS, this.wrapT = t.wrapT, this.magFilter = t.magFilter, this.minFilter = t.minFilter, this.anisotropy = t.anisotropy, this.format = t.format, this.type = t.type, this.offset.copy(t.offset), this.repeat.copy(t.repeat), this.generateMipmaps = t.generateMipmaps, this.premultiplyAlpha = t.premultiplyAlpha, this.flipY = t.flipY, this.unpackAlignment = t.unpackAlignment, this.encoding = t.encoding, this
            },
            toJSON: function(t) {
                if (void 0 !== t.textures[this.uuid]) return t.textures[this.uuid];
                var e = {
                    metadata: {
                        version: 4.5,
                        type: "Texture",
                        generator: "Texture.toJSON"
                    },
                    uuid: this.uuid,
                    name: this.name,
                    mapping: this.mapping,
                    repeat: [this.repeat.x, this.repeat.y],
                    offset: [this.offset.x, this.offset.y],
                    wrap: [this.wrapS, this.wrapT],
                    minFilter: this.minFilter,
                    magFilter: this.magFilter,
                    anisotropy: this.anisotropy,
                    flipY: this.flipY
                };
                if (void 0 !== this.image) {
                    var n = this.image;
                    void 0 === n.uuid && (n.uuid = Qi.generateUUID()), void 0 === t.images[n.uuid] && (t.images[n.uuid] = {
                        uuid: n.uuid,
                        url: function(t) {
                            var e;
                            return void 0 !== t.toDataURL ? e = t : (e = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"), e.width = t.width, e.height = t.height, e.getContext("2d").drawImage(t, 0, 0, t.width, t.height)), e.width > 2048 || e.height > 2048 ? e.toDataURL("image/jpeg", .6) : e.toDataURL("image/png")
                        }(n)
                    }), e.image = n.uuid
                }
                return t.textures[this.uuid] = e, e
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            },
            transformUv: function(t) {
                if (300 === this.mapping) {
                    if (t.multiply(this.repeat), t.add(this.offset), t.x < 0 || t.x > 1) switch (this.wrapS) {
                        case Zr:
                            t.x = t.x - Math.floor(t.x);
                            break;
                        case Jr:
                            t.x = t.x < 0 ? 0 : 1;
                            break;
                        case Kr:
                            1 === Math.abs(Math.floor(t.x) % 2) ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x)
                    }
                    if (t.y < 0 || t.y > 1) switch (this.wrapT) {
                        case Zr:
                            t.y = t.y - Math.floor(t.y);
                            break;
                        case Jr:
                            t.y = t.y < 0 ? 0 : 1;
                            break;
                        case Kr:
                            1 === Math.abs(Math.floor(t.y) % 2) ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y)
                    }
                    this.flipY && (t.y = 1 - t.y)
                }
            }
        }), (0, kn.default)(s.prototype, {
            isVector4: !0,
            set: function(t, e, n, r) {
                return this.x = t, this.y = e, this.z = n, this.w = r, this
            },
            setScalar: function(t) {
                return this.x = t, this.y = t, this.z = t, this.w = t, this
            },
            setX: function(t) {
                return this.x = t, this
            },
            setY: function(t) {
                return this.y = t, this
            },
            setZ: function(t) {
                return this.z = t, this
            },
            setW: function(t) {
                return this.w = t, this
            },
            setComponent: function(t, e) {
                switch (t) {
                    case 0:
                        this.x = e;
                        break;
                    case 1:
                        this.y = e;
                        break;
                    case 2:
                        this.z = e;
                        break;
                    case 3:
                        this.w = e;
                        break;
                    default:
                        throw new Error("index is out of range: " + t)
                }
                return this
            },
            getComponent: function(t) {
                switch (t) {
                    case 0:
                        return this.x;
                    case 1:
                        return this.y;
                    case 2:
                        return this.z;
                    case 3:
                        return this.w;
                    default:
                        throw new Error("index is out of range: " + t)
                }
            },
            clone: function() {
                return new this.constructor(this.x, this.y, this.z, this.w)
            },
            copy: function(t) {
                return this.x = t.x, this.y = t.y, this.z = t.z, this.w = void 0 !== t.w ? t.w : 1, this
            },
            add: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this)
            },
            addScalar: function(t) {
                return this.x += t, this.y += t, this.z += t, this.w += t, this
            },
            addVectors: function(t, e) {
                return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this.w = t.w + e.w, this
            },
            addScaledVector: function(t, e) {
                return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this.w += t.w * e, this
            },
            sub: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this)
            },
            subScalar: function(t) {
                return this.x -= t, this.y -= t, this.z -= t, this.w -= t, this
            },
            subVectors: function(t, e) {
                return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this.w = t.w - e.w, this
            },
            multiplyScalar: function(t) {
                return this.x *= t, this.y *= t, this.z *= t, this.w *= t, this
            },
            applyMatrix4: function(t) {
                var e = this.x,
                    n = this.y,
                    r = this.z,
                    i = this.w,
                    o = t.elements;
                return this.x = o[0] * e + o[4] * n + o[8] * r + o[12] * i, this.y = o[1] * e + o[5] * n + o[9] * r + o[13] * i, this.z = o[2] * e + o[6] * n + o[10] * r + o[14] * i, this.w = o[3] * e + o[7] * n + o[11] * r + o[15] * i, this
            },
            divideScalar: function(t) {
                return this.multiplyScalar(1 / t)
            },
            setAxisAngleFromQuaternion: function(t) {
                this.w = 2 * Math.acos(t.w);
                var e = Math.sqrt(1 - t.w * t.w);
                return e < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = t.x / e, this.y = t.y / e, this.z = t.z / e), this
            },
            setAxisAngleFromRotationMatrix: function(t) {
                var e, n, r, i, o = t.elements,
                    a = o[0],
                    s = o[4],
                    u = o[8],
                    c = o[1],
                    l = o[5],
                    f = o[9],
                    h = o[2],
                    d = o[6],
                    p = o[10];
                if (Math.abs(s - c) < .01 && Math.abs(u - h) < .01 && Math.abs(f - d) < .01) {
                    if (Math.abs(s + c) < .1 && Math.abs(u + h) < .1 && Math.abs(f + d) < .1 && Math.abs(a + l + p - 3) < .1) return this.set(1, 0, 0, 0), this;
                    e = Math.PI;
                    var m = (a + 1) / 2,
                        v = (l + 1) / 2,
                        g = (p + 1) / 2,
                        A = (s + c) / 4,
                        y = (u + h) / 4,
                        x = (f + d) / 4;
                    return m > v && m > g ? m < .01 ? (n = 0, r = .707106781, i = .707106781) : (n = Math.sqrt(m), r = A / n, i = y / n) : v > g ? v < .01 ? (n = .707106781, r = 0, i = .707106781) : (r = Math.sqrt(v), n = A / r, i = x / r) : g < .01 ? (n = .707106781, r = .707106781, i = 0) : (i = Math.sqrt(g), n = y / i, r = x / i), this.set(n, r, i, e), this
                }
                var _ = Math.sqrt((d - f) * (d - f) + (u - h) * (u - h) + (c - s) * (c - s));
                return Math.abs(_) < .001 && (_ = 1), this.x = (d - f) / _, this.y = (u - h) / _, this.z = (c - s) / _, this.w = Math.acos((a + l + p - 1) / 2), this
            },
            min: function(t) {
                return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this.w = Math.min(this.w, t.w), this
            },
            max: function(t) {
                return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this.w = Math.max(this.w, t.w), this
            },
            clamp: function(t, e) {
                return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this.w = Math.max(t.w, Math.min(e.w, this.w)), this
            },
            clampScalar: function() {
                var t = new s,
                    e = new s;
                return function(n, r) {
                    return t.set(n, n, n, n), e.set(r, r, r, r), this.clamp(t, e)
                }
            }(),
            floor: function() {
                return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this
            },
            ceil: function() {
                return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this
            },
            round: function() {
                return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this
            },
            roundToZero: function() {
                return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this
            },
            negate: function() {
                return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this
            },
            dot: function(t) {
                return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
            },
            lengthSq: function() {
                return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
            },
            length: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
            },
            lengthManhattan: function() {
                return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
            },
            normalize: function() {
                return this.divideScalar(this.length())
            },
            setLength: function(t) {
                return this.multiplyScalar(t / this.length())
            },
            lerp: function(t, e) {
                return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this.w += (t.w - this.w) * e, this
            },
            lerpVectors: function(t, e, n) {
                return this.subVectors(e, t).multiplyScalar(n).add(t)
            },
            equals: function(t) {
                return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w
            },
            fromArray: function(t, e) {
                return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this.w = t[e + 3], this
            },
            toArray: function(t, e) {
                return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t[e + 3] = this.w, t
            },
            fromBufferAttribute: function(t, e, n) {
                return void 0 !== n && console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."), this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this.w = t.getW(e), this
            }
        }), (0, kn.default)(u.prototype, i.prototype, {
            isWebGLRenderTarget: !0,
            setSize: function(t, e) {
                this.width === t && this.height === e || (this.width = t, this.height = e, this.dispose()), this.viewport.set(0, 0, t, e), this.scissor.set(0, 0, t, e)
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                return this.width = t.width, this.height = t.height, this.viewport.copy(t.viewport), this.texture = t.texture.clone(), this.depthBuffer = t.depthBuffer, this.stencilBuffer = t.stencilBuffer, this.depthTexture = t.depthTexture, this
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            }
        }), c.prototype = (0, On.default)(u.prototype), c.prototype.constructor = c, c.prototype.isWebGLRenderTargetCube = !0, (0, kn.default)(l, {
            slerp: function(t, e, n, r) {
                return n.copy(t).slerp(e, r)
            },
            slerpFlat: function(t, e, n, r, i, o, a) {
                var s = n[r + 0],
                    u = n[r + 1],
                    c = n[r + 2],
                    l = n[r + 3],
                    f = i[o + 0],
                    h = i[o + 1],
                    d = i[o + 2],
                    p = i[o + 3];
                if (l !== p || s !== f || u !== h || c !== d) {
                    var m = 1 - a,
                        v = s * f + u * h + c * d + l * p,
                        g = v >= 0 ? 1 : -1,
                        A = 1 - v * v;
                    if (A > Hn.default) {
                        var y = Math.sqrt(A),
                            x = Math.atan2(y, v * g);
                        m = Math.sin(m * x) / y, a = Math.sin(a * x) / y
                    }
                    var _ = a * g;
                    if (s = s * m + f * _, u = u * m + h * _, c = c * m + d * _, l = l * m + p * _, m === 1 - a) {
                        var b = 1 / Math.sqrt(s * s + u * u + c * c + l * l);
                        s *= b, u *= b, c *= b, l *= b
                    }
                }
                t[e] = s, t[e + 1] = u, t[e + 2] = c, t[e + 3] = l
            }
        }), (0, Bn.default)(l.prototype, {
            x: {
                get: function() {
                    return this._x
                },
                set: function(t) {
                    this._x = t, this.onChangeCallback()
                }
            },
            y: {
                get: function() {
                    return this._y
                },
                set: function(t) {
                    this._y = t, this.onChangeCallback()
                }
            },
            z: {
                get: function() {
                    return this._z
                },
                set: function(t) {
                    this._z = t, this.onChangeCallback()
                }
            },
            w: {
                get: function() {
                    return this._w
                },
                set: function(t) {
                    this._w = t, this.onChangeCallback()
                }
            }
        }), (0, kn.default)(l.prototype, {
            set: function(t, e, n, r) {
                return this._x = t, this._y = e, this._z = n, this._w = r, this.onChangeCallback(), this
            },
            clone: function() {
                return new this.constructor(this._x, this._y, this._z, this._w)
            },
            copy: function(t) {
                return this._x = t.x, this._y = t.y, this._z = t.z, this._w = t.w, this.onChangeCallback(), this
            },
            setFromEuler: function(t, e) {
                if (!1 === (t && t.isEuler)) throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
                var n = t._x,
                    r = t._y,
                    i = t._z,
                    o = t.order,
                    a = Math.cos,
                    s = Math.sin,
                    u = a(n / 2),
                    c = a(r / 2),
                    l = a(i / 2),
                    f = s(n / 2),
                    h = s(r / 2),
                    d = s(i / 2);
                return "XYZ" === o ? (this._x = f * c * l + u * h * d, this._y = u * h * l - f * c * d, this._z = u * c * d + f * h * l, this._w = u * c * l - f * h * d) : "YXZ" === o ? (this._x = f * c * l + u * h * d, this._y = u * h * l - f * c * d, this._z = u * c * d - f * h * l, this._w = u * c * l + f * h * d) : "ZXY" === o ? (this._x = f * c * l - u * h * d, this._y = u * h * l + f * c * d, this._z = u * c * d + f * h * l, this._w = u * c * l - f * h * d) : "ZYX" === o ? (this._x = f * c * l - u * h * d, this._y = u * h * l + f * c * d, this._z = u * c * d - f * h * l, this._w = u * c * l + f * h * d) : "YZX" === o ? (this._x = f * c * l + u * h * d, this._y = u * h * l + f * c * d, this._z = u * c * d - f * h * l, this._w = u * c * l - f * h * d) : "XZY" === o && (this._x = f * c * l - u * h * d, this._y = u * h * l - f * c * d, this._z = u * c * d + f * h * l, this._w = u * c * l + f * h * d), !1 !== e && this.onChangeCallback(), this
            },
            setFromAxisAngle: function(t, e) {
                var n = e / 2,
                    r = Math.sin(n);
                return this._x = t.x * r, this._y = t.y * r, this._z = t.z * r, this._w = Math.cos(n), this.onChangeCallback(), this
            },
            setFromRotationMatrix: function(t) {
                var e, n = t.elements,
                    r = n[0],
                    i = n[4],
                    o = n[8],
                    a = n[1],
                    s = n[5],
                    u = n[9],
                    c = n[2],
                    l = n[6],
                    f = n[10],
                    h = r + s + f;
                return h > 0 ? (e = .5 / Math.sqrt(h + 1), this._w = .25 / e, this._x = (l - u) * e, this._y = (o - c) * e, this._z = (a - i) * e) : r > s && r > f ? (e = 2 * Math.sqrt(1 + r - s - f), this._w = (l - u) / e, this._x = .25 * e, this._y = (i + a) / e, this._z = (o + c) / e) : s > f ? (e = 2 * Math.sqrt(1 + s - r - f), this._w = (o - c) / e, this._x = (i + a) / e, this._y = .25 * e, this._z = (u + l) / e) : (e = 2 * Math.sqrt(1 + f - r - s), this._w = (a - i) / e, this._x = (o + c) / e, this._y = (u + l) / e, this._z = .25 * e), this.onChangeCallback(), this
            },
            setFromUnitVectors: function() {
                var t, e;
                return function(n, r) {
                    return void 0 === t && (t = new f), e = n.dot(r) + 1, e < 1e-6 ? (e = 0, Math.abs(n.x) > Math.abs(n.z) ? t.set(-n.y, n.x, 0) : t.set(0, -n.z, n.y)) : t.crossVectors(n, r), this._x = t.x, this._y = t.y, this._z = t.z, this._w = e, this.normalize()
                }
            }(),
            inverse: function() {
                return this.conjugate().normalize()
            },
            conjugate: function() {
                return this._x *= -1, this._y *= -1, this._z *= -1, this.onChangeCallback(), this
            },
            dot: function(t) {
                return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
            },
            lengthSq: function() {
                return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
            },
            length: function() {
                return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
            },
            normalize: function() {
                var t = this.length();
                return 0 === t ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (t = 1 / t, this._x = this._x * t, this._y = this._y * t, this._z = this._z * t, this._w = this._w * t), this.onChangeCallback(), this
            },
            multiply: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."), this.multiplyQuaternions(t, e)) : this.multiplyQuaternions(this, t)
            },
            premultiply: function(t) {
                return this.multiplyQuaternions(t, this)
            },
            multiplyQuaternions: function(t, e) {
                var n = t._x,
                    r = t._y,
                    i = t._z,
                    o = t._w,
                    a = e._x,
                    s = e._y,
                    u = e._z,
                    c = e._w;
                return this._x = n * c + o * a + r * u - i * s, this._y = r * c + o * s + i * a - n * u, this._z = i * c + o * u + n * s - r * a, this._w = o * c - n * a - r * s - i * u, this.onChangeCallback(), this
            },
            slerp: function(t, e) {
                if (0 === e) return this;
                if (1 === e) return this.copy(t);
                var n = this._x,
                    r = this._y,
                    i = this._z,
                    o = this._w,
                    a = o * t._w + n * t._x + r * t._y + i * t._z;
                if (a < 0 ? (this._w = -t._w, this._x = -t._x, this._y = -t._y, this._z = -t._z, a = -a) : this.copy(t), a >= 1) return this._w = o, this._x = n, this._y = r, this._z = i, this;
                var s = Math.sqrt(1 - a * a);
                if (Math.abs(s) < .001) return this._w = .5 * (o + this._w), this._x = .5 * (n + this._x), this._y = .5 * (r + this._y), this._z = .5 * (i + this._z), this;
                var u = Math.atan2(s, a),
                    c = Math.sin((1 - e) * u) / s,
                    l = Math.sin(e * u) / s;
                return this._w = o * c + this._w * l, this._x = n * c + this._x * l, this._y = r * c + this._y * l, this._z = i * c + this._z * l, this.onChangeCallback(), this
            },
            equals: function(t) {
                return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w
            },
            fromArray: function(t, e) {
                return void 0 === e && (e = 0), this._x = t[e], this._y = t[e + 1], this._z = t[e + 2], this._w = t[e + 3], this.onChangeCallback(), this
            },
            toArray: function(t, e) {
                return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._w, t
            },
            onChange: function(t) {
                return this.onChangeCallback = t, this
            },
            onChangeCallback: function() {}
        }), (0, kn.default)(f.prototype, {
            isVector3: !0,
            set: function(t, e, n) {
                return this.x = t, this.y = e, this.z = n, this
            },
            setScalar: function(t) {
                return this.x = t, this.y = t, this.z = t, this
            },
            setX: function(t) {
                return this.x = t, this
            },
            setY: function(t) {
                return this.y = t, this
            },
            setZ: function(t) {
                return this.z = t, this
            },
            setComponent: function(t, e) {
                switch (t) {
                    case 0:
                        this.x = e;
                        break;
                    case 1:
                        this.y = e;
                        break;
                    case 2:
                        this.z = e;
                        break;
                    default:
                        throw new Error("index is out of range: " + t)
                }
                return this
            },
            getComponent: function(t) {
                switch (t) {
                    case 0:
                        return this.x;
                    case 1:
                        return this.y;
                    case 2:
                        return this.z;
                    default:
                        throw new Error("index is out of range: " + t)
                }
            },
            clone: function() {
                return new this.constructor(this.x, this.y, this.z)
            },
            copy: function(t) {
                return this.x = t.x, this.y = t.y, this.z = t.z, this
            },
            add: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this.z += t.z, this)
            },
            addScalar: function(t) {
                return this.x += t, this.y += t, this.z += t, this
            },
            addVectors: function(t, e) {
                return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this
            },
            addScaledVector: function(t, e) {
                return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this
            },
            sub: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this)
            },
            subScalar: function(t) {
                return this.x -= t, this.y -= t, this.z -= t, this
            },
            subVectors: function(t, e) {
                return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this
            },
            multiply: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."), this.multiplyVectors(t, e)) : (this.x *= t.x, this.y *= t.y, this.z *= t.z, this)
            },
            multiplyScalar: function(t) {
                return this.x *= t, this.y *= t, this.z *= t, this
            },
            multiplyVectors: function(t, e) {
                return this.x = t.x * e.x, this.y = t.y * e.y, this.z = t.z * e.z, this
            },
            applyEuler: function() {
                var t;
                return function(e) {
                    return !1 === (e && e.isEuler) && console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."), void 0 === t && (t = new l), this.applyQuaternion(t.setFromEuler(e))
                }
            }(),
            applyAxisAngle: function() {
                var t;
                return function(e, n) {
                    return void 0 === t && (t = new l), this.applyQuaternion(t.setFromAxisAngle(e, n))
                }
            }(),
            applyMatrix3: function(t) {
                var e = this.x,
                    n = this.y,
                    r = this.z,
                    i = t.elements;
                return this.x = i[0] * e + i[3] * n + i[6] * r, this.y = i[1] * e + i[4] * n + i[7] * r, this.z = i[2] * e + i[5] * n + i[8] * r, this
            },
            applyMatrix4: function(t) {
                var e = this.x,
                    n = this.y,
                    r = this.z,
                    i = t.elements;
                this.x = i[0] * e + i[4] * n + i[8] * r + i[12], this.y = i[1] * e + i[5] * n + i[9] * r + i[13], this.z = i[2] * e + i[6] * n + i[10] * r + i[14];
                var o = i[3] * e + i[7] * n + i[11] * r + i[15];
                return this.divideScalar(o)
            },
            applyQuaternion: function(t) {
                var e = this.x,
                    n = this.y,
                    r = this.z,
                    i = t.x,
                    o = t.y,
                    a = t.z,
                    s = t.w,
                    u = s * e + o * r - a * n,
                    c = s * n + a * e - i * r,
                    l = s * r + i * n - o * e,
                    f = -i * e - o * n - a * r;
                return this.x = u * s + f * -i + c * -a - l * -o, this.y = c * s + f * -o + l * -i - u * -a, this.z = l * s + f * -a + u * -o - c * -i, this
            },
            project: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new h), t.multiplyMatrices(e.projectionMatrix, t.getInverse(e.matrixWorld)), this.applyMatrix4(t)
                }
            }(),
            unproject: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new h), t.multiplyMatrices(e.matrixWorld, t.getInverse(e.projectionMatrix)), this.applyMatrix4(t)
                }
            }(),
            transformDirection: function(t) {
                var e = this.x,
                    n = this.y,
                    r = this.z,
                    i = t.elements;
                return this.x = i[0] * e + i[4] * n + i[8] * r, this.y = i[1] * e + i[5] * n + i[9] * r, this.z = i[2] * e + i[6] * n + i[10] * r, this.normalize()
            },
            divide: function(t) {
                return this.x /= t.x, this.y /= t.y, this.z /= t.z, this
            },
            divideScalar: function(t) {
                return this.multiplyScalar(1 / t)
            },
            min: function(t) {
                return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this
            },
            max: function(t) {
                return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this
            },
            clamp: function(t, e) {
                return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this
            },
            clampScalar: function() {
                var t, e;
                return function(n, r) {
                    return void 0 === t && (t = new f, e = new f), t.set(n, n, n), e.set(r, r, r), this.clamp(t, e)
                }
            }(),
            clampLength: function(t, e) {
                var n = this.length();
                return this.multiplyScalar(Math.max(t, Math.min(e, n)) / n)
            },
            floor: function() {
                return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this
            },
            ceil: function() {
                return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this
            },
            round: function() {
                return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this
            },
            roundToZero: function() {
                return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this
            },
            negate: function() {
                return this.x = -this.x, this.y = -this.y, this.z = -this.z, this
            },
            dot: function(t) {
                return this.x * t.x + this.y * t.y + this.z * t.z
            },
            lengthSq: function() {
                return this.x * this.x + this.y * this.y + this.z * this.z
            },
            length: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
            },
            lengthManhattan: function() {
                return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
            },
            normalize: function() {
                return this.divideScalar(this.length())
            },
            setLength: function(t) {
                return this.multiplyScalar(t / this.length())
            },
            lerp: function(t, e) {
                return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this
            },
            lerpVectors: function(t, e, n) {
                return this.subVectors(e, t).multiplyScalar(n).add(t)
            },
            cross: function(t, e) {
                if (void 0 !== e) return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), this.crossVectors(t, e);
                var n = this.x,
                    r = this.y,
                    i = this.z;
                return this.x = r * t.z - i * t.y, this.y = i * t.x - n * t.z, this.z = n * t.y - r * t.x, this
            },
            crossVectors: function(t, e) {
                var n = t.x,
                    r = t.y,
                    i = t.z,
                    o = e.x,
                    a = e.y,
                    s = e.z;
                return this.x = r * s - i * a, this.y = i * o - n * s, this.z = n * a - r * o, this
            },
            projectOnVector: function(t) {
                var e = t.dot(this) / t.lengthSq();
                return this.copy(t).multiplyScalar(e)
            },
            projectOnPlane: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new f), t.copy(this).projectOnVector(e), this.sub(t)
                }
            }(),
            reflect: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new f), this.sub(t.copy(e).multiplyScalar(2 * this.dot(e)))
                }
            }(),
            angleTo: function(t) {
                var e = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq());
                return Math.acos(Qi.clamp(e, -1, 1))
            },
            distanceTo: function(t) {
                return Math.sqrt(this.distanceToSquared(t))
            },
            distanceToSquared: function(t) {
                var e = this.x - t.x,
                    n = this.y - t.y,
                    r = this.z - t.z;
                return e * e + n * n + r * r
            },
            distanceToManhattan: function(t) {
                return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z)
            },
            setFromSpherical: function(t) {
                var e = Math.sin(t.phi) * t.radius;
                return this.x = e * Math.sin(t.theta), this.y = Math.cos(t.phi) * t.radius, this.z = e * Math.cos(t.theta), this
            },
            setFromCylindrical: function(t) {
                return this.x = t.radius * Math.sin(t.theta), this.y = t.y, this.z = t.radius * Math.cos(t.theta), this
            },
            setFromMatrixPosition: function(t) {
                return this.setFromMatrixColumn(t, 3)
            },
            setFromMatrixScale: function(t) {
                var e = this.setFromMatrixColumn(t, 0).length(),
                    n = this.setFromMatrixColumn(t, 1).length(),
                    r = this.setFromMatrixColumn(t, 2).length();
                return this.x = e, this.y = n, this.z = r, this
            },
            setFromMatrixColumn: function(t, e) {
                return this.fromArray(t.elements, 4 * e)
            },
            equals: function(t) {
                return t.x === this.x && t.y === this.y && t.z === this.z
            },
            fromArray: function(t, e) {
                return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this
            },
            toArray: function(t, e) {
                return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t
            },
            fromBufferAttribute: function(t, e, n) {
                return void 0 !== n && console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."), this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this
            }
        }), (0, kn.default)(h.prototype, {
            isMatrix4: !0,
            set: function(t, e, n, r, i, o, a, s, u, c, l, f, h, d, p, m) {
                var v = this.elements;
                return v[0] = t, v[4] = e, v[8] = n, v[12] = r, v[1] = i, v[5] = o, v[9] = a, v[13] = s, v[2] = u, v[6] = c, v[10] = l, v[14] = f, v[3] = h, v[7] = d, v[11] = p, v[15] = m, this
            },
            identity: function() {
                return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
            },
            clone: function() {
                return (new h).fromArray(this.elements)
            },
            copy: function(t) {
                var e = this.elements,
                    n = t.elements;
                return e[0] = n[0], e[1] = n[1], e[2] = n[2], e[3] = n[3], e[4] = n[4], e[5] = n[5], e[6] = n[6], e[7] = n[7], e[8] = n[8], e[9] = n[9], e[10] = n[10], e[11] = n[11], e[12] = n[12], e[13] = n[13], e[14] = n[14], e[15] = n[15], this
            },
            copyPosition: function(t) {
                var e = this.elements,
                    n = t.elements;
                return e[12] = n[12], e[13] = n[13], e[14] = n[14], this
            },
            extractBasis: function(t, e, n) {
                return t.setFromMatrixColumn(this, 0), e.setFromMatrixColumn(this, 1), n.setFromMatrixColumn(this, 2), this
            },
            makeBasis: function(t, e, n) {
                return this.set(t.x, e.x, n.x, 0, t.y, e.y, n.y, 0, t.z, e.z, n.z, 0, 0, 0, 0, 1), this
            },
            extractRotation: function() {
                var t;
                return function(e) {
                    void 0 === t && (t = new f);
                    var n = this.elements,
                        r = e.elements,
                        i = 1 / t.setFromMatrixColumn(e, 0).length(),
                        o = 1 / t.setFromMatrixColumn(e, 1).length(),
                        a = 1 / t.setFromMatrixColumn(e, 2).length();
                    return n[0] = r[0] * i, n[1] = r[1] * i, n[2] = r[2] * i, n[4] = r[4] * o, n[5] = r[5] * o, n[6] = r[6] * o, n[8] = r[8] * a, n[9] = r[9] * a, n[10] = r[10] * a, this
                }
            }(),
            makeRotationFromEuler: function(t) {
                !1 === (t && t.isEuler) && console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
                var e = this.elements,
                    n = t.x,
                    r = t.y,
                    i = t.z,
                    o = Math.cos(n),
                    a = Math.sin(n),
                    s = Math.cos(r),
                    u = Math.sin(r),
                    c = Math.cos(i),
                    l = Math.sin(i);
                if ("XYZ" === t.order) {
                    var f = o * c,
                        h = o * l,
                        d = a * c,
                        p = a * l;
                    e[0] = s * c, e[4] = -s * l, e[8] = u, e[1] = h + d * u, e[5] = f - p * u, e[9] = -a * s, e[2] = p - f * u, e[6] = d + h * u, e[10] = o * s
                } else if ("YXZ" === t.order) {
                    var m = s * c,
                        v = s * l,
                        g = u * c,
                        A = u * l;
                    e[0] = m + A * a, e[4] = g * a - v, e[8] = o * u, e[1] = o * l, e[5] = o * c, e[9] = -a, e[2] = v * a - g, e[6] = A + m * a, e[10] = o * s
                } else if ("ZXY" === t.order) {
                    var m = s * c,
                        v = s * l,
                        g = u * c,
                        A = u * l;
                    e[0] = m - A * a, e[4] = -o * l, e[8] = g + v * a, e[1] = v + g * a, e[5] = o * c, e[9] = A - m * a, e[2] = -o * u, e[6] = a, e[10] = o * s
                } else if ("ZYX" === t.order) {
                    var f = o * c,
                        h = o * l,
                        d = a * c,
                        p = a * l;
                    e[0] = s * c, e[4] = d * u - h, e[8] = f * u + p, e[1] = s * l, e[5] = p * u + f, e[9] = h * u - d, e[2] = -u, e[6] = a * s, e[10] = o * s
                } else if ("YZX" === t.order) {
                    var y = o * s,
                        x = o * u,
                        _ = a * s,
                        b = a * u;
                    e[0] = s * c, e[4] = b - y * l, e[8] = _ * l + x, e[1] = l, e[5] = o * c, e[9] = -a * c, e[2] = -u * c, e[6] = x * l + _, e[10] = y - b * l
                } else if ("XZY" === t.order) {
                    var y = o * s,
                        x = o * u,
                        _ = a * s,
                        b = a * u;
                    e[0] = s * c, e[4] = -l, e[8] = u * c, e[1] = y * l + b, e[5] = o * c, e[9] = x * l - _, e[2] = _ * l - x, e[6] = a * c, e[10] = b * l + y
                }
                return e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
            },
            makeRotationFromQuaternion: function(t) {
                var e = this.elements,
                    n = t._x,
                    r = t._y,
                    i = t._z,
                    o = t._w,
                    a = n + n,
                    s = r + r,
                    u = i + i,
                    c = n * a,
                    l = n * s,
                    f = n * u,
                    h = r * s,
                    d = r * u,
                    p = i * u,
                    m = o * a,
                    v = o * s,
                    g = o * u;
                return e[0] = 1 - (h + p), e[4] = l - g, e[8] = f + v, e[1] = l + g, e[5] = 1 - (c + p), e[9] = d - m, e[2] = f - v, e[6] = d + m, e[10] = 1 - (c + h), e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
            },
            lookAt: function() {
                var t, e, n;
                return function(r, i, o) {
                    void 0 === t && (t = new f, e = new f, n = new f);
                    var a = this.elements;
                    return n.subVectors(r, i), 0 === n.lengthSq() && (n.z = 1), n.normalize(), t.crossVectors(o, n), 0 === t.lengthSq() && (n.z += 1e-4, t.crossVectors(o, n)), t.normalize(), e.crossVectors(n, t), a[0] = t.x, a[4] = e.x, a[8] = n.x, a[1] = t.y, a[5] = e.y, a[9] = n.y, a[2] = t.z, a[6] = e.z, a[10] = n.z, this
                }
            }(),
            multiply: function(t, e) {
                return void 0 !== e ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."), this.multiplyMatrices(t, e)) : this.multiplyMatrices(this, t)
            },
            premultiply: function(t) {
                return this.multiplyMatrices(t, this)
            },
            multiplyMatrices: function(t, e) {
                var n = t.elements,
                    r = e.elements,
                    i = this.elements,
                    o = n[0],
                    a = n[4],
                    s = n[8],
                    u = n[12],
                    c = n[1],
                    l = n[5],
                    f = n[9],
                    h = n[13],
                    d = n[2],
                    p = n[6],
                    m = n[10],
                    v = n[14],
                    g = n[3],
                    A = n[7],
                    y = n[11],
                    x = n[15],
                    _ = r[0],
                    b = r[4],
                    w = r[8],
                    M = r[12],
                    E = r[1],
                    S = r[5],
                    T = r[9],
                    L = r[13],
                    C = r[2],
                    P = r[6],
                    R = r[10],
                    D = r[14],
                    O = r[3],
                    I = r[7],
                    B = r[11],
                    N = r[15];
                return i[0] = o * _ + a * E + s * C + u * O, i[4] = o * b + a * S + s * P + u * I, i[8] = o * w + a * T + s * R + u * B, i[12] = o * M + a * L + s * D + u * N, i[1] = c * _ + l * E + f * C + h * O, i[5] = c * b + l * S + f * P + h * I, i[9] = c * w + l * T + f * R + h * B, i[13] = c * M + l * L + f * D + h * N, i[2] = d * _ + p * E + m * C + v * O, i[6] = d * b + p * S + m * P + v * I, i[10] = d * w + p * T + m * R + v * B, i[14] = d * M + p * L + m * D + v * N, i[3] = g * _ + A * E + y * C + x * O, i[7] = g * b + A * S + y * P + x * I, i[11] = g * w + A * T + y * R + x * B, i[15] = g * M + A * L + y * D + x * N, this
            },
            multiplyScalar: function(t) {
                var e = this.elements;
                return e[0] *= t, e[4] *= t, e[8] *= t, e[12] *= t, e[1] *= t, e[5] *= t, e[9] *= t, e[13] *= t, e[2] *= t, e[6] *= t, e[10] *= t, e[14] *= t, e[3] *= t, e[7] *= t, e[11] *= t, e[15] *= t, this
            },
            applyToBufferAttribute: function() {
                var t;
                return function(e) {
                    void 0 === t && (t = new f);
                    for (var n = 0, r = e.count; n < r; n++) t.x = e.getX(n), t.y = e.getY(n), t.z = e.getZ(n), t.applyMatrix4(this), e.setXYZ(n, t.x, t.y, t.z);
                    return e
                }
            }(),
            determinant: function() {
                var t = this.elements,
                    e = t[0],
                    n = t[4],
                    r = t[8],
                    i = t[12],
                    o = t[1],
                    a = t[5],
                    s = t[9],
                    u = t[13],
                    c = t[2],
                    l = t[6],
                    f = t[10],
                    h = t[14];
                return t[3] * (+i * s * l - r * u * l - i * a * f + n * u * f + r * a * h - n * s * h) + t[7] * (+e * s * h - e * u * f + i * o * f - r * o * h + r * u * c - i * s * c) + t[11] * (+e * u * l - e * a * h - i * o * l + n * o * h + i * a * c - n * u * c) + t[15] * (-r * a * c - e * s * l + e * a * f + r * o * l - n * o * f + n * s * c)
            },
            transpose: function() {
                var t, e = this.elements;
                return t = e[1], e[1] = e[4], e[4] = t, t = e[2], e[2] = e[8], e[8] = t, t = e[6], e[6] = e[9], e[9] = t, t = e[3], e[3] = e[12], e[12] = t, t = e[7], e[7] = e[13], e[13] = t, t = e[11], e[11] = e[14], e[14] = t, this
            },
            setPosition: function(t) {
                var e = this.elements;
                return e[12] = t.x, e[13] = t.y, e[14] = t.z, this
            },
            getInverse: function(t, e) {
                var n = this.elements,
                    r = t.elements,
                    i = r[0],
                    o = r[1],
                    a = r[2],
                    s = r[3],
                    u = r[4],
                    c = r[5],
                    l = r[6],
                    f = r[7],
                    h = r[8],
                    d = r[9],
                    p = r[10],
                    m = r[11],
                    v = r[12],
                    g = r[13],
                    A = r[14],
                    y = r[15],
                    x = d * A * f - g * p * f + g * l * m - c * A * m - d * l * y + c * p * y,
                    _ = v * p * f - h * A * f - v * l * m + u * A * m + h * l * y - u * p * y,
                    b = h * g * f - v * d * f + v * c * m - u * g * m - h * c * y + u * d * y,
                    w = v * d * l - h * g * l - v * c * p + u * g * p + h * c * A - u * d * A,
                    M = i * x + o * _ + a * b + s * w;
                if (0 === M) {
                    var E = "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";
                    if (!0 === e) throw new Error(E);
                    return console.warn(E), this.identity()
                }
                var S = 1 / M;
                return n[0] = x * S, n[1] = (g * p * s - d * A * s - g * a * m + o * A * m + d * a * y - o * p * y) * S, n[2] = (c * A * s - g * l * s + g * a * f - o * A * f - c * a * y + o * l * y) * S, n[3] = (d * l * s - c * p * s - d * a * f + o * p * f + c * a * m - o * l * m) * S, n[4] = _ * S, n[5] = (h * A * s - v * p * s + v * a * m - i * A * m - h * a * y + i * p * y) * S, n[6] = (v * l * s - u * A * s - v * a * f + i * A * f + u * a * y - i * l * y) * S, n[7] = (u * p * s - h * l * s + h * a * f - i * p * f - u * a * m + i * l * m) * S, n[8] = b * S, n[9] = (v * d * s - h * g * s - v * o * m + i * g * m + h * o * y - i * d * y) * S, n[10] = (u * g * s - v * c * s + v * o * f - i * g * f - u * o * y + i * c * y) * S, n[11] = (h * c * s - u * d * s - h * o * f + i * d * f + u * o * m - i * c * m) * S, n[12] = w * S, n[13] = (h * g * a - v * d * a + v * o * p - i * g * p - h * o * A + i * d * A) * S, n[14] = (v * c * a - u * g * a - v * o * l + i * g * l + u * o * A - i * c * A) * S, n[15] = (u * d * a - h * c * a + h * o * l - i * d * l - u * o * p + i * c * p) * S, this
            },
            scale: function(t) {
                var e = this.elements,
                    n = t.x,
                    r = t.y,
                    i = t.z;
                return e[0] *= n, e[4] *= r, e[8] *= i, e[1] *= n, e[5] *= r, e[9] *= i, e[2] *= n, e[6] *= r, e[10] *= i, e[3] *= n, e[7] *= r, e[11] *= i, this
            },
            getMaxScaleOnAxis: function() {
                var t = this.elements,
                    e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2],
                    n = t[4] * t[4] + t[5] * t[5] + t[6] * t[6],
                    r = t[8] * t[8] + t[9] * t[9] + t[10] * t[10];
                return Math.sqrt(Math.max(e, n, r))
            },
            makeTranslation: function(t, e, n) {
                return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, n, 0, 0, 0, 1), this
            },
            makeRotationX: function(t) {
                var e = Math.cos(t),
                    n = Math.sin(t);
                return this.set(1, 0, 0, 0, 0, e, -n, 0, 0, n, e, 0, 0, 0, 0, 1), this
            },
            makeRotationY: function(t) {
                var e = Math.cos(t),
                    n = Math.sin(t);
                return this.set(e, 0, n, 0, 0, 1, 0, 0, -n, 0, e, 0, 0, 0, 0, 1), this
            },
            makeRotationZ: function(t) {
                var e = Math.cos(t),
                    n = Math.sin(t);
                return this.set(e, -n, 0, 0, n, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
            },
            makeRotationAxis: function(t, e) {
                var n = Math.cos(e),
                    r = Math.sin(e),
                    i = 1 - n,
                    o = t.x,
                    a = t.y,
                    s = t.z,
                    u = i * o,
                    c = i * a;
                return this.set(u * o + n, u * a - r * s, u * s + r * a, 0, u * a + r * s, c * a + n, c * s - r * o, 0, u * s - r * a, c * s + r * o, i * s * s + n, 0, 0, 0, 0, 1), this
            },
            makeScale: function(t, e, n) {
                return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, n, 0, 0, 0, 0, 1), this
            },
            makeShear: function(t, e, n) {
                return this.set(1, e, n, 0, t, 1, n, 0, t, e, 1, 0, 0, 0, 0, 1), this
            },
            compose: function(t, e, n) {
                return this.makeRotationFromQuaternion(e), this.scale(n), this.setPosition(t), this
            },
            decompose: function() {
                var t, e;
                return function(n, r, i) {
                    void 0 === t && (t = new f, e = new h);
                    var o = this.elements,
                        a = t.set(o[0], o[1], o[2]).length(),
                        s = t.set(o[4], o[5], o[6]).length(),
                        u = t.set(o[8], o[9], o[10]).length();
                    this.determinant() < 0 && (a = -a), n.x = o[12], n.y = o[13], n.z = o[14], e.copy(this);
                    var c = 1 / a,
                        l = 1 / s,
                        d = 1 / u;
                    return e.elements[0] *= c, e.elements[1] *= c, e.elements[2] *= c, e.elements[4] *= l, e.elements[5] *= l, e.elements[6] *= l, e.elements[8] *= d, e.elements[9] *= d, e.elements[10] *= d, r.setFromRotationMatrix(e), i.x = a, i.y = s, i.z = u, this
                }
            }(),
            makePerspective: function(t, e, n, r, i, o) {
                void 0 === o && console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");
                var a = this.elements,
                    s = 2 * i / (e - t),
                    u = 2 * i / (n - r),
                    c = (e + t) / (e - t),
                    l = (n + r) / (n - r),
                    f = -(o + i) / (o - i),
                    h = -2 * o * i / (o - i);
                return a[0] = s, a[4] = 0, a[8] = c, a[12] = 0, a[1] = 0, a[5] = u, a[9] = l, a[13] = 0, a[2] = 0, a[6] = 0, a[10] = f, a[14] = h, a[3] = 0, a[7] = 0, a[11] = -1, a[15] = 0, this
            },
            makeOrthographic: function(t, e, n, r, i, o) {
                var a = this.elements,
                    s = 1 / (e - t),
                    u = 1 / (n - r),
                    c = 1 / (o - i),
                    l = (e + t) * s,
                    f = (n + r) * u,
                    h = (o + i) * c;
                return a[0] = 2 * s, a[4] = 0, a[8] = 0, a[12] = -l, a[1] = 0, a[5] = 2 * u, a[9] = 0, a[13] = -f, a[2] = 0, a[6] = 0, a[10] = -2 * c, a[14] = -h, a[3] = 0, a[7] = 0, a[11] = 0, a[15] = 1, this
            },
            equals: function(t) {
                for (var e = this.elements, n = t.elements, r = 0; r < 16; r++)
                    if (e[r] !== n[r]) return !1;
                return !0
            },
            fromArray: function(t, e) {
                void 0 === e && (e = 0);
                for (var n = 0; n < 16; n++) this.elements[n] = t[n + e];
                return this
            },
            toArray: function(t, e) {
                void 0 === t && (t = []), void 0 === e && (e = 0);
                var n = this.elements;
                return t[e] = n[0], t[e + 1] = n[1], t[e + 2] = n[2], t[e + 3] = n[3], t[e + 4] = n[4], t[e + 5] = n[5], t[e + 6] = n[6], t[e + 7] = n[7], t[e + 8] = n[8], t[e + 9] = n[9], t[e + 10] = n[10], t[e + 11] = n[11], t[e + 12] = n[12], t[e + 13] = n[13], t[e + 14] = n[14], t[e + 15] = n[15], t
            }
        }), d.prototype = (0, On.default)(a.prototype), d.prototype.constructor = d, d.prototype.isDataTexture = !0, p.prototype = (0, On.default)(a.prototype), p.prototype.constructor = p, p.prototype.isCubeTexture = !0, Object.defineProperty(p.prototype, "images", {
            get: function() {
                return this.image
            },
            set: function(t) {
                this.image = t
            }
        });
        var Xi = new a,
            Yi = new p,
            Zi = [],
            Ji = [],
            Ki = new Float32Array(16),
            $i = new Float32Array(9);
        j.prototype.setValue = function(t, e) {
            for (var n = this.seq, r = 0, i = n.length; r !== i; ++r) {
                var o = n[r];
                o.setValue(t, e[o.id])
            }
        };
        var to = /([\w\d_]+)(\])?(\[|\.)?/g;
        X.prototype.setValue = function(t, e, n) {
            var r = this.map[e];
            void 0 !== r && r.setValue(t, n, this.renderer)
        }, X.prototype.setOptional = function(t, e, n) {
            var r = e[n];
            void 0 !== r && this.setValue(t, n, r)
        }, X.upload = function(t, e, n, r) {
            for (var i = 0, o = e.length; i !== o; ++i) {
                var a = e[i],
                    s = n[a.id];
                !1 !== s.needsUpdate && a.setValue(t, s.value, r)
            }
        }, X.seqWithValue = function(t, e) {
            for (var n = [], r = 0, i = t.length; r !== i; ++r) {
                var o = t[r];
                o.id in e && n.push(o)
            }
            return n
        };
        var eo = {
            aliceblue: 15792383,
            antiquewhite: 16444375,
            aqua: 65535,
            aquamarine: 8388564,
            azure: 15794175,
            beige: 16119260,
            bisque: 16770244,
            black: 0,
            blanchedalmond: 16772045,
            blue: 255,
            blueviolet: 9055202,
            brown: 10824234,
            burlywood: 14596231,
            cadetblue: 6266528,
            chartreuse: 8388352,
            chocolate: 13789470,
            coral: 16744272,
            cornflowerblue: 6591981,
            cornsilk: 16775388,
            crimson: 14423100,
            cyan: 65535,
            darkblue: 139,
            darkcyan: 35723,
            darkgoldenrod: 12092939,
            darkgray: 11119017,
            darkgreen: 25600,
            darkgrey: 11119017,
            darkkhaki: 12433259,
            darkmagenta: 9109643,
            darkolivegreen: 5597999,
            darkorange: 16747520,
            darkorchid: 10040012,
            darkred: 9109504,
            darksalmon: 15308410,
            darkseagreen: 9419919,
            darkslateblue: 4734347,
            darkslategray: 3100495,
            darkslategrey: 3100495,
            darkturquoise: 52945,
            darkviolet: 9699539,
            deeppink: 16716947,
            deepskyblue: 49151,
            dimgray: 6908265,
            dimgrey: 6908265,
            dodgerblue: 2003199,
            firebrick: 11674146,
            floralwhite: 16775920,
            forestgreen: 2263842,
            fuchsia: 16711935,
            gainsboro: 14474460,
            ghostwhite: 16316671,
            gold: 16766720,
            goldenrod: 14329120,
            gray: 8421504,
            green: 32768,
            greenyellow: 11403055,
            grey: 8421504,
            honeydew: 15794160,
            hotpink: 16738740,
            indianred: 13458524,
            indigo: 4915330,
            ivory: 16777200,
            khaki: 15787660,
            lavender: 15132410,
            lavenderblush: 16773365,
            lawngreen: 8190976,
            lemonchiffon: 16775885,
            lightblue: 11393254,
            lightcoral: 15761536,
            lightcyan: 14745599,
            lightgoldenrodyellow: 16448210,
            lightgray: 13882323,
            lightgreen: 9498256,
            lightgrey: 13882323,
            lightpink: 16758465,
            lightsalmon: 16752762,
            lightseagreen: 2142890,
            lightskyblue: 8900346,
            lightslategray: 7833753,
            lightslategrey: 7833753,
            lightsteelblue: 11584734,
            lightyellow: 16777184,
            lime: 65280,
            limegreen: 3329330,
            linen: 16445670,
            magenta: 16711935,
            maroon: 8388608,
            mediumaquamarine: 6737322,
            mediumblue: 205,
            mediumorchid: 12211667,
            mediumpurple: 9662683,
            mediumseagreen: 3978097,
            mediumslateblue: 8087790,
            mediumspringgreen: 64154,
            mediumturquoise: 4772300,
            mediumvioletred: 13047173,
            midnightblue: 1644912,
            mintcream: 16121850,
            mistyrose: 16770273,
            moccasin: 16770229,
            navajowhite: 16768685,
            navy: 128,
            oldlace: 16643558,
            olive: 8421376,
            olivedrab: 7048739,
            orange: 16753920,
            orangered: 16729344,
            orchid: 14315734,
            palegoldenrod: 15657130,
            palegreen: 10025880,
            paleturquoise: 11529966,
            palevioletred: 14381203,
            papayawhip: 16773077,
            peachpuff: 16767673,
            peru: 13468991,
            pink: 16761035,
            plum: 14524637,
            powderblue: 11591910,
            purple: 8388736,
            red: 16711680,
            rosybrown: 12357519,
            royalblue: 4286945,
            saddlebrown: 9127187,
            salmon: 16416882,
            sandybrown: 16032864,
            seagreen: 3050327,
            seashell: 16774638,
            sienna: 10506797,
            silver: 12632256,
            skyblue: 8900331,
            slateblue: 6970061,
            slategray: 7372944,
            slategrey: 7372944,
            snow: 16775930,
            springgreen: 65407,
            steelblue: 4620980,
            tan: 13808780,
            teal: 32896,
            thistle: 14204888,
            tomato: 16737095,
            turquoise: 4251856,
            violet: 15631086,
            wheat: 16113331,
            white: 16777215,
            whitesmoke: 16119285,
            yellow: 16776960,
            yellowgreen: 10145074
        };
        (0, kn.default)(Y.prototype, {
            isColor: !0,
            r: 1,
            g: 1,
            b: 1,
            set: function(t) {
                return t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t), this
            },
            setScalar: function(t) {
                return this.r = t, this.g = t, this.b = t, this
            },
            setHex: function(t) {
                return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, this.b = (255 & t) / 255, this
            },
            setRGB: function(t, e, n) {
                return this.r = t, this.g = e, this.b = n, this
            },
            setHSL: function() {
                function t(t, e, n) {
                    return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? t + 6 * (e - t) * n : n < .5 ? e : n < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - n) : t
                }
                return function(e, n, r) {
                    if (e = Qi.euclideanModulo(e, 1), n = Qi.clamp(n, 0, 1), r = Qi.clamp(r, 0, 1), 0 === n) this.r = this.g = this.b = r;
                    else {
                        var i = r <= .5 ? r * (1 + n) : r + n - r * n,
                            o = 2 * r - i;
                        this.r = t(o, i, e + 1 / 3), this.g = t(o, i, e), this.b = t(o, i, e - 1 / 3)
                    }
                    return this
                }
            }(),
            setStyle: function(t) {
                function e(e) {
                    void 0 !== e && parseFloat(e) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.")
                }
                var n;
                if (n = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                    var r, i = n[1],
                        o = n[2];
                    switch (i) {
                        case "rgb":
                        case "rgba":
                            if (r = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(255, parseInt(r[1], 10)) / 255, this.g = Math.min(255, parseInt(r[2], 10)) / 255, this.b = Math.min(255, parseInt(r[3], 10)) / 255, e(r[5]), this;
                            if (r = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(100, parseInt(r[1], 10)) / 100, this.g = Math.min(100, parseInt(r[2], 10)) / 100, this.b = Math.min(100, parseInt(r[3], 10)) / 100, e(r[5]), this;
                            break;
                        case "hsl":
                        case "hsla":
                            if (r = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) {
                                var a = parseFloat(r[1]) / 360,
                                    s = parseInt(r[2], 10) / 100,
                                    u = parseInt(r[3], 10) / 100;
                                return e(r[5]), this.setHSL(a, s, u)
                            }
                    }
                } else if (n = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                    var c = n[1],
                        l = c.length;
                    if (3 === l) return this.r = parseInt(c.charAt(0) + c.charAt(0), 16) / 255, this.g = parseInt(c.charAt(1) + c.charAt(1), 16) / 255, this.b = parseInt(c.charAt(2) + c.charAt(2), 16) / 255, this;
                    if (6 === l) return this.r = parseInt(c.charAt(0) + c.charAt(1), 16) / 255, this.g = parseInt(c.charAt(2) + c.charAt(3), 16) / 255, this.b = parseInt(c.charAt(4) + c.charAt(5), 16) / 255, this
                }
                if (t && t.length > 0) {
                    var c = eo[t];
                    void 0 !== c ? this.setHex(c) : console.warn("THREE.Color: Unknown color " + t)
                }
                return this
            },
            clone: function() {
                return new this.constructor(this.r, this.g, this.b)
            },
            copy: function(t) {
                return this.r = t.r, this.g = t.g, this.b = t.b, this
            },
            copyGammaToLinear: function(t, e) {
                return void 0 === e && (e = 2), this.r = Math.pow(t.r, e), this.g = Math.pow(t.g, e), this.b = Math.pow(t.b, e), this
            },
            copyLinearToGamma: function(t, e) {
                void 0 === e && (e = 2);
                var n = e > 0 ? 1 / e : 1;
                return this.r = Math.pow(t.r, n), this.g = Math.pow(t.g, n), this.b = Math.pow(t.b, n), this
            },
            convertGammaToLinear: function() {
                var t = this.r,
                    e = this.g,
                    n = this.b;
                return this.r = t * t, this.g = e * e, this.b = n * n, this
            },
            convertLinearToGamma: function() {
                return this.r = Math.sqrt(this.r), this.g = Math.sqrt(this.g), this.b = Math.sqrt(this.b), this
            },
            getHex: function() {
                return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
            },
            getHexString: function() {
                return ("000000" + this.getHex().toString(16)).slice(-6)
            },
            getHSL: function(t) {
                var e, n, r = t || {
                        h: 0,
                        s: 0,
                        l: 0
                    },
                    i = this.r,
                    o = this.g,
                    a = this.b,
                    s = Math.max(i, o, a),
                    u = Math.min(i, o, a),
                    c = (u + s) / 2;
                if (u === s) e = 0, n = 0;
                else {
                    var l = s - u;
                    switch (n = c <= .5 ? l / (s + u) : l / (2 - s - u), s) {
                        case i:
                            e = (o - a) / l + (o < a ? 6 : 0);
                            break;
                        case o:
                            e = (a - i) / l + 2;
                            break;
                        case a:
                            e = (i - o) / l + 4
                    }
                    e /= 6
                }
                return r.h = e, r.s = n, r.l = c, r
            },
            getStyle: function() {
                return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
            },
            offsetHSL: function(t, e, n) {
                var r = this.getHSL();
                return r.h += t, r.s += e, r.l += n, this.setHSL(r.h, r.s, r.l), this
            },
            add: function(t) {
                return this.r += t.r, this.g += t.g, this.b += t.b, this
            },
            addColors: function(t, e) {
                return this.r = t.r + e.r, this.g = t.g + e.g, this.b = t.b + e.b, this
            },
            addScalar: function(t) {
                return this.r += t, this.g += t, this.b += t, this
            },
            sub: function(t) {
                return this.r = Math.max(0, this.r - t.r), this.g = Math.max(0, this.g - t.g), this.b = Math.max(0, this.b - t.b), this
            },
            multiply: function(t) {
                return this.r *= t.r, this.g *= t.g, this.b *= t.b, this
            },
            multiplyScalar: function(t) {
                return this.r *= t, this.g *= t, this.b *= t, this
            },
            lerp: function(t, e) {
                return this.r += (t.r - this.r) * e, this.g += (t.g - this.g) * e, this.b += (t.b - this.b) * e, this
            },
            equals: function(t) {
                return t.r === this.r && t.g === this.g && t.b === this.b
            },
            fromArray: function(t, e) {
                return void 0 === e && (e = 0), this.r = t[e], this.g = t[e + 1], this.b = t[e + 2], this
            },
            toArray: function(t, e) {
                return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.r, t[e + 1] = this.g, t[e + 2] = this.b, t
            },
            toJSON: function() {
                return this.getHex()
            }
        });
        var no = {
                common: {
                    diffuse: {
                        value: new Y(15658734)
                    },
                    opacity: {
                        value: 1
                    },
                    map: {
                        value: null
                    },
                    offsetRepeat: {
                        value: new s(0, 0, 1, 1)
                    },
                    specularMap: {
                        value: null
                    },
                    alphaMap: {
                        value: null
                    },
                    envMap: {
                        value: null
                    },
                    flipEnvMap: {
                        value: -1
                    },
                    reflectivity: {
                        value: 1
                    },
                    refractionRatio: {
                        value: .98
                    }
                },
                aomap: {
                    aoMap: {
                        value: null
                    },
                    aoMapIntensity: {
                        value: 1
                    }
                },
                lightmap: {
                    lightMap: {
                        value: null
                    },
                    lightMapIntensity: {
                        value: 1
                    }
                },
                emissivemap: {
                    emissiveMap: {
                        value: null
                    }
                },
                bumpmap: {
                    bumpMap: {
                        value: null
                    },
                    bumpScale: {
                        value: 1
                    }
                },
                normalmap: {
                    normalMap: {
                        value: null
                    },
                    normalScale: {
                        value: new o(1, 1)
                    }
                },
                displacementmap: {
                    displacementMap: {
                        value: null
                    },
                    displacementScale: {
                        value: 1
                    },
                    displacementBias: {
                        value: 0
                    }
                },
                roughnessmap: {
                    roughnessMap: {
                        value: null
                    }
                },
                metalnessmap: {
                    metalnessMap: {
                        value: null
                    }
                },
                gradientmap: {
                    gradientMap: {
                        value: null
                    }
                },
                fog: {
                    fogDensity: {
                        value: 25e-5
                    },
                    fogNear: {
                        value: 1
                    },
                    fogFar: {
                        value: 2e3
                    },
                    fogColor: {
                        value: new Y(16777215)
                    }
                },
                lights: {
                    ambientLightColor: {
                        value: []
                    },
                    directionalLights: {
                        value: [],
                        properties: {
                            direction: {},
                            color: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    directionalShadowMap: {
                        value: []
                    },
                    directionalShadowMatrix: {
                        value: []
                    },
                    spotLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            direction: {},
                            distance: {},
                            coneCos: {},
                            penumbraCos: {},
                            decay: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    spotShadowMap: {
                        value: []
                    },
                    spotShadowMatrix: {
                        value: []
                    },
                    pointLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            decay: {},
                            distance: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    pointShadowMap: {
                        value: []
                    },
                    pointShadowMatrix: {
                        value: []
                    },
                    hemisphereLights: {
                        value: [],
                        properties: {
                            direction: {},
                            skyColor: {},
                            groundColor: {}
                        }
                    },
                    rectAreaLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            width: {},
                            height: {}
                        }
                    }
                },
                points: {
                    diffuse: {
                        value: new Y(15658734)
                    },
                    opacity: {
                        value: 1
                    },
                    size: {
                        value: 1
                    },
                    scale: {
                        value: 1
                    },
                    map: {
                        value: null
                    },
                    offsetRepeat: {
                        value: new s(0, 0, 1, 1)
                    }
                }
            },
            ro = {
                merge: function(t) {
                    for (var e = {}, n = 0; n < t.length; n++) {
                        var r = this.clone(t[n]);
                        for (var i in r) e[i] = r[i]
                    }
                    return e
                },
                clone: function(t) {
                    var e = {};
                    for (var n in t) {
                        e[n] = {};
                        for (var r in t[n]) {
                            var i = t[n][r];
                            i && (i.isColor || i.isMatrix3 || i.isMatrix4 || i.isVector2 || i.isVector3 || i.isVector4 || i.isTexture) ? e[n][r] = i.clone() : Array.isArray(i) ? e[n][r] = i.slice() : e[n][r] = i
                        }
                    }
                    return e
                }
            },
            io = {
                alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",
                alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
                alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",
                aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
                aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
                begin_vertex: "\n#ifndef INSTANCE_TRANSFORM\nvec3 transformed = vec3( position );\n#else\nvec3 transformed = ( getInstanceMatrix() * vec4( position , 1. )).xyz;\n#endif\n",
                beginnormal_vertex: "\nvec3 objectNormal = vec3( normal );\n",
                bsdfs: "float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
                bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
                clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",
                clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",
                clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",
                clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
                color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif\n#ifdef INSTANCE_COLOR \n\t\t\n\tdiffuseColor.rgb *= vInstanceColor;\n\t\t\n#endif",
                color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n#if defined( INSTANCE_COLOR )\n\t\t\n\tvarying vec3 vInstanceColor;\n\t\t\n#endif\n",
                color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif\n#if defined( INSTANCE_COLOR ) && defined( INSTANCE_TRANSFORM )\n\t\t\n\tvInstanceColor = instanceColor;\n\t\t\n#endif",
                common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",
                cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
                defaultnormal_vertex: "#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\n#ifndef INSTANCE_TRANSFORM\nvec3 transformedNormal = normalMatrix * objectNormal;\n#else\n#ifndef INSTANCE_UNIFORM\n\t\nvec3 transformedNormal =  transpose( inverse( mat3( modelViewMatrix * getInstanceMatrix() ) ) ) * objectNormal ;\n#else\nvec3 transformedNormal = ( modelViewMatrix * getInstanceMatrix() * vec4( objectNormal , 0.0 ) ).xyz;\n#endif\n#endif",
                displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",
                displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
                emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
                emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",
                encodings_fragment: "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
                encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",
                envmap_fragment: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
                envmap_pars_fragment: "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
                envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",
                envmap_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
                fog_vertex: "\n#ifdef FOG_ZDEPTH\nfogDepth = -mvPosition.z;\n#else\nfogDepth = length(mvPosition);\n#endif",
                fog_pars_vertex: "#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",
                fog_fragment: "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
                fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",
                gradientmap_pars_fragment: "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",
                lightmap_fragment: "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
                lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
                lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
                lights_pars: "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
                lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",
                lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
                lights_template: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
                logdepthbuf_fragment: "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",
                logdepthbuf_pars_fragment: "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",
                logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",
                logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",
                map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",
                map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",
                map_particle_fragment: "#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",
                map_particle_pars_fragment: "#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",
                metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",
                metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
                morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
                morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
                morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
                normal_flip: "#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",
                normal_fragment: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
                normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",
                packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
                premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",
                project_vertex: "#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",
                dithering_fragment: "#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",
                dithering_pars_fragment: "#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",
                roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",
                roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
                skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
                skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
                skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",
                skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
                specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
                specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
                tonemapping_fragment: "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",
                tonemapping_pars_fragment: "#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
                uv_pars_fragment: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
                uv_pars_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n#if defined( INSTANCE_TRANSFORM )\nmat3 inverse(mat3 m) {\n  float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\n  float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\n  float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\n  float b01 = a22 * a11 - a12 * a21;\n  float b11 = -a22 * a10 + a12 * a20;\n  float b21 = a21 * a10 - a11 * a20;\n  float det = a00 * b01 + a01 * b11 + a02 * b21;\n  return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\n              b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\n              b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\n}\n  \nattribute vec3 instancePosition;\nattribute vec4 instanceQuaternion;\nattribute vec3 instanceScale;\n#if defined( INSTANCE_COLOR )\n  attribute vec3 instanceColor;\n  varying vec3 vInstanceColor;\n#endif \nmat4 getInstanceMatrix(){\n  vec4 q = instanceQuaternion;\n  vec3 s = instanceScale;\n  vec3 v = instancePosition;\n  float x2 = q.x + q.x;\n  float y2 = q.y + q.y;\n  float z2 = q.z + q.z;\n  float xx = q.x * x2;\n  float xy = q.x * y2;\n  float xz = q.x * z2;\n  float yy = q.y * y2;\n  float yz = q.y * z2;\n  float zz = q.z * z2;\n  float wx = q.w * x2;\n  float wy = q.w * y2;\n  float wz = q.w * z2;\n  return mat4(\n      (1.0 - (yy + zz)) * s.x  ,   (xy + wz)  * s.x         ,   (xz - wy)  * s.x          , 0.0 ,\n      (xy - wz)  * s.y         ,   (1.0 - (xx + zz)) * s.y  ,  (yz + wx) * s.y            , 0.0 ,\n      (xz + wy) * s.z          ,   (yz - wx) * s.z          ,   (1.0 - (xx + yy)) * s.z   , 0.0 ,\n      v.x                      ,   v.y                      ,   v.z                       , 1.0\n  );\n}\n#endif",
                uv_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",
                uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
                uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
                uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
                worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",
                cube_frag: "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
                cube_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
                depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
                depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
                distanceRGBA_frag: "uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",
                distanceRGBA_vert: "varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",
                equirect_frag: "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",
                equirect_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
                linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
                linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
                meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
                meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
                meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
                meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <fog_vertex>\n}\n",
                meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
                meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
                meshphysical_frag: "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
                meshphysical_vert: "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",
                normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",
                normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
                points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
                points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n"
            },
            oo = {
                basic: {
                    uniforms: ro.merge([no.common, no.aomap, no.lightmap, no.fog]),
                    vertexShader: io.meshbasic_vert,
                    fragmentShader: io.meshbasic_frag
                },
                lambert: {
                    uniforms: ro.merge([no.common, no.aomap, no.lightmap, no.emissivemap, no.fog, no.lights, {
                        emissive: {
                            value: new Y(0)
                        }
                    }]),
                    vertexShader: io.meshlambert_vert,
                    fragmentShader: io.meshlambert_frag
                },
                phong: {
                    uniforms: ro.merge([no.common, no.aomap, no.lightmap, no.emissivemap, no.bumpmap, no.normalmap, no.displacementmap, no.gradientmap, no.fog, no.lights, {
                        emissive: {
                            value: new Y(0)
                        },
                        specular: {
                            value: new Y(1118481)
                        },
                        shininess: {
                            value: 30
                        }
                    }]),
                    vertexShader: io.meshphong_vert,
                    fragmentShader: io.meshphong_frag
                },
                standard: {
                    uniforms: ro.merge([no.common, no.aomap, no.lightmap, no.emissivemap, no.bumpmap, no.normalmap, no.displacementmap, no.roughnessmap, no.metalnessmap, no.fog, no.lights, {
                        emissive: {
                            value: new Y(0)
                        },
                        roughness: {
                            value: .5
                        },
                        metalness: {
                            value: .5
                        },
                        envMapIntensity: {
                            value: 1
                        }
                    }]),
                    vertexShader: io.meshphysical_vert,
                    fragmentShader: io.meshphysical_frag
                },
                points: {
                    uniforms: ro.merge([no.points, no.fog]),
                    vertexShader: io.points_vert,
                    fragmentShader: io.points_frag
                },
                dashed: {
                    uniforms: ro.merge([no.common, no.fog, {
                        scale: {
                            value: 1
                        },
                        dashSize: {
                            value: 1
                        },
                        totalSize: {
                            value: 2
                        }
                    }]),
                    vertexShader: io.linedashed_vert,
                    fragmentShader: io.linedashed_frag
                },
                depth: {
                    uniforms: ro.merge([no.common, no.displacementmap]),
                    vertexShader: io.depth_vert,
                    fragmentShader: io.depth_frag
                },
                normal: {
                    uniforms: ro.merge([no.common, no.bumpmap, no.normalmap, no.displacementmap, {
                        opacity: {
                            value: 1
                        }
                    }]),
                    vertexShader: io.normal_vert,
                    fragmentShader: io.normal_frag
                },
                cube: {
                    uniforms: {
                        tCube: {
                            value: null
                        },
                        tFlip: {
                            value: -1
                        },
                        opacity: {
                            value: 1
                        }
                    },
                    vertexShader: io.cube_vert,
                    fragmentShader: io.cube_frag
                },
                equirect: {
                    uniforms: {
                        tEquirect: {
                            value: null
                        },
                        tFlip: {
                            value: -1
                        }
                    },
                    vertexShader: io.equirect_vert,
                    fragmentShader: io.equirect_frag
                },
                distanceRGBA: {
                    uniforms: {
                        lightPos: {
                            value: new f
                        }
                    },
                    vertexShader: io.distanceRGBA_vert,
                    fragmentShader: io.distanceRGBA_frag
                }
            };
        oo.physical = {
            uniforms: ro.merge([oo.standard.uniforms, {
                clearCoat: {
                    value: 0
                },
                clearCoatRoughness: {
                    value: 0
                }
            }]),
            vertexShader: io.meshphysical_vert,
            fragmentShader: io.meshphysical_frag
        };
        var ao = 0;
        (0, kn.default)(Z.prototype, i.prototype, {
            isMaterial: !0,
            setValues: function(t) {
                if (void 0 !== t)
                    for (var e in t) {
                        var n = t[e];
                        if (void 0 !== n) {
                            var r = this[e];
                            void 0 !== r ? r && r.isColor ? r.set(n) : r && r.isVector3 && n && n.isVector3 ? r.copy(n) : this[e] = "overdraw" === e ? Number(n) : n : console.warn("THREE." + this.type + ": '" + e + "' is not a property of this material.")
                        } else console.warn("THREE.Material: '" + e + "' parameter is undefined.")
                    }
            },
            toJSON: function(t) {
                function e(t) {
                    var e = [];
                    for (var n in t) {
                        var r = t[n];
                        delete r.metadata, e.push(r)
                    }
                    return e
                }
                var n = void 0 === t;
                n && (t = {
                    textures: {},
                    images: {}
                });
                var r = {
                    metadata: {
                        version: 4.5,
                        type: "Material",
                        generator: "Material.toJSON"
                    }
                };
                if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), this.color && this.color.isColor && (r.color = this.color.getHex()), void 0 !== this.roughness && (r.roughness = this.roughness), void 0 !== this.metalness && (r.metalness = this.metalness), this.emissive && this.emissive.isColor && (r.emissive = this.emissive.getHex()), this.specular && this.specular.isColor && (r.specular = this.specular.getHex()), void 0 !== this.shininess && (r.shininess = this.shininess), void 0 !== this.clearCoat && (r.clearCoat = this.clearCoat), void 0 !== this.clearCoatRoughness && (r.clearCoatRoughness = this.clearCoatRoughness), this.map && this.map.isTexture && (r.map = this.map.toJSON(t).uuid), this.alphaMap && this.alphaMap.isTexture && (r.alphaMap = this.alphaMap.toJSON(t).uuid), this.lightMap && this.lightMap.isTexture && (r.lightMap = this.lightMap.toJSON(t).uuid), this.bumpMap && this.bumpMap.isTexture && (r.bumpMap = this.bumpMap.toJSON(t).uuid, r.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (r.normalMap = this.normalMap.toJSON(t).uuid, r.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (r.displacementMap = this.displacementMap.toJSON(t).uuid, r.displacementScale = this.displacementScale, r.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (r.roughnessMap = this.roughnessMap.toJSON(t).uuid), this.metalnessMap && this.metalnessMap.isTexture && (r.metalnessMap = this.metalnessMap.toJSON(t).uuid), this.emissiveMap && this.emissiveMap.isTexture && (r.emissiveMap = this.emissiveMap.toJSON(t).uuid), this.specularMap && this.specularMap.isTexture && (r.specularMap = this.specularMap.toJSON(t).uuid), this.envMap && this.envMap.isTexture && (r.envMap = this.envMap.toJSON(t).uuid, r.reflectivity = this.reflectivity), this.gradientMap && this.gradientMap.isTexture && (r.gradientMap = this.gradientMap.toJSON(t).uuid), void 0 !== this.size && (r.size = this.size), void 0 !== this.sizeAttenuation && (r.sizeAttenuation = this.sizeAttenuation), this.blending !== ar && (r.blending = this.blending), this.shading !== nr && (r.shading = this.shading), this.side !== Kn && (r.side = this.side), this.vertexColors !== rr && (r.vertexColors = this.vertexColors), this.opacity < 1 && (r.opacity = this.opacity), !0 === this.transparent && (r.transparent = this.transparent), r.depthFunc = this.depthFunc, r.depthTest = this.depthTest, r.depthWrite = this.depthWrite, this.alphaTest > 0 && (r.alphaTest = this.alphaTest), !0 === this.premultipliedAlpha && (r.premultipliedAlpha = this.premultipliedAlpha), !0 === this.wireframe && (r.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (r.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (r.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (r.wireframeLinejoin = this.wireframeLinejoin), r.skinning = this.skinning, r.morphTargets = this.morphTargets, r.dithering = this.dithering, n) {
                    var i = e(t.textures),
                        o = e(t.images);
                    i.length > 0 && (r.textures = i), o.length > 0 && (r.images = o)
                }
                return r
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                this.name = t.name, this.fog = t.fog, this.lights = t.lights, this.blending = t.blending, this.side = t.side, this.shading = t.shading, this.vertexColors = t.vertexColors, this.opacity = t.opacity, this.transparent = t.transparent, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendEquation = t.blendEquation, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.blendEquationAlpha = t.blendEquationAlpha, this.depthFunc = t.depthFunc, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.colorWrite = t.colorWrite, this.precision = t.precision, this.polygonOffset = t.polygonOffset, this.polygonOffsetFactor = t.polygonOffsetFactor, this.polygonOffsetUnits = t.polygonOffsetUnits, this.dithering = t.dithering, this.alphaTest = t.alphaTest, this.premultipliedAlpha = t.premultipliedAlpha, this.overdraw = t.overdraw, this.visible = t.visible, this.clipShadows = t.clipShadows, this.clipIntersection = t.clipIntersection;
                var e = t.clippingPlanes,
                    n = null;
                if (null !== e) {
                    var r = e.length;
                    n = new Array(r);
                    for (var i = 0; i !== r; ++i) n[i] = e[i].clone()
                }
                return this.clippingPlanes = n, this
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            }
        }), J.prototype = (0, On.default)(Z.prototype), J.prototype.constructor = J, J.prototype.isShaderMaterial = !0, J.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.fragmentShader = t.fragmentShader, this.vertexShader = t.vertexShader, this.uniforms = ro.clone(t.uniforms), this.defines = t.defines, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.lights = t.lights, this.clipping = t.clipping, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this.extensions = t.extensions, this
        }, J.prototype.toJSON = function(t) {
            var e = Z.prototype.toJSON.call(this, t);
            return e.uniforms = this.uniforms, e.vertexShader = this.vertexShader, e.fragmentShader = this.fragmentShader, e
        }, K.prototype = (0, On.default)(Z.prototype), K.prototype.constructor = K, K.prototype.isMeshDepthMaterial = !0, K.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.depthPacking = t.depthPacking, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this
        }, (0, kn.default)($.prototype, {
            isBox3: !0,
            set: function(t, e) {
                return this.min.copy(t), this.max.copy(e), this
            },
            setFromArray: function(t) {
                for (var e = 1 / 0, n = 1 / 0, r = 1 / 0, i = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, u = t.length; s < u; s += 3) {
                    var c = t[s],
                        l = t[s + 1],
                        f = t[s + 2];
                    c < e && (e = c), l < n && (n = l), f < r && (r = f), c > i && (i = c), l > o && (o = l), f > a && (a = f)
                }
                return this.min.set(e, n, r), this.max.set(i, o, a), this
            },
            setFromBufferAttribute: function(t) {
                for (var e = 1 / 0, n = 1 / 0, r = 1 / 0, i = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, u = t.count; s < u; s++) {
                    var c = t.getX(s),
                        l = t.getY(s),
                        f = t.getZ(s);
                    c < e && (e = c), l < n && (n = l), f < r && (r = f), c > i && (i = c), l > o && (o = l), f > a && (a = f)
                }
                return this.min.set(e, n, r), this.max.set(i, o, a), this
            },
            setFromPoints: function(t) {
                this.makeEmpty();
                for (var e = 0, n = t.length; e < n; e++) this.expandByPoint(t[e]);
                return this
            },
            setFromCenterAndSize: function() {
                var t = new f;
                return function(e, n) {
                    var r = t.copy(n).multiplyScalar(.5);
                    return this.min.copy(e).sub(r), this.max.copy(e).add(r), this
                }
            }(),
            setFromObject: function(t) {
                return this.makeEmpty(), this.expandByObject(t)
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                return this.min.copy(t.min), this.max.copy(t.max), this
            },
            makeEmpty: function() {
                return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this
            },
            isEmpty: function() {
                return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
            },
            getCenter: function(t) {
                var e = t || new f;
                return this.isEmpty() ? e.set(0, 0, 0) : e.addVectors(this.min, this.max).multiplyScalar(.5)
            },
            getSize: function(t) {
                var e = t || new f;
                return this.isEmpty() ? e.set(0, 0, 0) : e.subVectors(this.max, this.min)
            },
            expandByPoint: function(t) {
                return this.min.min(t), this.max.max(t), this
            },
            expandByVector: function(t) {
                return this.min.sub(t), this.max.add(t), this
            },
            expandByScalar: function(t) {
                return this.min.addScalar(-t), this.max.addScalar(t), this
            },
            expandByObject: function() {
                var t = new f;
                return function(e) {
                    var n = this;
                    return e.updateMatrixWorld(!0), e.traverse(function(e) {
                        var r, i, o = e.geometry;
                        if (void 0 !== o)
                            if (o.isGeometry) {
                                var a = o.vertices;
                                for (r = 0, i = a.length; r < i; r++) t.copy(a[r]), t.applyMatrix4(e.matrixWorld), n.expandByPoint(t)
                            } else if (o.isBufferGeometry) {
                            var s = o.attributes.position;
                            if (void 0 !== s)
                                for (r = 0, i = s.count; r < i; r++) t.fromBufferAttribute(s, r).applyMatrix4(e.matrixWorld), n.expandByPoint(t)
                        }
                    }), this
                }
            }(),
            containsPoint: function(t) {
                return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z)
            },
            containsBox: function(t) {
                return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z
            },
            getParameter: function(t, e) {
                return (e || new f).set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z))
            },
            intersectsBox: function(t) {
                return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z)
            },
            intersectsSphere: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new f), this.clampPoint(e.center, t), t.distanceToSquared(e.center) <= e.radius * e.radius
                }
            }(),
            intersectsPlane: function(t) {
                var e, n;
                return t.normal.x > 0 ? (e = t.normal.x * this.min.x, n = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x, n = t.normal.x * this.min.x), t.normal.y > 0 ? (e += t.normal.y * this.min.y, n += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y, n += t.normal.y * this.min.y), t.normal.z > 0 ? (e += t.normal.z * this.min.z, n += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z, n += t.normal.z * this.min.z), e <= t.constant && n >= t.constant
            },
            clampPoint: function(t, e) {
                return (e || new f).copy(t).clamp(this.min, this.max)
            },
            distanceToPoint: function() {
                var t = new f;
                return function(e) {
                    return t.copy(e).clamp(this.min, this.max).sub(e).length()
                }
            }(),
            getBoundingSphere: function() {
                var t = new f;
                return function(e) {
                    var n = e || new tt;
                    return this.getCenter(n.center), n.radius = .5 * this.getSize(t).length(), n
                }
            }(),
            intersect: function(t) {
                return this.min.max(t.min), this.max.min(t.max), this.isEmpty() && this.makeEmpty(), this
            },
            union: function(t) {
                return this.min.min(t.min), this.max.max(t.max), this
            },
            applyMatrix4: function() {
                var t = [new f, new f, new f, new f, new f, new f, new f, new f];
                return function(e) {
                    return this.isEmpty() ? this : (t[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e), t[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e), t[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e), t[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e), t[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e), t[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e), t[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e), t[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e), this.setFromPoints(t), this)
                }
            }(),
            translate: function(t) {
                return this.min.add(t), this.max.add(t), this
            },
            equals: function(t) {
                return t.min.equals(this.min) && t.max.equals(this.max)
            }
        }), (0, kn.default)(tt.prototype, {
            set: function(t, e) {
                return this.center.copy(t), this.radius = e, this
            },
            setFromPoints: function() {
                var t;
                return function(e, n) {
                    void 0 === t && (t = new $);
                    var r = this.center;
                    void 0 !== n ? r.copy(n) : t.setFromPoints(e).getCenter(r);
                    for (var i = 0, o = 0, a = e.length; o < a; o++) i = Math.max(i, r.distanceToSquared(e[o]));
                    return this.radius = Math.sqrt(i), this
                }
            }(),
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                return this.center.copy(t.center), this.radius = t.radius, this
            },
            empty: function() {
                return this.radius <= 0
            },
            containsPoint: function(t) {
                return t.distanceToSquared(this.center) <= this.radius * this.radius
            },
            distanceToPoint: function(t) {
                return t.distanceTo(this.center) - this.radius
            },
            intersectsSphere: function(t) {
                var e = this.radius + t.radius;
                return t.center.distanceToSquared(this.center) <= e * e
            },
            intersectsBox: function(t) {
                return t.intersectsSphere(this)
            },
            intersectsPlane: function(t) {
                return Math.abs(this.center.dot(t.normal) - t.constant) <= this.radius
            },
            clampPoint: function(t, e) {
                var n = this.center.distanceToSquared(t),
                    r = e || new f;
                return r.copy(t), n > this.radius * this.radius && (r.sub(this.center).normalize(), r.multiplyScalar(this.radius).add(this.center)), r
            },
            getBoundingBox: function(t) {
                var e = t || new $;
                return e.set(this.center, this.center), e.expandByScalar(this.radius), e
            },
            applyMatrix4: function(t) {
                return this.center.applyMatrix4(t), this.radius = this.radius * t.getMaxScaleOnAxis(), this
            },
            translate: function(t) {
                return this.center.add(t), this
            },
            equals: function(t) {
                return t.center.equals(this.center) && t.radius === this.radius
            }
        }), (0, kn.default)(et.prototype, {
            isMatrix3: !0,
            set: function(t, e, n, r, i, o, a, s, u) {
                var c = this.elements;
                return c[0] = t, c[1] = r, c[2] = a, c[3] = e, c[4] = i, c[5] = s, c[6] = n, c[7] = o, c[8] = u, this
            },
            identity: function() {
                return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
            },
            clone: function() {
                return (new this.constructor).fromArray(this.elements)
            },
            copy: function(t) {
                var e = this.elements,
                    n = t.elements;
                return e[0] = n[0], e[1] = n[1], e[2] = n[2], e[3] = n[3], e[4] = n[4], e[5] = n[5], e[6] = n[6], e[7] = n[7], e[8] = n[8], this
            },
            setFromMatrix4: function(t) {
                var e = t.elements;
                return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]), this
            },
            applyToBufferAttribute: function() {
                var t;
                return function(e) {
                    void 0 === t && (t = new f);
                    for (var n = 0, r = e.count; n < r; n++) t.x = e.getX(n), t.y = e.getY(n), t.z = e.getZ(n), t.applyMatrix3(this), e.setXYZ(n, t.x, t.y, t.z);
                    return e
                }
            }(),
            multiply: function(t) {
                return this.multiplyMatrices(this, t)
            },
            premultiply: function(t) {
                return this.multiplyMatrices(t, this)
            },
            multiplyMatrices: function(t, e) {
                var n = t.elements,
                    r = e.elements,
                    i = this.elements,
                    o = n[0],
                    a = n[3],
                    s = n[6],
                    u = n[1],
                    c = n[4],
                    l = n[7],
                    f = n[2],
                    h = n[5],
                    d = n[8],
                    p = r[0],
                    m = r[3],
                    v = r[6],
                    g = r[1],
                    A = r[4],
                    y = r[7],
                    x = r[2],
                    _ = r[5],
                    b = r[8];
                return i[0] = o * p + a * g + s * x, i[3] = o * m + a * A + s * _, i[6] = o * v + a * y + s * b, i[1] = u * p + c * g + l * x, i[4] = u * m + c * A + l * _, i[7] = u * v + c * y + l * b, i[2] = f * p + h * g + d * x, i[5] = f * m + h * A + d * _, i[8] = f * v + h * y + d * b, this
            },
            multiplyScalar: function(t) {
                var e = this.elements;
                return e[0] *= t, e[3] *= t, e[6] *= t, e[1] *= t, e[4] *= t, e[7] *= t, e[2] *= t, e[5] *= t, e[8] *= t, this
            },
            determinant: function() {
                var t = this.elements,
                    e = t[0],
                    n = t[1],
                    r = t[2],
                    i = t[3],
                    o = t[4],
                    a = t[5],
                    s = t[6],
                    u = t[7],
                    c = t[8];
                return e * o * c - e * a * u - n * i * c + n * a * s + r * i * u - r * o * s
            },
            getInverse: function(t, e) {
                t && t.isMatrix4 && console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");
                var n = t.elements,
                    r = this.elements,
                    i = n[0],
                    o = n[1],
                    a = n[2],
                    s = n[3],
                    u = n[4],
                    c = n[5],
                    l = n[6],
                    f = n[7],
                    h = n[8],
                    d = h * u - c * f,
                    p = c * l - h * s,
                    m = f * s - u * l,
                    v = i * d + o * p + a * m;
                if (0 === v) {
                    var g = "THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";
                    if (!0 === e) throw new Error(g);
                    return console.warn(g), this.identity()
                }
                var A = 1 / v;
                return r[0] = d * A, r[1] = (a * f - h * o) * A, r[2] = (c * o - a * u) * A, r[3] = p * A, r[4] = (h * i - a * l) * A, r[5] = (a * s - c * i) * A, r[6] = m * A, r[7] = (o * l - f * i) * A, r[8] = (u * i - o * s) * A, this
            },
            transpose: function() {
                var t, e = this.elements;
                return t = e[1], e[1] = e[3], e[3] = t, t = e[2], e[2] = e[6], e[6] = t, t = e[5], e[5] = e[7], e[7] = t, this
            },
            getNormalMatrix: function(t) {
                return this.setFromMatrix4(t).getInverse(this).transpose()
            },
            transposeIntoArray: function(t) {
                var e = this.elements;
                return t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8], this
            },
            equals: function(t) {
                for (var e = this.elements, n = t.elements, r = 0; r < 9; r++)
                    if (e[r] !== n[r]) return !1;
                return !0
            },
            fromArray: function(t, e) {
                void 0 === e && (e = 0);
                for (var n = 0; n < 9; n++) this.elements[n] = t[n + e];
                return this
            },
            toArray: function(t, e) {
                void 0 === t && (t = []), void 0 === e && (e = 0);
                var n = this.elements;
                return t[e] = n[0], t[e + 1] = n[1], t[e + 2] = n[2], t[e + 3] = n[3], t[e + 4] = n[4], t[e + 5] = n[5], t[e + 6] = n[6], t[e + 7] = n[7], t[e + 8] = n[8], t
            }
        }), (0, kn.default)(nt.prototype, {
            set: function(t, e) {
                return this.normal.copy(t), this.constant = e, this
            },
            setComponents: function(t, e, n, r) {
                return this.normal.set(t, e, n), this.constant = r, this
            },
            setFromNormalAndCoplanarPoint: function(t, e) {
                return this.normal.copy(t), this.constant = -e.dot(this.normal), this
            },
            setFromCoplanarPoints: function() {
                var t = new f,
                    e = new f;
                return function(n, r, i) {
                    var o = t.subVectors(i, r).cross(e.subVectors(n, r)).normalize();
                    return this.setFromNormalAndCoplanarPoint(o, n), this
                }
            }(),
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                return this.normal.copy(t.normal), this.constant = t.constant, this
            },
            normalize: function() {
                var t = 1 / this.normal.length();
                return this.normal.multiplyScalar(t), this.constant *= t, this
            },
            negate: function() {
                return this.constant *= -1, this.normal.negate(), this
            },
            distanceToPoint: function(t) {
                return this.normal.dot(t) + this.constant
            },
            distanceToSphere: function(t) {
                return this.distanceToPoint(t.center) - t.radius
            },
            projectPoint: function(t, e) {
                return this.orthoPoint(t, e).sub(t).negate()
            },
            orthoPoint: function(t, e) {
                var n = this.distanceToPoint(t);
                return (e || new f).copy(this.normal).multiplyScalar(n)
            },
            intersectLine: function() {
                var t = new f;
                return function(e, n) {
                    var r = n || new f,
                        i = e.delta(t),
                        o = this.normal.dot(i);
                    if (0 !== o) {
                        var a = -(e.start.dot(this.normal) + this.constant) / o;
                        if (!(a < 0 || a > 1)) return r.copy(i).multiplyScalar(a).add(e.start)
                    } else if (0 === this.distanceToPoint(e.start)) return r.copy(e.start)
                }
            }(),
            intersectsLine: function(t) {
                var e = this.distanceToPoint(t.start),
                    n = this.distanceToPoint(t.end);
                return e < 0 && n > 0 || n < 0 && e > 0
            },
            intersectsBox: function(t) {
                return t.intersectsPlane(this)
            },
            intersectsSphere: function(t) {
                return t.intersectsPlane(this)
            },
            coplanarPoint: function(t) {
                return (t || new f).copy(this.normal).multiplyScalar(-this.constant)
            },
            applyMatrix4: function() {
                var t = new f,
                    e = new et;
                return function(n, r) {
                    var i = this.coplanarPoint(t).applyMatrix4(n),
                        o = r || e.getNormalMatrix(n),
                        a = this.normal.applyMatrix3(o).normalize();
                    return this.constant = -i.dot(a), this
                }
            }(),
            translate: function(t) {
                return this.constant = this.constant - t.dot(this.normal), this
            },
            equals: function(t) {
                return t.normal.equals(this.normal) && t.constant === this.constant
            }
        }), (0, kn.default)(rt.prototype, {
            set: function(t, e, n, r, i, o) {
                var a = this.planes;
                return a[0].copy(t), a[1].copy(e), a[2].copy(n), a[3].copy(r), a[4].copy(i), a[5].copy(o), this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                for (var e = this.planes, n = 0; n < 6; n++) e[n].copy(t.planes[n]);
                return this
            },
            setFromMatrix: function(t) {
                var e = this.planes,
                    n = t.elements,
                    r = n[0],
                    i = n[1],
                    o = n[2],
                    a = n[3],
                    s = n[4],
                    u = n[5],
                    c = n[6],
                    l = n[7],
                    f = n[8],
                    h = n[9],
                    d = n[10],
                    p = n[11],
                    m = n[12],
                    v = n[13],
                    g = n[14],
                    A = n[15];
                return e[0].setComponents(a - r, l - s, p - f, A - m).normalize(), e[1].setComponents(a + r, l + s, p + f, A + m).normalize(), e[2].setComponents(a + i, l + u, p + h, A + v).normalize(), e[3].setComponents(a - i, l - u, p - h, A - v).normalize(), e[4].setComponents(a - o, l - c, p - d, A - g).normalize(), e[5].setComponents(a + o, l + c, p + d, A + g).normalize(), this
            },
            intersectsObject: function() {
                var t = new tt;
                return function(e) {
                    var n = e.geometry;
                    return null === n.boundingSphere && n.computeBoundingSphere(), t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld), this.intersectsSphere(t)
                }
            }(),
            intersectsSprite: function() {
                var t = new tt;
                return function(e) {
                    return t.center.set(0, 0, 0), t.radius = .7071067811865476, t.applyMatrix4(e.matrixWorld), this.intersectsSphere(t)
                }
            }(),
            intersectsSphere: function(t) {
                for (var e = this.planes, n = t.center, r = -t.radius, i = 0; i < 6; i++) {
                    if (e[i].distanceToPoint(n) < r) return !1
                }
                return !0
            },
            intersectsBox: function() {
                var t = new f,
                    e = new f;
                return function(n) {
                    for (var r = this.planes, i = 0; i < 6; i++) {
                        var o = r[i];
                        t.x = o.normal.x > 0 ? n.min.x : n.max.x, e.x = o.normal.x > 0 ? n.max.x : n.min.x, t.y = o.normal.y > 0 ? n.min.y : n.max.y, e.y = o.normal.y > 0 ? n.max.y : n.min.y, t.z = o.normal.z > 0 ? n.min.z : n.max.z, e.z = o.normal.z > 0 ? n.max.z : n.min.z;
                        var a = o.distanceToPoint(t),
                            s = o.distanceToPoint(e);
                        if (a < 0 && s < 0) return !1
                    }
                    return !0
                }
            }(),
            containsPoint: function(t) {
                for (var e = this.planes, n = 0; n < 6; n++)
                    if (e[n].distanceToPoint(t) < 0) return !1;
                return !0
            }
        }), (0, kn.default)(ot.prototype, {
            set: function(t, e) {
                return this.origin.copy(t), this.direction.copy(e), this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                return this.origin.copy(t.origin), this.direction.copy(t.direction), this
            },
            at: function(t, e) {
                return (e || new f).copy(this.direction).multiplyScalar(t).add(this.origin)
            },
            lookAt: function(t) {
                return this.direction.copy(t).sub(this.origin).normalize(), this
            },
            recast: function() {
                var t = new f;
                return function(e) {
                    return this.origin.copy(this.at(e, t)), this
                }
            }(),
            closestPointToPoint: function(t, e) {
                var n = e || new f;
                n.subVectors(t, this.origin);
                var r = n.dot(this.direction);
                return r < 0 ? n.copy(this.origin) : n.copy(this.direction).multiplyScalar(r).add(this.origin)
            },
            distanceToPoint: function(t) {
                return Math.sqrt(this.distanceSqToPoint(t))
            },
            distanceSqToPoint: function() {
                var t = new f;
                return function(e) {
                    var n = t.subVectors(e, this.origin).dot(this.direction);
                    return n < 0 ? this.origin.distanceToSquared(e) : (t.copy(this.direction).multiplyScalar(n).add(this.origin), t.distanceToSquared(e))
                }
            }(),
            distanceSqToSegment: function() {
                var t = new f,
                    e = new f,
                    n = new f;
                return function(r, i, o, a) {
                    t.copy(r).add(i).multiplyScalar(.5), e.copy(i).sub(r).normalize(), n.copy(this.origin).sub(t);
                    var s, u, c, l, f = .5 * r.distanceTo(i),
                        h = -this.direction.dot(e),
                        d = n.dot(this.direction),
                        p = -n.dot(e),
                        m = n.lengthSq(),
                        v = Math.abs(1 - h * h);
                    if (v > 0)
                        if (s = h * p - d, u = h * d - p, l = f * v, s >= 0)
                            if (u >= -l)
                                if (u <= l) {
                                    var g = 1 / v;
                                    s *= g, u *= g, c = s * (s + h * u + 2 * d) + u * (h * s + u + 2 * p) + m
                                } else u = f, s = Math.max(0, -(h * u + d)), c = -s * s + u * (u + 2 * p) + m;
                    else u = -f, s = Math.max(0, -(h * u + d)), c = -s * s + u * (u + 2 * p) + m;
                    else u <= -l ? (s = Math.max(0, -(-h * f + d)), u = s > 0 ? -f : Math.min(Math.max(-f, -p), f), c = -s * s + u * (u + 2 * p) + m) : u <= l ? (s = 0, u = Math.min(Math.max(-f, -p), f), c = u * (u + 2 * p) + m) : (s = Math.max(0, -(h * f + d)), u = s > 0 ? f : Math.min(Math.max(-f, -p), f), c = -s * s + u * (u + 2 * p) + m);
                    else u = h > 0 ? -f : f, s = Math.max(0, -(h * u + d)), c = -s * s + u * (u + 2 * p) + m;
                    return o && o.copy(this.direction).multiplyScalar(s).add(this.origin), a && a.copy(e).multiplyScalar(u).add(t), c
                }
            }(),
            intersectSphere: function() {
                var t = new f;
                return function(e, n) {
                    t.subVectors(e.center, this.origin);
                    var r = t.dot(this.direction),
                        i = t.dot(t) - r * r,
                        o = e.radius * e.radius;
                    if (i > o) return null;
                    var a = Math.sqrt(o - i),
                        s = r - a,
                        u = r + a;
                    return s < 0 && u < 0 ? null : s < 0 ? this.at(u, n) : this.at(s, n)
                }
            }(),
            intersectsSphere: function(t) {
                return this.distanceToPoint(t.center) <= t.radius
            },
            distanceToPlane: function(t) {
                var e = t.normal.dot(this.direction);
                if (0 === e) return 0 === t.distanceToPoint(this.origin) ? 0 : null;
                var n = -(this.origin.dot(t.normal) + t.constant) / e;
                return n >= 0 ? n : null
            },
            intersectPlane: function(t, e) {
                var n = this.distanceToPlane(t);
                return null === n ? null : this.at(n, e)
            },
            intersectsPlane: function(t) {
                var e = t.distanceToPoint(this.origin);
                return 0 === e || t.normal.dot(this.direction) * e < 0
            },
            intersectBox: function(t, e) {
                var n, r, i, o, a, s, u = 1 / this.direction.x,
                    c = 1 / this.direction.y,
                    l = 1 / this.direction.z,
                    f = this.origin;
                return u >= 0 ? (n = (t.min.x - f.x) * u, r = (t.max.x - f.x) * u) : (n = (t.max.x - f.x) * u, r = (t.min.x - f.x) * u), c >= 0 ? (i = (t.min.y - f.y) * c, o = (t.max.y - f.y) * c) : (i = (t.max.y - f.y) * c, o = (t.min.y - f.y) * c), n > o || i > r ? null : ((i > n || n !== n) && (n = i), (o < r || r !== r) && (r = o), l >= 0 ? (a = (t.min.z - f.z) * l, s = (t.max.z - f.z) * l) : (a = (t.max.z - f.z) * l, s = (t.min.z - f.z) * l), n > s || a > r ? null : ((a > n || n !== n) && (n = a), (s < r || r !== r) && (r = s), r < 0 ? null : this.at(n >= 0 ? n : r, e)))
            },
            intersectsBox: function() {
                var t = new f;
                return function(e) {
                    return null !== this.intersectBox(e, t)
                }
            }(),
            intersectTriangle: function() {
                var t = new f,
                    e = new f,
                    n = new f,
                    r = new f;
                return function(i, o, a, s, u) {
                    e.subVectors(o, i), n.subVectors(a, i), r.crossVectors(e, n);
                    var c, l = this.direction.dot(r);
                    if (l > 0) {
                        if (s) return null;
                        c = 1
                    } else {
                        if (!(l < 0)) return null;
                        c = -1, l = -l
                    }
                    t.subVectors(this.origin, i);
                    var f = c * this.direction.dot(n.crossVectors(t, n));
                    if (f < 0) return null;
                    var h = c * this.direction.dot(e.cross(t));
                    if (h < 0) return null;
                    if (f + h > l) return null;
                    var d = -c * t.dot(r);
                    return d < 0 ? null : this.at(d / l, u)
                }
            }(),
            applyMatrix4: function(t) {
                return this.direction.add(this.origin).applyMatrix4(t), this.origin.applyMatrix4(t), this.direction.sub(this.origin), this.direction.normalize(), this
            },
            equals: function(t) {
                return t.origin.equals(this.origin) && t.direction.equals(this.direction)
            }
        }), at.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], at.DefaultOrder = "XYZ", (0, Bn.default)(at.prototype, {
            x: {
                get: function() {
                    return this._x
                },
                set: function(t) {
                    this._x = t, this.onChangeCallback()
                }
            },
            y: {
                get: function() {
                    return this._y
                },
                set: function(t) {
                    this._y = t, this.onChangeCallback()
                }
            },
            z: {
                get: function() {
                    return this._z
                },
                set: function(t) {
                    this._z = t, this.onChangeCallback()
                }
            },
            order: {
                get: function() {
                    return this._order
                },
                set: function(t) {
                    this._order = t, this.onChangeCallback()
                }
            }
        }), (0, kn.default)(at.prototype, {
            isEuler: !0,
            set: function(t, e, n, r) {
                return this._x = t, this._y = e, this._z = n, this._order = r || this._order, this.onChangeCallback(), this
            },
            clone: function() {
                return new this.constructor(this._x, this._y, this._z, this._order)
            },
            copy: function(t) {
                return this._x = t._x, this._y = t._y, this._z = t._z, this._order = t._order, this.onChangeCallback(), this
            },
            setFromRotationMatrix: function(t, e, n) {
                var r = Qi.clamp,
                    i = t.elements,
                    o = i[0],
                    a = i[4],
                    s = i[8],
                    u = i[1],
                    c = i[5],
                    l = i[9],
                    f = i[2],
                    h = i[6],
                    d = i[10];
                return e = e || this._order, "XYZ" === e ? (this._y = Math.asin(r(s, -1, 1)), Math.abs(s) < .99999 ? (this._x = Math.atan2(-l, d), this._z = Math.atan2(-a, o)) : (this._x = Math.atan2(h, c), this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-r(l, -1, 1)), Math.abs(l) < .99999 ? (this._y = Math.atan2(s, d), this._z = Math.atan2(u, c)) : (this._y = Math.atan2(-f, o), this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(r(h, -1, 1)), Math.abs(h) < .99999 ? (this._y = Math.atan2(-f, d), this._z = Math.atan2(-a, c)) : (this._y = 0, this._z = Math.atan2(u, o))) : "ZYX" === e ? (this._y = Math.asin(-r(f, -1, 1)), Math.abs(f) < .99999 ? (this._x = Math.atan2(h, d), this._z = Math.atan2(u, o)) : (this._x = 0, this._z = Math.atan2(-a, c))) : "YZX" === e ? (this._z = Math.asin(r(u, -1, 1)), Math.abs(u) < .99999 ? (this._x = Math.atan2(-l, c), this._y = Math.atan2(-f, o)) : (this._x = 0, this._y = Math.atan2(s, d))) : "XZY" === e ? (this._z = Math.asin(-r(a, -1, 1)), Math.abs(a) < .99999 ? (this._x = Math.atan2(h, c), this._y = Math.atan2(s, o)) : (this._x = Math.atan2(-l, d), this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + e), this._order = e, !1 !== n && this.onChangeCallback(), this
            },
            setFromQuaternion: function() {
                var t;
                return function(e, n, r) {
                    return void 0 === t && (t = new h), t.makeRotationFromQuaternion(e), this.setFromRotationMatrix(t, n, r)
                }
            }(),
            setFromVector3: function(t, e) {
                return this.set(t.x, t.y, t.z, e || this._order)
            },
            reorder: function() {
                var t = new l;
                return function(e) {
                    return t.setFromEuler(this), this.setFromQuaternion(t, e)
                }
            }(),
            equals: function(t) {
                return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order
            },
            fromArray: function(t) {
                return this._x = t[0], this._y = t[1], this._z = t[2], void 0 !== t[3] && (this._order = t[3]), this.onChangeCallback(), this
            },
            toArray: function(t, e) {
                return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._order, t
            },
            toVector3: function(t) {
                return t ? t.set(this._x, this._y, this._z) : new f(this._x, this._y, this._z)
            },
            onChange: function(t) {
                return this.onChangeCallback = t, this
            },
            onChangeCallback: function() {}
        }), (0, kn.default)(st.prototype, {
            set: function(t) {
                this.mask = 1 << t | 0
            },
            enable: function(t) {
                this.mask |= 1 << t | 0
            },
            toggle: function(t) {
                this.mask ^= 1 << t | 0
            },
            disable: function(t) {
                this.mask &= ~(1 << t | 0)
            },
            test: function(t) {
                return 0 != (this.mask & t.mask)
            }
        });
        var so = 0;
        ut.DefaultUp = new f(0, 1, 0), ut.DefaultMatrixAutoUpdate = !0, (0, kn.default)(ut.prototype, i.prototype, {
            isObject3D: !0,
            applyMatrix: function(t) {
                this.matrix.multiplyMatrices(t, this.matrix), this.matrix.decompose(this.position, this.quaternion, this.scale)
            },
            setRotationFromAxisAngle: function(t, e) {
                this.quaternion.setFromAxisAngle(t, e)
            },
            setRotationFromEuler: function(t) {
                this.quaternion.setFromEuler(t, !0)
            },
            setRotationFromMatrix: function(t) {
                this.quaternion.setFromRotationMatrix(t)
            },
            setRotationFromQuaternion: function(t) {
                this.quaternion.copy(t)
            },
            rotateOnAxis: function() {
                var t = new l;
                return function(e, n) {
                    return t.setFromAxisAngle(e, n), this.quaternion.multiply(t), this
                }
            }(),
            rotateX: function() {
                var t = new f(1, 0, 0);
                return function(e) {
                    return this.rotateOnAxis(t, e)
                }
            }(),
            rotateY: function() {
                var t = new f(0, 1, 0);
                return function(e) {
                    return this.rotateOnAxis(t, e)
                }
            }(),
            rotateZ: function() {
                var t = new f(0, 0, 1);
                return function(e) {
                    return this.rotateOnAxis(t, e)
                }
            }(),
            translateOnAxis: function() {
                var t = new f;
                return function(e, n) {
                    return t.copy(e).applyQuaternion(this.quaternion), this.position.add(t.multiplyScalar(n)), this
                }
            }(),
            translateX: function() {
                var t = new f(1, 0, 0);
                return function(e) {
                    return this.translateOnAxis(t, e)
                }
            }(),
            translateY: function() {
                var t = new f(0, 1, 0);
                return function(e) {
                    return this.translateOnAxis(t, e)
                }
            }(),
            translateZ: function() {
                var t = new f(0, 0, 1);
                return function(e) {
                    return this.translateOnAxis(t, e)
                }
            }(),
            localToWorld: function(t) {
                return t.applyMatrix4(this.matrixWorld)
            },
            worldToLocal: function() {
                var t = new h;
                return function(e) {
                    return e.applyMatrix4(t.getInverse(this.matrixWorld))
                }
            }(),
            lookAt: function() {
                var t = new h;
                return function(e) {
                    this.isCamera ? t.lookAt(this.position, e, this.up) : t.lookAt(e, this.position, this.up), this.quaternion.setFromRotationMatrix(t)
                }
            }(),
            add: function(t) {
                if (arguments.length > 1) {
                    for (var e = 0; e < arguments.length; e++) this.add(arguments[e]);
                    return this
                }
                return t === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", t), this) : (t && t.isObject3D ? (null !== t.parent && t.parent.remove(t), t.parent = this, t.dispatchEvent({
                    type: "added"
                }), this.children.push(t)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", t), this)
            },
            remove: function(t) {
                if (arguments.length > 1)
                    for (var e = 0; e < arguments.length; e++) this.remove(arguments[e]);
                var n = this.children.indexOf(t); - 1 !== n && (t.parent = null, t.dispatchEvent({
                    type: "removed"
                }), this.children.splice(n, 1))
            },
            getObjectById: function(t) {
                return this.getObjectByProperty("id", t)
            },
            getObjectByName: function(t) {
                return this.getObjectByProperty("name", t)
            },
            getObjectByProperty: function(t, e) {
                if (this[t] === e) return this;
                for (var n = 0, r = this.children.length; n < r; n++) {
                    var i = this.children[n],
                        o = i.getObjectByProperty(t, e);
                    if (void 0 !== o) return o
                }
            },
            getWorldPosition: function(t) {
                var e = t || new f;
                return this.updateMatrixWorld(!0), e.setFromMatrixPosition(this.matrixWorld)
            },
            getWorldQuaternion: function() {
                var t = new f,
                    e = new f;
                return function(n) {
                    var r = n || new l;
                    return this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, r, e), r
                }
            }(),
            getWorldRotation: function() {
                var t = new l;
                return function(e) {
                    var n = e || new at;
                    return this.getWorldQuaternion(t), n.setFromQuaternion(t, this.rotation.order, !1)
                }
            }(),
            getWorldScale: function() {
                var t = new f,
                    e = new l;
                return function(n) {
                    var r = n || new f;
                    return this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, e, r), r
                }
            }(),
            getWorldDirection: function() {
                var t = new l;
                return function(e) {
                    var n = e || new f;
                    return this.getWorldQuaternion(t), n.set(0, 0, 1).applyQuaternion(t)
                }
            }(),
            raycast: function() {},
            traverse: function(t) {
                t(this);
                for (var e = this.children, n = 0, r = e.length; n < r; n++) e[n].traverse(t)
            },
            traverseVisible: function(t) {
                if (!1 !== this.visible) {
                    t(this);
                    for (var e = this.children, n = 0, r = e.length; n < r; n++) e[n].traverseVisible(t)
                }
            },
            traverseAncestors: function(t) {
                var e = this.parent;
                null !== e && (t(e), e.traverseAncestors(t))
            },
            updateMatrix: function() {
                this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
            },
            updateMatrixWorld: function(t) {
                this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || t) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0);
                for (var e = this.children, n = 0, r = e.length; n < r; n++) e[n].updateMatrixWorld(t)
            },
            toJSON: function(t) {
                function e(e, n) {
                    return void 0 === e[n.uuid] && (e[n.uuid] = n.toJSON(t)), n.uuid
                }

                function n(t) {
                    var e = [];
                    for (var n in t) {
                        var r = t[n];
                        delete r.metadata, e.push(r)
                    }
                    return e
                }
                var r = void 0 === t || "" === t,
                    i = {};
                r && (t = {
                    geometries: {},
                    materials: {},
                    textures: {},
                    images: {}
                }, i.metadata = {
                    version: 4.5,
                    type: "Object",
                    generator: "Object3D.toJSON"
                });
                var o = {};
                if (o.uuid = this.uuid, o.type = this.type, "" !== this.name && (o.name = this.name), "{}" !== (0, Rn.default)(this.userData) && (o.userData = this.userData), !0 === this.castShadow && (o.castShadow = !0), !0 === this.receiveShadow && (o.receiveShadow = !0), !1 === this.visible && (o.visible = !1), o.matrix = this.matrix.toArray(), void 0 !== this.geometry && (o.geometry = e(t.geometries, this.geometry)), void 0 !== this.material)
                    if (Array.isArray(this.material)) {
                        for (var a = [], s = 0, u = this.material.length; s < u; s++) a.push(e(t.materials, this.material[s]));
                        o.material = a
                    } else o.material = e(t.materials, this.material);
                if (this.children.length > 0) {
                    o.children = [];
                    for (var s = 0; s < this.children.length; s++) o.children.push(this.children[s].toJSON(t).object)
                }
                if (r) {
                    var c = n(t.geometries),
                        l = n(t.materials),
                        f = n(t.textures),
                        h = n(t.images);
                    c.length > 0 && (i.geometries = c), l.length > 0 && (i.materials = l), f.length > 0 && (i.textures = f), h.length > 0 && (i.images = h)
                }
                return i.object = o, i
            },
            clone: function(t) {
                return (new this.constructor).copy(this, t)
            },
            copy: function(t, e) {
                if (void 0 === e && (e = !0), this.name = t.name, this.up.copy(t.up), this.position.copy(t.position), this.quaternion.copy(t.quaternion), this.scale.copy(t.scale), this.matrix.copy(t.matrix), this.matrixWorld.copy(t.matrixWorld), this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate, this.layers.mask = t.layers.mask, this.visible = t.visible, this.castShadow = t.castShadow, this.receiveShadow = t.receiveShadow, this.frustumCulled = t.frustumCulled, this.renderOrder = t.renderOrder, this.userData = JSON.parse((0, Rn.default)(t.userData)), !0 === e)
                    for (var n = 0; n < t.children.length; n++) {
                        var r = t.children[n];
                        this.add(r.clone())
                    }
                return this
            }
        }), (0, kn.default)(ct.prototype, {
            set: function(t, e) {
                return this.start.copy(t), this.end.copy(e), this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                return this.start.copy(t.start), this.end.copy(t.end), this
            },
            getCenter: function(t) {
                return (t || new f).addVectors(this.start, this.end).multiplyScalar(.5)
            },
            delta: function(t) {
                return (t || new f).subVectors(this.end, this.start)
            },
            distanceSq: function() {
                return this.start.distanceToSquared(this.end)
            },
            distance: function() {
                return this.start.distanceTo(this.end)
            },
            at: function(t, e) {
                var n = e || new f;
                return this.delta(n).multiplyScalar(t).add(this.start)
            },
            closestPointToPointParameter: function() {
                var t = new f,
                    e = new f;
                return function(n, r) {
                    t.subVectors(n, this.start), e.subVectors(this.end, this.start);
                    var i = e.dot(e),
                        o = e.dot(t),
                        a = o / i;
                    return r && (a = Qi.clamp(a, 0, 1)), a
                }
            }(),
            closestPointToPoint: function(t, e, n) {
                var r = this.closestPointToPointParameter(t, e),
                    i = n || new f;
                return this.delta(i).multiplyScalar(r).add(this.start)
            },
            applyMatrix4: function(t) {
                return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this
            },
            equals: function(t) {
                return t.start.equals(this.start) && t.end.equals(this.end)
            }
        }), (0, kn.default)(lt, {
            normal: function() {
                var t = new f;
                return function(e, n, r, i) {
                    var o = i || new f;
                    o.subVectors(r, n), t.subVectors(e, n), o.cross(t);
                    var a = o.lengthSq();
                    return a > 0 ? o.multiplyScalar(1 / Math.sqrt(a)) : o.set(0, 0, 0)
                }
            }(),
            barycoordFromPoint: function() {
                var t = new f,
                    e = new f,
                    n = new f;
                return function(r, i, o, a, s) {
                    t.subVectors(a, i), e.subVectors(o, i), n.subVectors(r, i);
                    var u = t.dot(t),
                        c = t.dot(e),
                        l = t.dot(n),
                        h = e.dot(e),
                        d = e.dot(n),
                        p = u * h - c * c,
                        m = s || new f;
                    if (0 === p) return m.set(-2, -1, -1);
                    var v = 1 / p,
                        g = (h * l - c * d) * v,
                        A = (u * d - c * l) * v;
                    return m.set(1 - g - A, A, g)
                }
            }(),
            containsPoint: function() {
                var t = new f;
                return function(e, n, r, i) {
                    var o = lt.barycoordFromPoint(e, n, r, i, t);
                    return o.x >= 0 && o.y >= 0 && o.x + o.y <= 1
                }
            }()
        }), (0, kn.default)(lt.prototype, {
            set: function(t, e, n) {
                return this.a.copy(t), this.b.copy(e), this.c.copy(n), this
            },
            setFromPointsAndIndices: function(t, e, n, r) {
                return this.a.copy(t[e]), this.b.copy(t[n]), this.c.copy(t[r]), this
            },
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this
            },
            area: function() {
                var t = new f,
                    e = new f;
                return function() {
                    return t.subVectors(this.c, this.b), e.subVectors(this.a, this.b), .5 * t.cross(e).length()
                }
            }(),
            midpoint: function(t) {
                return (t || new f).addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
            },
            normal: function(t) {
                return lt.normal(this.a, this.b, this.c, t)
            },
            plane: function(t) {
                return (t || new nt).setFromCoplanarPoints(this.a, this.b, this.c)
            },
            barycoordFromPoint: function(t, e) {
                return lt.barycoordFromPoint(t, this.a, this.b, this.c, e)
            },
            containsPoint: function(t) {
                return lt.containsPoint(t, this.a, this.b, this.c)
            },
            closestPointToPoint: function() {
                var t, e, n, r;
                return function(i, o) {
                    void 0 === t && (t = new nt, e = [new ct, new ct, new ct], n = new f, r = new f);
                    var a = o || new f,
                        s = 1 / 0;
                    if (t.setFromCoplanarPoints(this.a, this.b, this.c), t.projectPoint(i, n), !0 === this.containsPoint(n)) a.copy(n);
                    else {
                        e[0].set(this.a, this.b), e[1].set(this.b, this.c), e[2].set(this.c, this.a);
                        for (var u = 0; u < e.length; u++) {
                            e[u].closestPointToPoint(n, !0, r);
                            var c = n.distanceToSquared(r);
                            c < s && (s = c, a.copy(r))
                        }
                    }
                    return a
                }
            }(),
            equals: function(t) {
                return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c)
            }
        }), (0, kn.default)(ft.prototype, {
            clone: function() {
                return (new this.constructor).copy(this)
            },
            copy: function(t) {
                this.a = t.a, this.b = t.b, this.c = t.c, this.normal.copy(t.normal), this.color.copy(t.color), this.materialIndex = t.materialIndex;
                for (var e = 0, n = t.vertexNormals.length; e < n; e++) this.vertexNormals[e] = t.vertexNormals[e].clone();
                for (var e = 0, n = t.vertexColors.length; e < n; e++) this.vertexColors[e] = t.vertexColors[e].clone();
                return this
            }
        }), ht.prototype = (0, On.default)(Z.prototype), ht.prototype.constructor = ht, ht.prototype.isMeshBasicMaterial = !0, ht.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this
        }, Object.defineProperty(dt.prototype, "needsUpdate", {
            set: function(t) {
                !0 === t && this.version++
            }
        }), (0, kn.default)(dt.prototype, {
            isBufferAttribute: !0,
            setArray: function(t) {
                if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                this.count = void 0 !== t ? t.length / this.itemSize : 0, this.array = t
            },
            setDynamic: function(t) {
                return this.dynamic = t, this
            },
            copy: function(t) {
                return this.array = new t.array.constructor(t.array), this.itemSize = t.itemSize, this.count = t.count, this.normalized = t.normalized, this.dynamic = t.dynamic, this
            },
            copyAt: function(t, e, n) {
                t *= this.itemSize, n *= e.itemSize;
                for (var r = 0, i = this.itemSize; r < i; r++) this.array[t + r] = e.array[n + r];
                return this
            },
            copyArray: function(t) {
                return this.array.set(t), this
            },
            copyColorsArray: function(t) {
                for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                    var o = t[r];
                    void 0 === o && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", r), o = new Y), e[n++] = o.r, e[n++] = o.g, e[n++] = o.b
                }
                return this
            },
            copyIndicesArray: function(t) {
                for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                    var o = t[r];
                    e[n++] = o.a, e[n++] = o.b, e[n++] = o.c
                }
                return this
            },
            copyVector2sArray: function(t) {
                for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                    var a = t[r];
                    void 0 === a && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", r), a = new o), e[n++] = a.x, e[n++] = a.y
                }
                return this
            },
            copyVector3sArray: function(t) {
                for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                    var o = t[r];
                    void 0 === o && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", r), o = new f), e[n++] = o.x, e[n++] = o.y, e[n++] = o.z
                }
                return this
            },
            copyVector4sArray: function(t) {
                for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                    var o = t[r];
                    void 0 === o && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", r), o = new s), e[n++] = o.x, e[n++] = o.y, e[n++] = o.z, e[n++] = o.w
                }
                return this
            },
            set: function(t, e) {
                return void 0 === e && (e = 0), this.array.set(t, e), this
            },
            getX: function(t) {
                return this.array[t * this.itemSize]
            },
            setX: function(t, e) {
                return this.array[t * this.itemSize] = e, this
            },
            getY: function(t) {
                return this.array[t * this.itemSize + 1]
            },
            setY: function(t, e) {
                return this.array[t * this.itemSize + 1] = e, this
            },
            getZ: function(t) {
                return this.array[t * this.itemSize + 2]
            },
            setZ: function(t, e) {
                return this.array[t * this.itemSize + 2] = e, this
            },
            getW: function(t) {
                return this.array[t * this.itemSize + 3]
            },
            setW: function(t, e) {
                return this.array[t * this.itemSize + 3] = e, this
            },
            setXY: function(t, e, n) {
                return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = n, this
            },
            setXYZ: function(t, e, n, r) {
                return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = n, this.array[t + 2] = r, this
            },
            setXYZW: function(t, e, n, r, i) {
                return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = n, this.array[t + 2] = r, this.array[t + 3] = i, this
            },
            onUpload: function(t) {
                return this.onUploadCallback = t, this
            },
            clone: function() {
                return new this.constructor(this.array, this.itemSize).copy(this)
            }
        }), pt.prototype = (0, On.default)(dt.prototype), pt.prototype.constructor = pt, mt.prototype = (0, On.default)(dt.prototype), mt.prototype.constructor = mt, vt.prototype = (0, On.default)(dt.prototype), vt.prototype.constructor = vt, gt.prototype = (0, On.default)(dt.prototype), gt.prototype.constructor = gt, At.prototype = (0, On.default)(dt.prototype), At.prototype.constructor = At, yt.prototype = (0, On.default)(dt.prototype), yt.prototype.constructor = yt, xt.prototype = (0, On.default)(dt.prototype), xt.prototype.constructor = xt, _t.prototype = (0, On.default)(dt.prototype), _t.prototype.constructor = _t, bt.prototype = (0, On.default)(dt.prototype), bt.prototype.constructor = bt, (0, kn.default)(wt.prototype, {
            computeGroups: function(t) {
                for (var e, n = [], r = void 0, i = t.faces, o = 0; o < i.length; o++) {
                    var a = i[o];
                    a.materialIndex !== r && (r = a.materialIndex, void 0 !== e && (e.count = 3 * o - e.start, n.push(e)), e = {
                        start: 3 * o,
                        materialIndex: r
                    })
                }
                void 0 !== e && (e.count = 3 * o - e.start, n.push(e)), this.groups = n
            },
            fromGeometry: function(t) {
                var e, n = t.faces,
                    r = t.vertices,
                    i = t.faceVertexUvs,
                    a = i[0] && i[0].length > 0,
                    s = i[1] && i[1].length > 0,
                    u = t.morphTargets,
                    c = u.length;
                if (c > 0) {
                    e = [];
                    for (var l = 0; l < c; l++) e[l] = [];
                    this.morphTargets.position = e
                }
                var f, h = t.morphNormals,
                    d = h.length;
                if (d > 0) {
                    f = [];
                    for (var l = 0; l < d; l++) f[l] = [];
                    this.morphTargets.normal = f
                }
                for (var p = t.skinIndices, m = t.skinWeights, v = p.length === r.length, g = m.length === r.length, l = 0; l < n.length; l++) {
                    var A = n[l];
                    this.vertices.push(r[A.a], r[A.b], r[A.c]);
                    var y = A.vertexNormals;
                    if (3 === y.length) this.normals.push(y[0], y[1], y[2]);
                    else {
                        var x = A.normal;
                        this.normals.push(x, x, x)
                    }
                    var _ = A.vertexColors;
                    if (3 === _.length) this.colors.push(_[0], _[1], _[2]);
                    else {
                        var b = A.color;
                        this.colors.push(b, b, b)
                    }
                    if (!0 === a) {
                        var w = i[0][l];
                        void 0 !== w ? this.uvs.push(w[0], w[1], w[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", l), this.uvs.push(new o, new o, new o))
                    }
                    if (!0 === s) {
                        var w = i[1][l];
                        void 0 !== w ? this.uvs2.push(w[0], w[1], w[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", l), this.uvs2.push(new o, new o, new o))
                    }
                    for (var M = 0; M < c; M++) {
                        var E = u[M].vertices;
                        e[M].push(E[A.a], E[A.b], E[A.c])
                    }
                    for (var M = 0; M < d; M++) {
                        var S = h[M].vertexNormals[l];
                        f[M].push(S.a, S.b, S.c)
                    }
                    v && this.skinIndices.push(p[A.a], p[A.b], p[A.c]), g && this.skinWeights.push(m[A.a], m[A.b], m[A.c])
                }
                return this.computeGroups(t), this.verticesNeedUpdate = t.verticesNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
            }
        });
        var uo = 0;
        (0, kn.default)(St.prototype, i.prototype, {
            isGeometry: !0,
            applyMatrix: function(t) {
                for (var e = (new et).getNormalMatrix(t), n = 0, r = this.vertices.length; n < r; n++) {
                    this.vertices[n].applyMatrix4(t)
                }
                for (var n = 0, r = this.faces.length; n < r; n++) {
                    var i = this.faces[n];
                    i.normal.applyMatrix3(e).normalize();
                    for (var o = 0, a = i.vertexNormals.length; o < a; o++) i.vertexNormals[o].applyMatrix3(e).normalize()
                }
                return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.verticesNeedUpdate = !0, this.normalsNeedUpdate = !0, this
            },
            rotateX: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new h), t.makeRotationX(e), this.applyMatrix(t), this
                }
            }(),
            rotateY: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new h), t.makeRotationY(e), this.applyMatrix(t), this
                }
            }(),
            rotateZ: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new h), t.makeRotationZ(e), this.applyMatrix(t), this
                }
            }(),
            translate: function() {
                var t;
                return function(e, n, r) {
                    return void 0 === t && (t = new h), t.makeTranslation(e, n, r), this.applyMatrix(t), this
                }
            }(),
            scale: function() {
                var t;
                return function(e, n, r) {
                    return void 0 === t && (t = new h), t.makeScale(e, n, r), this.applyMatrix(t), this
                }
            }(),
            lookAt: function() {
                var t;
                return function(e) {
                    void 0 === t && (t = new ut), t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix)
                }
            }(),
            fromBufferGeometry: function(t) {
                function e(t, e, r, i) {
                    var o = void 0 !== s ? [h[t].clone(), h[e].clone(), h[r].clone()] : [],
                        a = void 0 !== u ? [n.colors[t].clone(), n.colors[e].clone(), n.colors[r].clone()] : [],
                        f = new ft(t, e, r, o, a, i);
                    n.faces.push(f), void 0 !== c && n.faceVertexUvs[0].push([d[t].clone(), d[e].clone(), d[r].clone()]), void 0 !== l && n.faceVertexUvs[1].push([p[t].clone(), p[e].clone(), p[r].clone()])
                }
                var n = this,
                    r = null !== t.index ? t.index.array : void 0,
                    i = t.attributes,
                    a = i.position.array,
                    s = void 0 !== i.normal ? i.normal.array : void 0,
                    u = void 0 !== i.color ? i.color.array : void 0,
                    c = void 0 !== i.uv ? i.uv.array : void 0,
                    l = void 0 !== i.uv2 ? i.uv2.array : void 0;
                void 0 !== l && (this.faceVertexUvs[1] = []);
                for (var h = [], d = [], p = [], m = 0, v = 0; m < a.length; m += 3, v += 2) n.vertices.push(new f(a[m], a[m + 1], a[m + 2])), void 0 !== s && h.push(new f(s[m], s[m + 1], s[m + 2])), void 0 !== u && n.colors.push(new Y(u[m], u[m + 1], u[m + 2])), void 0 !== c && d.push(new o(c[v], c[v + 1])), void 0 !== l && p.push(new o(l[v], l[v + 1]));
                var g = t.groups;
                if (g.length > 0)
                    for (var m = 0; m < g.length; m++)
                        for (var A = g[m], y = A.start, x = A.count, v = y, _ = y + x; v < _; v += 3) void 0 !== r ? e(r[v], r[v + 1], r[v + 2], A.materialIndex) : e(v, v + 1, v + 2, A.materialIndex);
                else if (void 0 !== r)
                    for (var m = 0; m < r.length; m += 3) e(r[m], r[m + 1], r[m + 2]);
                else
                    for (var m = 0; m < a.length / 3; m += 3) e(m, m + 1, m + 2);
                return this.computeFaceNormals(), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), this
            },
            center: function() {
                this.computeBoundingBox();
                var t = this.boundingBox.getCenter().negate();
                return this.translate(t.x, t.y, t.z), t
            },
            normalize: function() {
                this.computeBoundingSphere();
                var t = this.boundingSphere.center,
                    e = this.boundingSphere.radius,
                    n = 0 === e ? 1 : 1 / e,
                    r = new h;
                return r.set(n, 0, 0, -n * t.x, 0, n, 0, -n * t.y, 0, 0, n, -n * t.z, 0, 0, 0, 1), this.applyMatrix(r), this
            },
            computeFaceNormals: function() {
                for (var t = new f, e = new f, n = 0, r = this.faces.length; n < r; n++) {
                    var i = this.faces[n],
                        o = this.vertices[i.a],
                        a = this.vertices[i.b],
                        s = this.vertices[i.c];
                    t.subVectors(s, a), e.subVectors(o, a), t.cross(e), t.normalize(), i.normal.copy(t)
                }
            },
            computeVertexNormals: function(t) {
                void 0 === t && (t = !0);
                var e, n, r, i, o, a;
                for (a = new Array(this.vertices.length), e = 0, n = this.vertices.length; e < n; e++) a[e] = new f;
                if (t) {
                    var s, u, c, l = new f,
                        h = new f;
                    for (r = 0, i = this.faces.length; r < i; r++) o = this.faces[r], s = this.vertices[o.a], u = this.vertices[o.b], c = this.vertices[o.c], l.subVectors(c, u), h.subVectors(s, u), l.cross(h), a[o.a].add(l), a[o.b].add(l), a[o.c].add(l)
                } else
                    for (this.computeFaceNormals(), r = 0, i = this.faces.length; r < i; r++) o = this.faces[r], a[o.a].add(o.normal), a[o.b].add(o.normal), a[o.c].add(o.normal);
                for (e = 0, n = this.vertices.length; e < n; e++) a[e].normalize();
                for (r = 0, i = this.faces.length; r < i; r++) {
                    o = this.faces[r];
                    var d = o.vertexNormals;
                    3 === d.length ? (d[0].copy(a[o.a]), d[1].copy(a[o.b]), d[2].copy(a[o.c])) : (d[0] = a[o.a].clone(), d[1] = a[o.b].clone(), d[2] = a[o.c].clone())
                }
                this.faces.length > 0 && (this.normalsNeedUpdate = !0)
            },
            computeFlatVertexNormals: function() {
                var t, e, n;
                for (this.computeFaceNormals(), t = 0, e = this.faces.length; t < e; t++) {
                    n = this.faces[t];
                    var r = n.vertexNormals;
                    3 === r.length ? (r[0].copy(n.normal), r[1].copy(n.normal), r[2].copy(n.normal)) : (r[0] = n.normal.clone(), r[1] = n.normal.clone(), r[2] = n.normal.clone())
                }
                this.faces.length > 0 && (this.normalsNeedUpdate = !0)
            },
            computeMorphNormals: function() {
                var t, e, n, r, i;
                for (n = 0, r = this.faces.length; n < r; n++)
                    for (i = this.faces[n], i.__originalFaceNormal ? i.__originalFaceNormal.copy(i.normal) : i.__originalFaceNormal = i.normal.clone(), i.__originalVertexNormals || (i.__originalVertexNormals = []), t = 0, e = i.vertexNormals.length; t < e; t++) i.__originalVertexNormals[t] ? i.__originalVertexNormals[t].copy(i.vertexNormals[t]) : i.__originalVertexNormals[t] = i.vertexNormals[t].clone();
                var o = new St;
                for (o.faces = this.faces, t = 0, e = this.morphTargets.length; t < e; t++) {
                    if (!this.morphNormals[t]) {
                        this.morphNormals[t] = {}, this.morphNormals[t].faceNormals = [], this.morphNormals[t].vertexNormals = [];
                        var a, s, u = this.morphNormals[t].faceNormals,
                            c = this.morphNormals[t].vertexNormals;
                        for (n = 0, r = this.faces.length; n < r; n++) a = new f, s = {
                            a: new f,
                            b: new f,
                            c: new f
                        }, u.push(a), c.push(s)
                    }
                    var l = this.morphNormals[t];
                    o.vertices = this.morphTargets[t].vertices, o.computeFaceNormals(), o.computeVertexNormals();
                    var a, s;
                    for (n = 0, r = this.faces.length; n < r; n++) i = this.faces[n], a = l.faceNormals[n], s = l.vertexNormals[n], a.copy(i.normal), s.a.copy(i.vertexNormals[0]), s.b.copy(i.vertexNormals[1]), s.c.copy(i.vertexNormals[2])
                }
                for (n = 0, r = this.faces.length; n < r; n++) i = this.faces[n], i.normal = i.__originalFaceNormal, i.vertexNormals = i.__originalVertexNormals
            },
            computeLineDistances: function() {
                for (var t = 0, e = this.vertices, n = 0, r = e.length; n < r; n++) n > 0 && (t += e[n].distanceTo(e[n - 1])), this.lineDistances[n] = t
            },
            computeBoundingBox: function() {
                null === this.boundingBox && (this.boundingBox = new $), this.boundingBox.setFromPoints(this.vertices)
            },
            computeBoundingSphere: function() {
                null === this.boundingSphere && (this.boundingSphere = new tt), this.boundingSphere.setFromPoints(this.vertices)
            },
            merge: function(t, e, n) {
                if (!1 === (t && t.isGeometry)) return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", t);
                var r, i = this.vertices.length,
                    o = this.vertices,
                    a = t.vertices,
                    s = this.faces,
                    u = t.faces,
                    c = this.faceVertexUvs[0],
                    l = t.faceVertexUvs[0],
                    f = this.colors,
                    h = t.colors;
                void 0 === n && (n = 0), void 0 !== e && (r = (new et).getNormalMatrix(e));
                for (var d = 0, p = a.length; d < p; d++) {
                    var m = a[d],
                        v = m.clone();
                    void 0 !== e && v.applyMatrix4(e), o.push(v)
                }
                for (var d = 0, p = h.length; d < p; d++) f.push(h[d].clone());
                for (d = 0, p = u.length; d < p; d++) {
                    var g, A, y, x = u[d],
                        _ = x.vertexNormals,
                        b = x.vertexColors;
                    g = new ft(x.a + i, x.b + i, x.c + i), g.normal.copy(x.normal), void 0 !== r && g.normal.applyMatrix3(r).normalize();
                    for (var w = 0, M = _.length; w < M; w++) A = _[w].clone(), void 0 !== r && A.applyMatrix3(r).normalize(), g.vertexNormals.push(A);
                    g.color.copy(x.color);
                    for (var w = 0, M = b.length; w < M; w++) y = b[w], g.vertexColors.push(y.clone());
                    g.materialIndex = x.materialIndex + n, s.push(g)
                }
                for (d = 0, p = l.length; d < p; d++) {
                    var E = l[d],
                        S = [];
                    if (void 0 !== E) {
                        for (var w = 0, M = E.length; w < M; w++) S.push(E[w].clone());
                        c.push(S)
                    }
                }
            },
            mergeMesh: function(t) {
                if (!1 === (t && t.isMesh)) return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", t);
                t.matrixAutoUpdate && t.updateMatrix(), this.merge(t.geometry, t.matrix)
            },
            mergeVertices: function() {
                var t, e, n, r, i, o, a, s, u = {},
                    c = [],
                    l = [],
                    f = Math.pow(10, 4);
                for (n = 0, r = this.vertices.length; n < r; n++) t = this.vertices[n], e = Math.round(t.x * f) + "_" + Math.round(t.y * f) + "_" + Math.round(t.z * f), void 0 === u[e] ? (u[e] = n, c.push(this.vertices[n]), l[n] = c.length - 1) : l[n] = l[u[e]];
                var h = [];
                for (n = 0, r = this.faces.length; n < r; n++) {
                    i = this.faces[n], i.a = l[i.a], i.b = l[i.b], i.c = l[i.c], o = [i.a, i.b, i.c];
                    for (var d = 0; d < 3; d++)
                        if (o[d] === o[(d + 1) % 3]) {
                            h.push(n);
                            break
                        }
                }
                for (n = h.length - 1; n >= 0; n--) {
                    var p = h[n];
                    for (this.faces.splice(p, 1), a = 0, s = this.faceVertexUvs.length; a < s; a++) this.faceVertexUvs[a].splice(p, 1)
                }
                var m = this.vertices.length - c.length;
                return this.vertices = c, m
            },
            sortFacesByMaterialIndex: function() {
                function t(t, e) {
                    return t.materialIndex - e.materialIndex
                }
                for (var e = this.faces, n = e.length, r = 0; r < n; r++) e[r]._id = r;
                e.sort(t);
                var i, o, a = this.faceVertexUvs[0],
                    s = this.faceVertexUvs[1];
                a && a.length === n && (i = []), s && s.length === n && (o = []);
                for (var r = 0; r < n; r++) {
                    var u = e[r]._id;
                    i && i.push(a[u]), o && o.push(s[u])
                }
                i && (this.faceVertexUvs[0] = i), o && (this.faceVertexUvs[1] = o)
            },
            toJSON: function() {
                function t(t, e, n) {
                    return n ? t | 1 << e : t & ~(1 << e)
                }

                function e(t) {
                    var e = t.x.toString() + t.y.toString() + t.z.toString();
                    return void 0 !== h[e] ? h[e] : (h[e] = f.length / 3, f.push(t.x, t.y, t.z), h[e])
                }

                function n(t) {
                    var e = t.r.toString() + t.g.toString() + t.b.toString();
                    return void 0 !== p[e] ? p[e] : (p[e] = d.length, d.push(t.getHex()), p[e])
                }

                function r(t) {
                    var e = t.x.toString() + t.y.toString();
                    return void 0 !== v[e] ? v[e] : (v[e] = m.length / 2, m.push(t.x, t.y), v[e])
                }
                var i = {
                    metadata: {
                        version: 4.5,
                        type: "Geometry",
                        generator: "Geometry.toJSON"
                    }
                };
                if (i.uuid = this.uuid, i.type = this.type, "" !== this.name && (i.name = this.name), void 0 !== this.parameters) {
                    var o = this.parameters;
                    for (var a in o) void 0 !== o[a] && (i[a] = o[a]);
                    return i
                }
                for (var s = [], u = 0; u < this.vertices.length; u++) {
                    var c = this.vertices[u];
                    s.push(c.x, c.y, c.z)
                }
                for (var l = [], f = [], h = {}, d = [], p = {}, m = [], v = {}, u = 0; u < this.faces.length; u++) {
                    var g = this.faces[u],
                        A = void 0 !== this.faceVertexUvs[0][u],
                        y = g.normal.length() > 0,
                        x = g.vertexNormals.length > 0,
                        _ = 1 !== g.color.r || 1 !== g.color.g || 1 !== g.color.b,
                        b = g.vertexColors.length > 0,
                        w = 0;
                    if (w = t(w, 0, 0), w = t(w, 1, !0), w = t(w, 2, !1), w = t(w, 3, A), w = t(w, 4, y), w = t(w, 5, x), w = t(w, 6, _), w = t(w, 7, b), l.push(w), l.push(g.a, g.b, g.c), l.push(g.materialIndex), A) {
                        var M = this.faceVertexUvs[0][u];
                        l.push(r(M[0]), r(M[1]), r(M[2]))
                    }
                    if (y && l.push(e(g.normal)), x) {
                        var E = g.vertexNormals;
                        l.push(e(E[0]), e(E[1]), e(E[2]))
                    }
                    if (_ && l.push(n(g.color)), b) {
                        var S = g.vertexColors;
                        l.push(n(S[0]), n(S[1]), n(S[2]))
                    }
                }
                return i.data = {}, i.data.vertices = s, i.data.normals = f, d.length > 0 && (i.data.colors = d), m.length > 0 && (i.data.uvs = [m]), i.data.faces = l, i
            },
            clone: function() {
                return (new St).copy(this)
            },
            copy: function(t) {
                var e, n, r, i, o, a;
                this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                    []
                ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.name = t.name;
                var s = t.vertices;
                for (e = 0, n = s.length; e < n; e++) this.vertices.push(s[e].clone());
                var u = t.colors;
                for (e = 0, n = u.length; e < n; e++) this.colors.push(u[e].clone());
                var c = t.faces;
                for (e = 0, n = c.length; e < n; e++) this.faces.push(c[e].clone());
                for (e = 0, n = t.faceVertexUvs.length; e < n; e++) {
                    var l = t.faceVertexUvs[e];
                    for (void 0 === this.faceVertexUvs[e] && (this.faceVertexUvs[e] = []), r = 0, i = l.length; r < i; r++) {
                        var f = l[r],
                            h = [];
                        for (o = 0, a = f.length; o < a; o++) {
                            var d = f[o];
                            h.push(d.clone())
                        }
                        this.faceVertexUvs[e].push(h)
                    }
                }
                var p = t.morphTargets;
                for (e = 0, n = p.length; e < n; e++) {
                    var m = {};
                    if (m.name = p[e].name, void 0 !== p[e].vertices)
                        for (m.vertices = [], r = 0, i = p[e].vertices.length; r < i; r++) m.vertices.push(p[e].vertices[r].clone());
                    if (void 0 !== p[e].normals)
                        for (m.normals = [], r = 0, i = p[e].normals.length; r < i; r++) m.normals.push(p[e].normals[r].clone());
                    this.morphTargets.push(m)
                }
                var v = t.morphNormals;
                for (e = 0, n = v.length; e < n; e++) {
                    var g = {};
                    if (void 0 !== v[e].vertexNormals)
                        for (g.vertexNormals = [], r = 0, i = v[e].vertexNormals.length; r < i; r++) {
                            var A = v[e].vertexNormals[r],
                                y = {};
                            y.a = A.a.clone(), y.b = A.b.clone(), y.c = A.c.clone(), g.vertexNormals.push(y)
                        }
                    if (void 0 !== v[e].faceNormals)
                        for (g.faceNormals = [], r = 0, i = v[e].faceNormals.length; r < i; r++) g.faceNormals.push(v[e].faceNormals[r].clone());
                    this.morphNormals.push(g)
                }
                var x = t.skinWeights;
                for (e = 0, n = x.length; e < n; e++) this.skinWeights.push(x[e].clone());
                var _ = t.skinIndices;
                for (e = 0, n = _.length; e < n; e++) this.skinIndices.push(_[e].clone());
                var b = t.lineDistances;
                for (e = 0, n = b.length; e < n; e++) this.lineDistances.push(b[e]);
                var w = t.boundingBox;
                null !== w && (this.boundingBox = w.clone());
                var M = t.boundingSphere;
                return null !== M && (this.boundingSphere = M.clone()), this.elementsNeedUpdate = t.elementsNeedUpdate, this.verticesNeedUpdate = t.verticesNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.lineDistancesNeedUpdate = t.lineDistancesNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            }
        }), Tt.MaxIndex = 65535, (0, kn.default)(Tt.prototype, i.prototype, {
            isBufferGeometry: !0,
            getIndex: function() {
                return this.index
            },
            setIndex: function(t) {
                Array.isArray(t) ? this.index = new(Mt(t) > 65535 ? xt : At)(t, 1) : this.index = t
            },
            addAttribute: function(t, e) {
                return !1 === (e && e.isBufferAttribute) && !1 === (e && e.isInterleavedBufferAttribute) ? (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."), void this.addAttribute(t, new dt(arguments[1], arguments[2]))) : "index" === t ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."), void this.setIndex(e)) : (this.attributes[t] = e, this)
            },
            getAttribute: function(t) {
                return this.attributes[t]
            },
            removeAttribute: function(t) {
                return delete this.attributes[t], this
            },
            addGroup: function(t, e, n) {
                this.groups.push({
                    start: t,
                    count: e,
                    materialIndex: void 0 !== n ? n : 0
                })
            },
            clearGroups: function() {
                this.groups = []
            },
            setDrawRange: function(t, e) {
                this.drawRange.start = t, this.drawRange.count = e
            },
            applyMatrix: function(t) {
                var e = this.attributes.position;
                void 0 !== e && (t.applyToBufferAttribute(e), e.needsUpdate = !0);
                var n = this.attributes.normal;
                if (void 0 !== n) {
                    (new et).getNormalMatrix(t).applyToBufferAttribute(n), n.needsUpdate = !0
                }
                return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this
            },
            rotateX: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new h), t.makeRotationX(e), this.applyMatrix(t), this
                }
            }(),
            rotateY: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new h), t.makeRotationY(e), this.applyMatrix(t), this
                }
            }(),
            rotateZ: function() {
                var t;
                return function(e) {
                    return void 0 === t && (t = new h), t.makeRotationZ(e), this.applyMatrix(t), this
                }
            }(),
            translate: function() {
                var t;
                return function(e, n, r) {
                    return void 0 === t && (t = new h), t.makeTranslation(e, n, r), this.applyMatrix(t), this
                }
            }(),
            scale: function() {
                var t;
                return function(e, n, r) {
                    return void 0 === t && (t = new h), t.makeScale(e, n, r), this.applyMatrix(t), this
                }
            }(),
            lookAt: function() {
                var t;
                return function(e) {
                    void 0 === t && (t = new ut), t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix)
                }
            }(),
            center: function() {
                this.computeBoundingBox();
                var t = this.boundingBox.getCenter().negate();
                return this.translate(t.x, t.y, t.z), t
            },
            setFromObject: function(t) {
                var e = t.geometry;
                if (t.isPoints || t.isLine) {
                    var n = new _t(3 * e.vertices.length, 3),
                        r = new _t(3 * e.colors.length, 3);
                    if (this.addAttribute("position", n.copyVector3sArray(e.vertices)), this.addAttribute("color", r.copyColorsArray(e.colors)), e.lineDistances && e.lineDistances.length === e.vertices.length) {
                        var i = new _t(e.lineDistances.length, 1);
                        this.addAttribute("lineDistance", i.copyArray(e.lineDistances))
                    }
                    null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone())
                } else t.isMesh && e && e.isGeometry && this.fromGeometry(e);
                return this
            },
            updateFromObject: function(t) {
                var e = t.geometry;
                if (t.isMesh) {
                    var n = e.__directGeometry;
                    if (!0 === e.elementsNeedUpdate && (n = void 0, e.elementsNeedUpdate = !1), void 0 === n) return this.fromGeometry(e);
                    n.verticesNeedUpdate = e.verticesNeedUpdate, n.normalsNeedUpdate = e.normalsNeedUpdate, n.colorsNeedUpdate = e.colorsNeedUpdate, n.uvsNeedUpdate = e.uvsNeedUpdate, n.groupsNeedUpdate = e.groupsNeedUpdate, e.verticesNeedUpdate = !1, e.normalsNeedUpdate = !1, e.colorsNeedUpdate = !1, e.uvsNeedUpdate = !1, e.groupsNeedUpdate = !1, e = n
                }
                var r;
                return !0 === e.verticesNeedUpdate && (r = this.attributes.position, void 0 !== r && (r.copyVector3sArray(e.vertices), r.needsUpdate = !0), e.verticesNeedUpdate = !1), !0 === e.normalsNeedUpdate && (r = this.attributes.normal, void 0 !== r && (r.copyVector3sArray(e.normals), r.needsUpdate = !0), e.normalsNeedUpdate = !1), !0 === e.colorsNeedUpdate && (r = this.attributes.color, void 0 !== r && (r.copyColorsArray(e.colors), r.needsUpdate = !0), e.colorsNeedUpdate = !1), e.uvsNeedUpdate && (r = this.attributes.uv, void 0 !== r && (r.copyVector2sArray(e.uvs), r.needsUpdate = !0), e.uvsNeedUpdate = !1), e.lineDistancesNeedUpdate && (r = this.attributes.lineDistance, void 0 !== r && (r.copyArray(e.lineDistances), r.needsUpdate = !0), e.lineDistancesNeedUpdate = !1), e.groupsNeedUpdate && (e.computeGroups(t.geometry), this.groups = e.groups, e.groupsNeedUpdate = !1), this
            },
            fromGeometry: function(t) {
                return t.__directGeometry = (new wt).fromGeometry(t), this.fromDirectGeometry(t.__directGeometry)
            },
            fromDirectGeometry: function(t) {
                var e = new Float32Array(3 * t.vertices.length);
                if (this.addAttribute("position", new dt(e, 3).copyVector3sArray(t.vertices)), t.normals.length > 0) {
                    var n = new Float32Array(3 * t.normals.length);
                    this.addAttribute("normal", new dt(n, 3).copyVector3sArray(t.normals))
                }
                if (t.colors.length > 0) {
                    var r = new Float32Array(3 * t.colors.length);
                    this.addAttribute("color", new dt(r, 3).copyColorsArray(t.colors))
                }
                if (t.uvs.length > 0) {
                    var i = new Float32Array(2 * t.uvs.length);
                    this.addAttribute("uv", new dt(i, 2).copyVector2sArray(t.uvs))
                }
                if (t.uvs2.length > 0) {
                    var o = new Float32Array(2 * t.uvs2.length);
                    this.addAttribute("uv2", new dt(o, 2).copyVector2sArray(t.uvs2))
                }
                if (t.indices.length > 0) {
                    var a = Mt(t.indices) > 65535 ? Uint32Array : Uint16Array,
                        s = new a(3 * t.indices.length);
                    this.setIndex(new dt(s, 1).copyIndicesArray(t.indices))
                }
                this.groups = t.groups;
                for (var u in t.morphTargets) {
                    for (var c = [], l = t.morphTargets[u], f = 0, h = l.length; f < h; f++) {
                        var d = l[f],
                            p = new _t(3 * d.length, 3);
                        c.push(p.copyVector3sArray(d))
                    }
                    this.morphAttributes[u] = c
                }
                if (t.skinIndices.length > 0) {
                    var m = new _t(4 * t.skinIndices.length, 4);
                    this.addAttribute("skinIndex", m.copyVector4sArray(t.skinIndices))
                }
                if (t.skinWeights.length > 0) {
                    var v = new _t(4 * t.skinWeights.length, 4);
                    this.addAttribute("skinWeight", v.copyVector4sArray(t.skinWeights))
                }
                return null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), this
            },
            computeBoundingBox: function() {
                null === this.boundingBox && (this.boundingBox = new $);
                var t = this.attributes.position;
                void 0 !== t ? this.boundingBox.setFromBufferAttribute(t) : this.boundingBox.makeEmpty(), (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
            },
            computeBoundingSphere: function() {
                var t = new $,
                    e = new f;
                return function() {
                    null === this.boundingSphere && (this.boundingSphere = new tt);
                    var n = this.attributes.position;
                    if (n) {
                        var r = this.boundingSphere.center;
                        t.setFromBufferAttribute(n), t.getCenter(r);
                        for (var i = 0, o = 0, a = n.count; o < a; o++) e.x = n.getX(o), e.y = n.getY(o), e.z = n.getZ(o), i = Math.max(i, r.distanceToSquared(e));
                        this.boundingSphere.radius = Math.sqrt(i), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
                    }
                }
            }(),
            computeFaceNormals: function() {},
            computeVertexNormals: function() {
                var t = this.index,
                    e = this.attributes,
                    n = this.groups;
                if (e.position) {
                    var r = e.position.array;
                    if (void 0 === e.normal) this.addAttribute("normal", new dt(new Float32Array(r.length), 3));
                    else
                        for (var i = e.normal.array, o = 0, a = i.length; o < a; o++) i[o] = 0;
                    var s, u, c, l = e.normal.array,
                        h = new f,
                        d = new f,
                        p = new f,
                        m = new f,
                        v = new f;
                    if (t) {
                        var g = t.array;
                        0 === n.length && this.addGroup(0, g.length);
                        for (var A = 0, y = n.length; A < y; ++A)
                            for (var x = n[A], _ = x.start, b = x.count, o = _, a = _ + b; o < a; o += 3) s = 3 * g[o + 0], u = 3 * g[o + 1], c = 3 * g[o + 2], h.fromArray(r, s), d.fromArray(r, u), p.fromArray(r, c), m.subVectors(p, d), v.subVectors(h, d), m.cross(v), l[s] += m.x, l[s + 1] += m.y, l[s + 2] += m.z, l[u] += m.x, l[u + 1] += m.y, l[u + 2] += m.z, l[c] += m.x, l[c + 1] += m.y, l[c + 2] += m.z
                    } else
                        for (var o = 0, a = r.length; o < a; o += 9) h.fromArray(r, o), d.fromArray(r, o + 3), p.fromArray(r, o + 6), m.subVectors(p, d), v.subVectors(h, d), m.cross(v), l[o] = m.x, l[o + 1] = m.y, l[o + 2] = m.z, l[o + 3] = m.x, l[o + 4] = m.y, l[o + 5] = m.z, l[o + 6] = m.x, l[o + 7] = m.y, l[o + 8] = m.z;
                    this.normalizeNormals(), e.normal.needsUpdate = !0
                }
            },
            merge: function(t, e) {
                if (!1 === (t && t.isBufferGeometry)) return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", t);
                void 0 === e && (e = 0);
                var n = this.attributes;
                for (var r in n)
                    if (void 0 !== t.attributes[r])
                        for (var i = n[r], o = i.array, a = t.attributes[r], s = a.array, u = a.itemSize, c = 0, l = u * e; c < s.length; c++, l++) o[l] = s[c];
                return this
            },
            normalizeNormals: function() {
                for (var t, e, n, r, i = this.attributes.normal, o = 0, a = i.count; o < a; o++) t = i.getX(o), e = i.getY(o), n = i.getZ(o), r = 1 / Math.sqrt(t * t + e * e + n * n), i.setXYZ(o, t * r, e * r, n * r)
            },
            toNonIndexed: function() {
                if (null === this.index) return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."), this;
                var t = new Tt,
                    e = this.index.array,
                    n = this.attributes;
                for (var r in n) {
                    for (var i = n[r], o = i.array, a = i.itemSize, s = new o.constructor(e.length * a), u = 0, c = 0, l = 0, f = e.length; l < f; l++) {
                        u = e[l] * a;
                        for (var h = 0; h < a; h++) s[c++] = o[u++]
                    }
                    t.addAttribute(r, new dt(s, a))
                }
                return t
            },
            toJSON: function() {
                var t = {
                    metadata: {
                        version: 4.5,
                        type: "BufferGeometry",
                        generator: "BufferGeometry.toJSON"
                    }
                };
                if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), void 0 !== this.parameters) {
                    var e = this.parameters;
                    for (var n in e) void 0 !== e[n] && (t[n] = e[n]);
                    return t
                }
                t.data = {
                    attributes: {}
                };
                var r = this.index;
                if (null !== r) {
                    var i = Array.prototype.slice.call(r.array);
                    t.data.index = {
                        type: r.array.constructor.name,
                        array: i
                    }
                }
                var o = this.attributes;
                for (var n in o) {
                    var a = o[n],
                        i = Array.prototype.slice.call(a.array);
                    t.data.attributes[n] = {
                        itemSize: a.itemSize,
                        type: a.array.constructor.name,
                        array: i,
                        normalized: a.normalized
                    }
                }
                var s = this.groups;
                s.length > 0 && (t.data.groups = JSON.parse((0, Rn.default)(s)));
                var u = this.boundingSphere;
                return null !== u && (t.data.boundingSphere = {
                    center: u.center.toArray(),
                    radius: u.radius
                }), t
            },
            clone: function() {
                return (new Tt).copy(this)
            },
            copy: function(t) {
                var e, n, r;
                this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.name = t.name;
                var i = t.index;
                null !== i && this.setIndex(i.clone());
                var o = t.attributes;
                for (e in o) {
                    var a = o[e];
                    this.addAttribute(e, a.clone())
                }
                var s = t.morphAttributes;
                for (e in s) {
                    var u = [],
                        c = s[e];
                    for (n = 0, r = c.length; n < r; n++) u.push(c[n].clone());
                    this.morphAttributes[e] = u
                }
                var l = t.groups;
                for (n = 0, r = l.length; n < r; n++) {
                    var f = l[n];
                    this.addGroup(f.start, f.count, f.materialIndex)
                }
                var h = t.boundingBox;
                null !== h && (this.boundingBox = h.clone());
                var d = t.boundingSphere;
                return null !== d && (this.boundingSphere = d.clone()), this.drawRange.start = t.drawRange.start, this.drawRange.count = t.drawRange.count, this
            },
            dispose: function() {
                this.dispatchEvent({
                    type: "dispose"
                })
            }
        }), Lt.prototype = (0, kn.default)((0, On.default)(ut.prototype), {
            constructor: Lt,
            isMesh: !0,
            setDrawMode: function(t) {
                this.drawMode = t
            },
            copy: function(t) {
                return ut.prototype.copy.call(this, t), this.drawMode = t.drawMode, this
            },
            updateMorphTargets: function() {
                var t = this.geometry.morphTargets;
                if (void 0 !== t && t.length > 0) {
                    this.morphTargetInfluences = [], this.morphTargetDictionary = {};
                    for (var e = 0, n = t.length; e < n; e++) this.morphTargetInfluences.push(0), this.morphTargetDictionary[t[e].name] = e
                }
            },
            raycast: function() {
                function t(t, e, n, r, i, o, a) {
                    return lt.barycoordFromPoint(t, e, n, r, A), i.multiplyScalar(A.x), o.multiplyScalar(A.y), a.multiplyScalar(A.z), i.add(o).add(a), i.clone()
                }

                function e(t, e, n, r, i, o, a) {
                    var s = t.material;
                    if (null === (s.side === $n ? n.intersectTriangle(o, i, r, !0, a) : n.intersectTriangle(r, i, o, s.side !== tr, a))) return null;
                    x.copy(a), x.applyMatrix4(t.matrixWorld);
                    var u = e.ray.origin.distanceTo(x);
                    return u < e.near || u > e.far ? null : {
                        distance: u,
                        point: x.clone(),
                        object: t
                    }
                }

                function n(n, r, i, o, a, l, f, h) {
                    s.fromBufferAttribute(o, l), u.fromBufferAttribute(o, f), c.fromBufferAttribute(o, h);
                    var d = e(n, r, i, s, u, c, y);
                    return d && (a && (m.fromBufferAttribute(a, l), v.fromBufferAttribute(a, f), g.fromBufferAttribute(a, h), d.uv = t(y, s, u, c, m, v, g)), d.face = new ft(l, f, h, lt.normal(s, u, c)), d.faceIndex = l), d
                }
                var r = new h,
                    i = new ot,
                    a = new tt,
                    s = new f,
                    u = new f,
                    c = new f,
                    l = new f,
                    d = new f,
                    p = new f,
                    m = new o,
                    v = new o,
                    g = new o,
                    A = new f,
                    y = new f,
                    x = new f;
                return function(o, f) {
                    var h = this.geometry,
                        A = this.material,
                        x = this.matrixWorld;
                    if (void 0 !== A && (null === h.boundingSphere && h.computeBoundingSphere(), a.copy(h.boundingSphere), a.applyMatrix4(x), !1 !== o.ray.intersectsSphere(a) && (r.getInverse(x), i.copy(o.ray).applyMatrix4(r), null === h.boundingBox || !1 !== i.intersectsBox(h.boundingBox)))) {
                        var _;
                        if (h.isBufferGeometry) {
                            var b, w, M, E, S, T = h.index,
                                L = h.attributes.position,
                                C = h.attributes.uv;
                            if (null !== T)
                                for (E = 0, S = T.count; E < S; E += 3) b = T.getX(E), w = T.getX(E + 1), M = T.getX(E + 2), (_ = n(this, o, i, L, C, b, w, M)) && (_.faceIndex = Math.floor(E / 3), f.push(_));
                            else
                                for (E = 0, S = L.count; E < S; E += 3) b = E, w = E + 1, M = E + 2, (_ = n(this, o, i, L, C, b, w, M)) && (_.index = b, f.push(_))
                        } else if (h.isGeometry) {
                            var P, R, D, O, I = Array.isArray(A),
                                B = h.vertices,
                                N = h.faces,
                                k = h.faceVertexUvs[0];
                            k.length > 0 && (O = k);
                            for (var F = 0, U = N.length; F < U; F++) {
                                var z = N[F],
                                    V = I ? A[z.materialIndex] : A;
                                if (void 0 !== V) {
                                    if (P = B[z.a], R = B[z.b], D = B[z.c], !0 === V.morphTargets) {
                                        var G = h.morphTargets,
                                            H = this.morphTargetInfluences;
                                        s.set(0, 0, 0), u.set(0, 0, 0), c.set(0, 0, 0);
                                        for (var W = 0, j = G.length; W < j; W++) {
                                            var Q = H[W];
                                            if (0 !== Q) {
                                                var q = G[W].vertices;
                                                s.addScaledVector(l.subVectors(q[z.a], P), Q), u.addScaledVector(d.subVectors(q[z.b], R), Q), c.addScaledVector(p.subVectors(q[z.c], D), Q)
                                            }
                                        }
                                        s.add(P), u.add(R), c.add(D), P = s, R = u, D = c
                                    }
                                    if (_ = e(this, o, i, P, R, D, y)) {
                                        if (O && O[F]) {
                                            var X = O[F];
                                            m.copy(X[0]), v.copy(X[1]), g.copy(X[2]), _.uv = t(y, P, R, D, m, v, g)
                                        }
                                        _.face = z, _.faceIndex = F, f.push(_)
                                    }
                                }
                            }
                        }
                    }
                }
            }(),
            clone: function() {
                return new this.constructor(this.geometry, this.material).copy(this)
            }
        }), Ct.prototype = (0, On.default)(St.prototype), Ct.prototype.constructor = Ct, Pt.prototype = (0, On.default)(Tt.prototype), Pt.prototype.constructor = Pt, Rt.prototype = (0, On.default)(St.prototype), Rt.prototype.constructor = Rt, Dt.prototype = (0, On.default)(Tt.prototype), Dt.prototype.constructor = Dt, Ot.prototype = (0, kn.default)((0, On.default)(ut.prototype), {
            constructor: Ot,
            isCamera: !0,
            copy: function(t) {
                return ut.prototype.copy.call(this, t), this.matrixWorldInverse.copy(t.matrixWorldInverse), this.projectionMatrix.copy(t.projectionMatrix), this
            },
            getWorldDirection: function() {
                var t = new l;
                return function(e) {
                    var n = e || new f;
                    return this.getWorldQuaternion(t), n.set(0, 0, -1).applyQuaternion(t)
                }
            }(),
            clone: function() {
                return (new this.constructor).copy(this)
            }
        }), It.prototype = (0, kn.default)((0, On.default)(Ot.prototype), {
            constructor: It,
            isPerspectiveCamera: !0,
            copy: function(t) {
                return Ot.prototype.copy.call(this, t), this.fov = t.fov, this.zoom = t.zoom, this.near = t.near, this.far = t.far, this.focus = t.focus, this.aspect = t.aspect, this.view = null === t.view ? null : (0, kn.default)({}, t.view), this.filmGauge = t.filmGauge, this.filmOffset = t.filmOffset, this
            },
            setFocalLength: function(t) {
                var e = .5 * this.getFilmHeight() / t;
                this.fov = 2 * Qi.RAD2DEG * Math.atan(e), this.updateProjectionMatrix()
            },
            getFocalLength: function() {
                var t = Math.tan(.5 * Qi.DEG2RAD * this.fov);
                return .5 * this.getFilmHeight() / t
            },
            getEffectiveFOV: function() {
                return 2 * Qi.RAD2DEG * Math.atan(Math.tan(.5 * Qi.DEG2RAD * this.fov) / this.zoom)
            },
            getFilmWidth: function() {
                return this.filmGauge * Math.min(this.aspect, 1)
            },
            getFilmHeight: function() {
                return this.filmGauge / Math.max(this.aspect, 1)
            },
            setViewOffset: function(t, e, n, r, i, o) {
                this.aspect = t / e, this.view = {
                    fullWidth: t,
                    fullHeight: e,
                    offsetX: n,
                    offsetY: r,
                    width: i,
                    height: o
                }, this.updateProjectionMatrix()
            },
            clearViewOffset: function() {
                this.view = null, this.updateProjectionMatrix()
            },
            updateProjectionMatrix: function() {
                var t = this.near,
                    e = t * Math.tan(.5 * Qi.DEG2RAD * this.fov) / this.zoom,
                    n = 2 * e,
                    r = this.aspect * n,
                    i = -.5 * r,
                    o = this.view;
                if (null !== o) {
                    var a = o.fullWidth,
                        s = o.fullHeight;
                    i += o.offsetX * r / a, e -= o.offsetY * n / s, r *= o.width / a, n *= o.height / s
                }
                var u = this.filmOffset;
                0 !== u && (i += t * u / this.getFilmWidth()), this.projectionMatrix.makePerspective(i, i + r, e, e - n, t, this.far)
            },
            toJSON: function(t) {
                var e = ut.prototype.toJSON.call(this, t);
                return e.object.fov = this.fov, e.object.zoom = this.zoom, e.object.near = this.near, e.object.far = this.far, e.object.focus = this.focus, e.object.aspect = this.aspect, null !== this.view && (e.object.view = (0, kn.default)({}, this.view)), e.object.filmGauge = this.filmGauge, e.object.filmOffset = this.filmOffset, e
            }
        }), Bt.prototype = (0, kn.default)((0, On.default)(Ot.prototype), {
            constructor: Bt,
            isOrthographicCamera: !0,
            copy: function(t) {
                return Ot.prototype.copy.call(this, t), this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom, this.near = t.near, this.far = t.far, this.zoom = t.zoom, this.view = null === t.view ? null : (0, kn.default)({}, t.view), this
            },
            setViewOffset: function(t, e, n, r, i, o) {
                this.view = {
                    fullWidth: t,
                    fullHeight: e,
                    offsetX: n,
                    offsetY: r,
                    width: i,
                    height: o
                }, this.updateProjectionMatrix()
            },
            clearViewOffset: function() {
                this.view = null, this.updateProjectionMatrix()
            },
            updateProjectionMatrix: function() {
                var t = (this.right - this.left) / (2 * this.zoom),
                    e = (this.top - this.bottom) / (2 * this.zoom),
                    n = (this.right + this.left) / 2,
                    r = (this.top + this.bottom) / 2,
                    i = n - t,
                    o = n + t,
                    a = r + e,
                    s = r - e;
                if (null !== this.view) {
                    var u = this.zoom / (this.view.width / this.view.fullWidth),
                        c = this.zoom / (this.view.height / this.view.fullHeight),
                        l = (this.right - this.left) / this.view.width,
                        f = (this.top - this.bottom) / this.view.height;
                    i += l * (this.view.offsetX / u), o = i + l * (this.view.width / u), a -= f * (this.view.offsetY / c), s = a - f * (this.view.height / c)
                }
                this.projectionMatrix.makeOrthographic(i, o, a, s, this.near, this.far)
            },
            toJSON: function(t) {
                var e = ut.prototype.toJSON.call(this, t);
                return e.object.zoom = this.zoom, e.object.left = this.left, e.object.right = this.right, e.object.top = this.top, e.object.bottom = this.bottom, e.object.near = this.near, e.object.far = this.far, null !== this.view && (e.object.view = (0, kn.default)({}, this.view)), e
            }
        });
        var co = 0;
        pe.prototype.isFogExp2 = !0, pe.prototype.clone = function() {
            return new pe(this.color.getHex(), this.density)
        }, pe.prototype.toJSON = function(t) {
            return {
                type: "FogExp2",
                color: this.color.getHex(),
                density: this.density
            }
        }, me.prototype.isFog = !0, me.prototype.clone = function() {
            return new me(this.color.getHex(), this.near, this.far)
        }, me.prototype.toJSON = function(t) {
            return {
                type: "Fog",
                color: this.color.getHex(),
                near: this.near,
                far: this.far
            }
        }, ve.prototype = (0, kn.default)((0, On.default)(ut.prototype), {
            constructor: ve,
            copy: function(t, e) {
                return ut.prototype.copy.call(this, t, e), null !== t.background && (this.background = t.background.clone()), null !== t.fog && (this.fog = t.fog.clone()), null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()), this.autoUpdate = t.autoUpdate, this.matrixAutoUpdate = t.matrixAutoUpdate, this
            },
            toJSON: function(t) {
                var e = ut.prototype.toJSON.call(this, t);
                return null !== this.background && (e.object.background = this.background.toJSON(t)), null !== this.fog && (e.object.fog = this.fog.toJSON()), e
            }
        }), ge.prototype = (0, On.default)(Z.prototype), ge.prototype.constructor = ge, ge.prototype.isSpriteMaterial = !0, ge.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.rotation = t.rotation, this
        }, Ae.prototype = (0, kn.default)((0, On.default)(ut.prototype), {
            constructor: Ae,
            isSprite: !0,
            raycast: function() {
                var t = new f,
                    e = new f,
                    n = new f;
                return function(r, i) {
                    e.setFromMatrixPosition(this.matrixWorld), r.ray.closestPointToPoint(e, t), n.setFromMatrixScale(this.matrixWorld);
                    var o = n.x * n.y / 4;
                    if (!(e.distanceToSquared(t) > o)) {
                        var a = r.ray.origin.distanceTo(t);
                        a < r.near || a > r.far || i.push({
                            distance: a,
                            point: t.clone(),
                            face: null,
                            object: this
                        })
                    }
                }
            }(),
            clone: function() {
                return new this.constructor(this.material).copy(this)
            }
        }), ye.prototype = (0, kn.default)((0, On.default)(ut.prototype), {
            constructor: ye,
            copy: function(t) {
                ut.prototype.copy.call(this, t, !1);
                for (var e = t.levels, n = 0, r = e.length; n < r; n++) {
                    var i = e[n];
                    this.addLevel(i.object.clone(), i.distance)
                }
                return this
            },
            addLevel: function(t, e) {
                void 0 === e && (e = 0), e = Math.abs(e);
                for (var n = this.levels, r = 0; r < n.length && !(e < n[r].distance); r++);
                n.splice(r, 0, {
                    distance: e,
                    object: t
                }), this.add(t)
            },
            getObjectForDistance: function(t) {
                for (var e = this.levels, n = 1, r = e.length; n < r && !(t < e[n].distance); n++);
                return e[n - 1].object
            },
            raycast: function() {
                var t = new f;
                return function(e, n) {
                    t.setFromMatrixPosition(this.matrixWorld);
                    var r = e.ray.origin.distanceTo(t);
                    this.getObjectForDistance(r).raycast(e, n)
                }
            }(),
            update: function() {
                var t = new f,
                    e = new f;
                return function(n) {
                    var r = this.levels;
                    if (r.length > 1) {
                        t.setFromMatrixPosition(n.matrixWorld), e.setFromMatrixPosition(this.matrixWorld);
                        var i = t.distanceTo(e);
                        r[0].object.visible = !0;
                        for (var o = 1, a = r.length; o < a && i >= r[o].distance; o++) r[o - 1].object.visible = !1, r[o].object.visible = !0;
                        for (; o < a; o++) r[o].object.visible = !1
                    }
                }
            }(),
            toJSON: function(t) {
                var e = ut.prototype.toJSON.call(this, t);
                e.object.levels = [];
                for (var n = this.levels, r = 0, i = n.length; r < i; r++) {
                    var o = n[r];
                    e.object.levels.push({
                        object: o.object.uuid,
                        distance: o.distance
                    })
                }
                return e
            }
        }), xe.prototype = (0, kn.default)((0, On.default)(Tt.prototype), {
            constructor: xe,
            isInstancedBufferGeometry: !0,
            addGroup: function(t, e, n) {
                this.groups.push({
                    start: t,
                    count: e,
                    materialIndex: n
                })
            },
            copy: function(t) {
                var e = t.index;
                null !== e && this.setIndex(e.clone());
                var n = t.attributes;
                for (var r in n) {
                    var i = n[r];
                    this.addAttribute(r, i.clone())
                }
                for (var o = t.groups, a = 0, s = o.length; a < s; a++) {
                    var u = o[a];
                    this.addGroup(u.start, u.count, u.materialIndex)
                }
                return this
            }
        }), _e.prototype = (0, kn.default)((0, On.default)(dt.prototype), {
            constructor: _e,
            isInstancedBufferAttribute: !0,
            copy: function(t) {
                return dt.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
            }
        });
        var lo = new K;
        lo.depthPacking = ji, lo.clipping = !0, lo.defines = {
            INSTANCE_TRANSFORM: ""
        };
        var fo = oo.distanceRGBA,
            ho = ro.clone(fo.uniforms),
            po = new J({
                defines: {
                    USE_SHADOWMAP: "",
                    INSTANCE_TRANSFORM: ""
                },
                uniforms: ho,
                vertexShader: fo.vertexShader,
                fragmentShader: fo.fragmentShader,
                clipping: !0
            });
        be.prototype = (0, On.default)(Lt.prototype), be.constructor = be, (0, Bn.default)(be.prototype, {
            material: {
                set: function(t) {
                    t = t.clone(), t.defines ? (t.defines.INSTANCE_TRANSFORM = "", this._uniformScale ? t.defines.INSTANCE_UNIFORM = "" : delete t.defines.INSTANCE_UNIFORM, this._colors ? t.defines.INSTANCE_COLOR = "" : delete t.defines.INSTANCE_COLOR) : (t.defines = {
                        INSTANCE_TRANSFORM: ""
                    }, this._uniformScale && (t.defines.INSTANCE_UNIFORM = ""), this._colors && (t.defines.INSTANCE_COLOR = "")), this._material = t
                },
                get: function() {
                    return this._material
                }
            },
            numInstances: {
                set: function(t) {
                    this._numInstances = t, this._setAttributes()
                },
                get: function() {
                    return this._numInstances
                }
            },
            geometry: {
                set: function(t) {
                    t.attributes.instancePosition ? (this._geometry = new xe, this._setAttributes()) : this._geometry = t
                },
                get: function() {
                    return this._geometry
                }
            }
        }), be.prototype.setPositionAt = function(t, e) {
            this.geometry.attributes.instancePosition.setXYZ(t, e.x, e.y, e.z)
        }, be.prototype.setQuaternionAt = function(t, e) {
            this.geometry.attributes.instanceQuaternion.setXYZW(t, e.x, e.y, e.z, e.w)
        }, be.prototype.setScaleAt = function(t, e) {
            this.geometry.attributes.instanceScale.setXYZ(t, e.x, e.y, e.z)
        }, be.prototype.setColorAt = function(t, e) {
            if (!this._colors) return void console.warn("THREE.InstancedMesh: color not enabled");
            this.geometry.attributes.instanceColor.setXYZ(t, Math.floor(255 * e.r), Math.floor(255 * e.g), Math.floor(255 * e.b))
        }, be.prototype.needsUpdate = function(t) {
            switch (t) {
                case "position":
                    this.geometry.attributes.instancePosition.needsUpdate = !0;
                    break;
                case "quaternion":
                    this.geometry.attributes.instanceQuaternion.needsUpdate = !0;
                    break;
                case "scale":
                    this.geometry.attributes.instanceScale.needsUpdate = !0;
                    break;
                case "colors":
                    this.geometry.attributes.instanceColor.needsUpdate = !0;
                default:
                    this.geometry.attributes.instancePosition.needsUpdate = !0, this.geometry.attributes.instanceQuaternion.needsUpdate = !0, this.geometry.attributes.instanceScale.needsUpdate = !0, this.geometry.attributes.instanceColor.needsUpdate = !0
            }
        }, be.prototype._setAttributes = function() {
            this.geometry.addAttribute("instancePosition", new t.InstancedBufferAttribute(new Float32Array(3 * this.numInstances), 3, 1)), this.geometry.addAttribute("instanceQuaternion", new t.InstancedBufferAttribute(new Float32Array(4 * this.numInstances), 4, 1)), this.geometry.addAttribute("instanceScale", new t.InstancedBufferAttribute(new Float32Array(3 * this.numInstances), 3, 1)), this.geometry.attributes.instancePosition.dynamic = this._dynamic, this.geometry.attributes.instanceQuaternion.dynamic = this._dynamic, this.geometry.attributes.instanceScale.dynamic = this._dynamic, this._colors && (this.geometry.addAttribute("instanceColor", new t.InstancedBufferAttribute(new Uint8Array(3 * this.numInstances), 3, 1)), this.geometry.attributes.instanceColor.normalized = !0, this.geometry.attributes.instanceColor.dynamic = this._dynamic)
        }, we.prototype = (0, On.default)(Z.prototype), we.prototype.constructor = we, we.prototype.isLineBasicMaterial = !0, we.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.linecap = t.linecap, this.linejoin = t.linejoin, this
        }, Me.prototype = (0, kn.default)((0, On.default)(ut.prototype), {
            constructor: Me,
            isLine: !0,
            raycast: function() {
                var t = new h,
                    e = new ot,
                    n = new tt;
                return function(r, i) {
                    var o = r.linePrecision,
                        a = o * o,
                        s = this.geometry,
                        u = this.matrixWorld;
                    if (null === s.boundingSphere && s.computeBoundingSphere(), n.copy(s.boundingSphere), n.applyMatrix4(u), !1 !== r.ray.intersectsSphere(n)) {
                        t.getInverse(u), e.copy(r.ray).applyMatrix4(t);
                        var c = new f,
                            l = new f,
                            h = new f,
                            d = new f,
                            p = this && this.isLineSegments ? 2 : 1;
                        if (s.isBufferGeometry) {
                            var m = s.index,
                                v = s.attributes,
                                g = v.position.array;
                            if (null !== m)
                                for (var A = m.array, y = 0, x = A.length - 1; y < x; y += p) {
                                    var _ = A[y],
                                        b = A[y + 1];
                                    c.fromArray(g, 3 * _), l.fromArray(g, 3 * b);
                                    var w = e.distanceSqToSegment(c, l, d, h);
                                    if (!(w > a)) {
                                        d.applyMatrix4(this.matrixWorld);
                                        var M = r.ray.origin.distanceTo(d);
                                        M < r.near || M > r.far || i.push({
                                            distance: M,
                                            point: h.clone().applyMatrix4(this.matrixWorld),
                                            index: y,
                                            face: null,
                                            faceIndex: null,
                                            object: this
                                        })
                                    }
                                } else
                                    for (var y = 0, x = g.length / 3 - 1; y < x; y += p) {
                                        c.fromArray(g, 3 * y), l.fromArray(g, 3 * y + 3);
                                        var w = e.distanceSqToSegment(c, l, d, h);
                                        if (!(w > a)) {
                                            d.applyMatrix4(this.matrixWorld);
                                            var M = r.ray.origin.distanceTo(d);
                                            M < r.near || M > r.far || i.push({
                                                distance: M,
                                                point: h.clone().applyMatrix4(this.matrixWorld),
                                                index: y,
                                                face: null,
                                                faceIndex: null,
                                                object: this
                                            })
                                        }
                                    }
                        } else if (s.isGeometry)
                            for (var E = s.vertices, S = E.length, y = 0; y < S - 1; y += p) {
                                var w = e.distanceSqToSegment(E[y], E[y + 1], d, h);
                                if (!(w > a)) {
                                    d.applyMatrix4(this.matrixWorld);
                                    var M = r.ray.origin.distanceTo(d);
                                    M < r.near || M > r.far || i.push({
                                        distance: M,
                                        point: h.clone().applyMatrix4(this.matrixWorld),
                                        index: y,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                                }
                            }
                    }
                }
            }(),
            clone: function() {
                return new this.constructor(this.geometry, this.material).copy(this)
            }
        }), Ee.prototype = (0, kn.default)((0, On.default)(Me.prototype), {
            constructor: Ee,
            isLineSegments: !0
        }), Se.prototype = (0, kn.default)((0, On.default)(Me.prototype), {
            constructor: Se,
            isLineLoop: !0
        }), Te.prototype = (0, kn.default)((0, On.default)(ut.prototype), {
            constructor: Te
        }), Le.prototype = (0, On.default)(Tt.prototype), Le.prototype.constructor = Le, Ce.prototype = (0, On.default)(St.prototype), Ce.prototype.constructor = Ce, Pe.prototype = (0, On.default)(Tt.prototype), Pe.prototype.constructor = Pe, Re.prototype = (0, On.default)(Tt.prototype), Re.prototype.constructor = Re, De.prototype = (0, On.default)(St.prototype), De.prototype.constructor = De, Oe.prototype = (0, On.default)(Tt.prototype), Oe.prototype.constructor = Oe, Ie.prototype = (0, On.default)(De.prototype), Ie.prototype.constructor = Ie, Be.prototype = (0, On.default)(Oe.prototype), Be.prototype.constructor = Be, Ne.prototype = (0, On.default)(J.prototype), Ne.prototype.constructor = Ne, Ne.prototype.isShadowMaterial = !0, ke.prototype = (0, On.default)(J.prototype), ke.prototype.constructor = ke, ke.prototype.isRawShaderMaterial = !0, Fe.prototype = (0, On.default)(Z.prototype), Fe.prototype.constructor = Fe, Fe.prototype.isPointsMaterial = !0, Fe.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.size = t.size, this.sizeAttenuation = t.sizeAttenuation, this
        }, Ue.prototype = (0, On.default)(Z.prototype), Ue.prototype.constructor = Ue, Ue.prototype.isMeshStandardMaterial = !0, Ue.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.defines = {
                STANDARD: ""
            }, this.color.copy(t.color), this.roughness = t.roughness, this.metalness = t.metalness, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.roughnessMap = t.roughnessMap, this.metalnessMap = t.metalnessMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapIntensity = t.envMapIntensity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
        }, ze.prototype = (0, On.default)(Ue.prototype), ze.prototype.constructor = ze, ze.prototype.isMeshPhysicalMaterial = !0, ze.prototype.copy = function(t) {
            return Ue.prototype.copy.call(this, t), this.defines = {
                PHYSICAL: ""
            }, this.reflectivity = t.reflectivity, this.clearCoat = t.clearCoat, this.clearCoatRoughness = t.clearCoatRoughness, this
        }, Ve.prototype = (0, On.default)(Z.prototype), Ve.prototype.constructor = Ve, Ve.prototype.isMeshPhongMaterial = !0, Ve.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.color.copy(t.color), this.specular.copy(t.specular), this.shininess = t.shininess, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
        }, Ge.prototype = (0, On.default)(Ve.prototype), Ge.prototype.constructor = Ge, Ge.prototype.isMeshToonMaterial = !0, Ge.prototype.copy = function(t) {
            return Ve.prototype.copy.call(this, t), this.gradientMap = t.gradientMap, this
        }, He.prototype = (0, On.default)(Z.prototype), He.prototype.constructor = He, He.prototype.isMeshNormalMaterial = !0, He.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
        }, We.prototype = (0, On.default)(Z.prototype), We.prototype.constructor = We, We.prototype.isMeshLambertMaterial = !0, We.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
        }, je.prototype = (0, On.default)(Z.prototype), je.prototype.constructor = je, je.prototype.isLineDashedMaterial = !0, je.prototype.copy = function(t) {
            return Z.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.scale = t.scale, this.dashSize = t.dashSize, this.gapSize = t.gapSize, this
        };
        var mo = (0, Cn.default)({
                ShadowMaterial: Ne,
                SpriteMaterial: ge,
                RawShaderMaterial: ke,
                ShaderMaterial: J,
                PointsMaterial: Fe,
                MeshPhysicalMaterial: ze,
                MeshStandardMaterial: Ue,
                MeshPhongMaterial: Ve,
                MeshToonMaterial: Ge,
                MeshNormalMaterial: He,
                MeshLambertMaterial: We,
                MeshDepthMaterial: K,
                MeshBasicMaterial: ht,
                LineDashedMaterial: je,
                LineBasicMaterial: we,
                Material: Z
            }),
            vo = {
                enabled: !1,
                files: {},
                add: function(t, e) {
                    !1 !== this.enabled && (this.files[t] = e)
                },
                get: function(t) {
                    if (!1 !== this.enabled) return this.files[t]
                },
                remove: function(t) {
                    delete this.files[t]
                },
                clear: function() {
                    this.files = {}
                }
            },
            go = new Qe;
        (0, kn.default)(qe.prototype, {
            load: function(t, e, n, r) {
                void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t);
                var i = this,
                    o = vo.get(t);
                if (void 0 !== o) return i.manager.itemStart(t), setTimeout(function() {
                    e && e(o), i.manager.itemEnd(t)
                }, 0), o;
                var a = document.createElementNS("http://www.w3.org/1999/xhtml", "img");
                return a.addEventListener("load", function() {
                    vo.add(t, this), e && e(this), i.manager.itemEnd(t)
                }, !1), a.addEventListener("error", function(e) {
                    r && r(e), i.manager.itemEnd(t), i.manager.itemError(t)
                }, !1), "data:" !== t.substr(0, 5) && void 0 !== this.crossOrigin && (a.crossOrigin = this.crossOrigin), i.manager.itemStart(t), a.src = t, a
            },
            setCrossOrigin: function(t) {
                return this.crossOrigin = t, this
            },
            setPath: function(t) {
                return this.path = t, this
            }
        }), (0, kn.default)(Xe.prototype, {
            load: function(t, e, n, r) {
                var i = new qe(this.manager);
                i.setCrossOrigin(this.crossOrigin), i.setPath(this.path);
                var o = new a;
                return o.image = i.load(t, function() {
                    var n = t.search(/\.(jpg|jpeg)$/) > 0 || 0 === t.search(/^data\:image\/jpeg/);
                    o.format = n ? Ai : yi, o.needsUpdate = !0, void 0 !== e && e(o)
                }, n, r), o
            },
            setCrossOrigin: function(t) {
                return this.crossOrigin = t, this
            },
            setPath: function(t) {
                return this.path = t, this
            }
        }), (0, kn.default)(Ye.prototype, {
            load: function(t, e, n, r) {
                void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t);
                var i = this,
                    o = vo.get(t);
                if (void 0 !== o) return i.manager.itemStart(t), setTimeout(function() {
                    e && e(o), i.manager.itemEnd(t)
                }, 0), o;
                var a = /^data:(.*?)(;base64)?,(.*)$/,
                    s = t.match(a);
                if (s) {
                    var u = s[1],
                        c = !!s[2],
                        l = s[3];
                    l = window.decodeURIComponent(l), c && (l = window.atob(l));
                    try {
                        var f, h = (this.responseType || "").toLowerCase();
                        switch (h) {
                            case "arraybuffer":
                            case "blob":
                                f = new ArrayBuffer(l.length);
                                for (var d = new Uint8Array(f), p = 0; p < l.length; p++) d[p] = l.charCodeAt(p);
                                "blob" === h && (f = new Blob([f], {
                                    type: u
                                }));
                                break;
                            case "document":
                                var m = new DOMParser;
                                f = m.parseFromString(l, u);
                                break;
                            case "json":
                                f = JSON.parse(l);
                                break;
                            default:
                                f = l
                        }
                        window.setTimeout(function() {
                            e && e(f), i.manager.itemEnd(t)
                        }, 0)
                    } catch (e) {
                        window.setTimeout(function() {
                            r && r(e), i.manager.itemEnd(t), i.manager.itemError(t)
                        }, 0)
                    }
                } else {
                    var v = new XMLHttpRequest;
                    v.open("GET", t, !0), v.addEventListener("load", function(n) {
                        var o = n.target.response;
                        vo.add(t, o), 200 === this.status ? (e && e(o), i.manager.itemEnd(t)) : 0 === this.status ? (console.warn("THREE.FileLoader: HTTP Status 0 received."), e && e(o), i.manager.itemEnd(t)) : (r && r(n), i.manager.itemEnd(t), i.manager.itemError(t))
                    }, !1), void 0 !== n && v.addEventListener("progress", function(t) {
                        n(t)
                    }, !1), v.addEventListener("error", function(e) {
                        r && r(e), i.manager.itemEnd(t), i.manager.itemError(t)
                    }, !1), void 0 !== this.responseType && (v.responseType = this.responseType), void 0 !== this.withCredentials && (v.withCredentials = this.withCredentials), v.overrideMimeType && v.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain");
                    for (var g in this.requestHeader) v.setRequestHeader(g, this.requestHeader[g]);
                    v.send(null)
                }
                return i.manager.itemStart(t), v
            },
            setPath: function(t) {
                return this.path = t, this
            },
            setResponseType: function(t) {
                return this.responseType = t, this
            },
            setWithCredentials: function(t) {
                return this.withCredentials = t, this
            },
            setMimeType: function(t) {
                return this.mimeType = t, this
            },
            setRequestHeader: function(t) {
                return this.requestHeader = t, this
            }
        }), (0, kn.default)(Ze.prototype, {
            load: function(t, e, n, r) {
                var i = this,
                    o = new Ye(i.manager);
                o.setResponseType("json"), o.load(t, function(t) {
                    e(i.parse(t))
                }, n, r)
            },
            setTextures: function(t) {
                this.textures = t
            },
            parse: function(t) {
                function e(t) {
                    return void 0 === n[t] && console.warn("THREE.MaterialLoader: Undefined texture", t), n[t]
                }
                var n = this.textures,
                    r = new mo[t.type];
                if (void 0 !== t.uuid && (r.uuid = t.uuid), void 0 !== t.name && (r.name = t.name), void 0 !== t.color && r.color.setHex(t.color), void 0 !== t.roughness && (r.roughness = t.roughness), void 0 !== t.metalness && (r.metalness = t.metalness), void 0 !== t.emissive && r.emissive.setHex(t.emissive), void 0 !== t.specular && r.specular.setHex(t.specular), void 0 !== t.shininess && (r.shininess = t.shininess), void 0 !== t.clearCoat && (r.clearCoat = t.clearCoat), void 0 !== t.clearCoatRoughness && (r.clearCoatRoughness = t.clearCoatRoughness), void 0 !== t.uniforms && (r.uniforms = t.uniforms), void 0 !== t.vertexShader && (r.vertexShader = t.vertexShader), void 0 !== t.fragmentShader && (r.fragmentShader = t.fragmentShader), void 0 !== t.vertexColors && (r.vertexColors = t.vertexColors), void 0 !== t.fog && (r.fog = t.fog), void 0 !== t.shading && (r.shading = t.shading), void 0 !== t.blending && (r.blending = t.blending), void 0 !== t.side && (r.side = t.side), void 0 !== t.opacity && (r.opacity = t.opacity), void 0 !== t.transparent && (r.transparent = t.transparent), void 0 !== t.alphaTest && (r.alphaTest = t.alphaTest), void 0 !== t.depthTest && (r.depthTest = t.depthTest), void 0 !== t.depthWrite && (r.depthWrite = t.depthWrite), void 0 !== t.colorWrite && (r.colorWrite = t.colorWrite), void 0 !== t.wireframe && (r.wireframe = t.wireframe), void 0 !== t.wireframeLinewidth && (r.wireframeLinewidth = t.wireframeLinewidth), void 0 !== t.wireframeLinecap && (r.wireframeLinecap = t.wireframeLinecap), void 0 !== t.wireframeLinejoin && (r.wireframeLinejoin = t.wireframeLinejoin), void 0 !== t.skinning && (r.skinning = t.skinning), void 0 !== t.morphTargets && (r.morphTargets = t.morphTargets), void 0 !== t.size && (r.size = t.size), void 0 !== t.sizeAttenuation && (r.sizeAttenuation = t.sizeAttenuation), void 0 !== t.map && (r.map = e(t.map)), void 0 !== t.alphaMap && (r.alphaMap = e(t.alphaMap), r.transparent = !0), void 0 !== t.bumpMap && (r.bumpMap = e(t.bumpMap)), void 0 !== t.bumpScale && (r.bumpScale = t.bumpScale), void 0 !== t.normalMap && (r.normalMap = e(t.normalMap)), void 0 !== t.normalScale) {
                    var i = t.normalScale;
                    !1 === Array.isArray(i) && (i = [i, i]), r.normalScale = (new o).fromArray(i)
                }
                return void 0 !== t.displacementMap && (r.displacementMap = e(t.displacementMap)), void 0 !== t.displacementScale && (r.displacementScale = t.displacementScale), void 0 !== t.displacementBias && (r.displacementBias = t.displacementBias), void 0 !== t.roughnessMap && (r.roughnessMap = e(t.roughnessMap)), void 0 !== t.metalnessMap && (r.metalnessMap = e(t.metalnessMap)), void 0 !== t.emissiveMap && (r.emissiveMap = e(t.emissiveMap)), void 0 !== t.emissiveIntensity && (r.emissiveIntensity = t.emissiveIntensity), void 0 !== t.specularMap && (r.specularMap = e(t.specularMap)), void 0 !== t.envMap && (r.envMap = e(t.envMap)), void 0 !== t.reflectivity && (r.reflectivity = t.reflectivity), void 0 !== t.lightMap && (r.lightMap = e(t.lightMap)), void 0 !== t.lightMapIntensity && (r.lightMapIntensity = t.lightMapIntensity), void 0 !== t.aoMap && (r.aoMap = e(t.aoMap)), void 0 !== t.aoMapIntensity && (r.aoMapIntensity = t.aoMapIntensity), void 0 !== t.gradientMap && (r.gradientMap = e(t.gradientMap)), r
            }
        }), (0, kn.default)(Je.prototype, {
            load: function(t, e, n, r) {
                var i = this,
                    o = new Ye(i.manager);
                o.setResponseType("json"), o.load(t, function(t) {
                    e(i.parse(t))
                }, n, r)
            },
            parse: function(t) {
                var e = new Tt,
                    n = t.data.index;
                if (void 0 !== n) {
                    var r = new Ao[n.type](n.array);
                    e.setIndex(new dt(r, 1))
                }
                var i = t.data.attributes;
                for (var o in i) {
                    var a = i[o],
                        r = new Ao[a.type](a.array);
                    e.addAttribute(o, new dt(r, a.itemSize, a.normalized))
                }
                var s = t.data.groups || t.data.drawcalls || t.data.offsets;
                if (void 0 !== s)
                    for (var u = 0, c = s.length; u !== c; ++u) {
                        var l = s[u];
                        e.addGroup(l.start, l.count, l.materialIndex)
                    }
                var h = t.data.boundingSphere;
                if (void 0 !== h) {
                    var d = new f;
                    void 0 !== h.center && d.fromArray(h.center), e.boundingSphere = new tt(d, h.radius)
                }
                return e
            }
        });
        var Ao = {
            Int8Array: Int8Array,
            Uint8Array: Uint8Array,
            Uint8ClampedArray: Uint8ClampedArray,
            Int16Array: Int16Array,
            Uint16Array: Uint16Array,
            Int32Array: Int32Array,
            Uint32Array: Uint32Array,
            Float32Array: Float32Array,
            Float64Array: Float64Array
        };
        Ke.Handlers = {
                handlers: [],
                add: function(t, e) {
                    this.handlers.push(t, e)
                },
                get: function(t) {
                    for (var e = this.handlers, n = 0, r = e.length; n < r; n += 2) {
                        var i = e[n],
                            o = e[n + 1];
                        if (i.test(t)) return o
                    }
                    return null
                }
            }, (0, kn.default)(Ke.prototype, {
                crossOrigin: void 0,
                extractUrlBase: function(t) {
                    var e = t.split("/");
                    return 1 === e.length ? "./" : (e.pop(), e.join("/") + "/")
                },
                initMaterials: function(t, e, n) {
                    for (var r = [], i = 0; i < t.length; ++i) r[i] = this.createMaterial(t[i], e, n);
                    return r
                },
                createMaterial: function() {
                    var t, e, n, r = {
                        NoBlending: or,
                        NormalBlending: ar,
                        AdditiveBlending: sr,
                        SubtractiveBlending: ur,
                        MultiplyBlending: cr,
                        CustomBlending: lr
                    };
                    return function(i, o, a) {
                        function s(t, n, r, i, s) {
                            var c, l = o + t,
                                f = Ke.Handlers.get(l);
                            null !== f ? c = f.load(l) : (e.setCrossOrigin(a), c = e.load(l)), void 0 !== n && (c.repeat.fromArray(n), 1 !== n[0] && (c.wrapS = Zr), 1 !== n[1] && (c.wrapT = Zr)), void 0 !== r && c.offset.fromArray(r), void 0 !== i && ("repeat" === i[0] && (c.wrapS = Zr), "mirror" === i[0] && (c.wrapS = Kr), "repeat" === i[1] && (c.wrapT = Zr), "mirror" === i[1] && (c.wrapT = Kr)), void 0 !== s && (c.anisotropy = s);
                            var h = Qi.generateUUID();
                            return u[h] = c, h
                        }
                        void 0 === t && (t = new Y), void 0 === e && (e = new Xe), void 0 === n && (n = new Ze);
                        var u = {},
                            c = {
                                uuid: Qi.generateUUID(),
                                type: "MeshLambertMaterial"
                            };
                        for (var l in i) {
                            var f = i[l];
                            switch (l) {
                                case "DbgColor":
                                case "DbgIndex":
                                case "opticalDensity":
                                case "illumination":
                                    break;
                                case "DbgName":
                                    c.name = f;
                                    break;
                                case "blending":
                                    c.blending = r[f];
                                    break;
                                case "colorAmbient":
                                case "mapAmbient":
                                    console.warn("THREE.Loader.createMaterial:", l, "is no longer supported.");
                                    break;
                                case "colorDiffuse":
                                    c.color = t.fromArray(f).getHex();
                                    break;
                                case "colorSpecular":
                                    c.specular = t.fromArray(f).getHex();
                                    break;
                                case "colorEmissive":
                                    c.emissive = t.fromArray(f).getHex();
                                    break;
                                case "specularCoef":
                                    c.shininess = f;
                                    break;
                                case "shading":
                                    "basic" === f.toLowerCase() && (c.type = "MeshBasicMaterial"), "phong" === f.toLowerCase() && (c.type = "MeshPhongMaterial"), "standard" === f.toLowerCase() && (c.type = "MeshStandardMaterial");
                                    break;
                                case "mapDiffuse":
                                    c.map = s(f, i.mapDiffuseRepeat, i.mapDiffuseOffset, i.mapDiffuseWrap, i.mapDiffuseAnisotropy);
                                    break;
                                case "mapDiffuseRepeat":
                                case "mapDiffuseOffset":
                                case "mapDiffuseWrap":
                                case "mapDiffuseAnisotropy":
                                    break;
                                case "mapEmissive":
                                    c.emissiveMap = s(f, i.mapEmissiveRepeat, i.mapEmissiveOffset, i.mapEmissiveWrap, i.mapEmissiveAnisotropy);
                                    break;
                                case "mapEmissiveRepeat":
                                case "mapEmissiveOffset":
                                case "mapEmissiveWrap":
                                case "mapEmissiveAnisotropy":
                                    break;
                                case "mapLight":
                                    c.lightMap = s(f, i.mapLightRepeat, i.mapLightOffset, i.mapLightWrap, i.mapLightAnisotropy);
                                    break;
                                case "mapLightRepeat":
                                case "mapLightOffset":
                                case "mapLightWrap":
                                case "mapLightAnisotropy":
                                    break;
                                case "mapAO":
                                    c.aoMap = s(f, i.mapAORepeat, i.mapAOOffset, i.mapAOWrap, i.mapAOAnisotropy);
                                    break;
                                case "mapAORepeat":
                                case "mapAOOffset":
                                case "mapAOWrap":
                                case "mapAOAnisotropy":
                                    break;
                                case "mapBump":
                                    c.bumpMap = s(f, i.mapBumpRepeat, i.mapBumpOffset, i.mapBumpWrap, i.mapBumpAnisotropy);
                                    break;
                                case "mapBumpScale":
                                    c.bumpScale = f;
                                    break;
                                case "mapBumpRepeat":
                                case "mapBumpOffset":
                                case "mapBumpWrap":
                                case "mapBumpAnisotropy":
                                    break;
                                case "mapNormal":
                                    c.normalMap = s(f, i.mapNormalRepeat, i.mapNormalOffset, i.mapNormalWrap, i.mapNormalAnisotropy);
                                    break;
                                case "mapNormalFactor":
                                    c.normalScale = [f, f];
                                    break;
                                case "mapNormalRepeat":
                                case "mapNormalOffset":
                                case "mapNormalWrap":
                                case "mapNormalAnisotropy":
                                    break;
                                case "mapSpecular":
                                    c.specularMap = s(f, i.mapSpecularRepeat, i.mapSpecularOffset, i.mapSpecularWrap, i.mapSpecularAnisotropy);
                                    break;
                                case "mapSpecularRepeat":
                                case "mapSpecularOffset":
                                case "mapSpecularWrap":
                                case "mapSpecularAnisotropy":
                                    break;
                                case "mapMetalness":
                                    c.metalnessMap = s(f, i.mapMetalnessRepeat, i.mapMetalnessOffset, i.mapMetalnessWrap, i.mapMetalnessAnisotropy);
                                    break;
                                case "mapMetalnessRepeat":
                                case "mapMetalnessOffset":
                                case "mapMetalnessWrap":
                                case "mapMetalnessAnisotropy":
                                    break;
                                case "mapRoughness":
                                    c.roughnessMap = s(f, i.mapRoughnessRepeat, i.mapRoughnessOffset, i.mapRoughnessWrap, i.mapRoughnessAnisotropy);
                                    break;
                                case "mapRoughnessRepeat":
                                case "mapRoughnessOffset":
                                case "mapRoughnessWrap":
                                case "mapRoughnessAnisotropy":
                                    break;
                                case "mapAlpha":
                                    c.alphaMap = s(f, i.mapAlphaRepeat, i.mapAlphaOffset, i.mapAlphaWrap, i.mapAlphaAnisotropy);
                                    break;
                                case "mapAlphaRepeat":
                                case "mapAlphaOffset":
                                case "mapAlphaWrap":
                                case "mapAlphaAnisotropy":
                                    break;
                                case "flipSided":
                                    c.side = $n;
                                    break;
                                case "doubleSided":
                                    c.side = tr;
                                    break;
                                case "transparency":
                                    console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"), c.opacity = f;
                                    break;
                                case "depthTest":
                                case "depthWrite":
                                case "colorWrite":
                                case "opacity":
                                case "reflectivity":
                                case "transparent":
                                case "visible":
                                case "wireframe":
                                    c[l] = f;
                                    break;
                                case "vertexColors":
                                    !0 === f && (c.vertexColors = ir), "face" === f && (c.vertexColors = 1);
                                    break;
                                default:
                                    console.error("THREE.Loader.createMaterial: Unsupported", l, f)
                            }
                        }
                        return "MeshBasicMaterial" === c.type && delete c.emissive, "MeshPhongMaterial" !== c.type && delete c.specular, c.opacity < 1 && (c.transparent = !0), n.setTextures(u), n.parse(c)
                    }
                }()
            }), (0, kn.default)($e.prototype, {
                copy: function(t) {
                    return this.camera = t.camera.clone(), this.bias = t.bias, this.radius = t.radius, this.mapSize.copy(t.mapSize), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                toJSON: function() {
                    var t = {};
                    return 0 !== this.bias && (t.bias = this.bias), 1 !== this.radius && (t.radius = this.radius), 512 === this.mapSize.x && 512 === this.mapSize.y || (t.mapSize = this.mapSize.toArray()), t.camera = this.camera.toJSON(!1).object, delete t.camera.matrix, t
                }
            }), tn.prototype = (0, kn.default)((0, On.default)($e.prototype), {
                constructor: tn,
                isSpotLightShadow: !0,
                update: function(t) {
                    var e = this.camera,
                        n = 2 * Qi.RAD2DEG * t.angle,
                        r = this.mapSize.width / this.mapSize.height,
                        i = t.distance || e.far;
                    n === e.fov && r === e.aspect && i === e.far || (e.fov = n, e.aspect = r, e.far = i, e.updateProjectionMatrix())
                }
            }), en.prototype = (0, kn.default)((0, On.default)(ut.prototype), {
                constructor: en,
                isLight: !0,
                copy: function(t) {
                    return ut.prototype.copy.call(this, t), this.color.copy(t.color), this.intensity = t.intensity, this
                },
                toJSON: function(t) {
                    var e = ut.prototype.toJSON.call(this, t);
                    return e.object.color = this.color.getHex(), e.object.intensity = this.intensity, void 0 !== this.groundColor && (e.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (e.object.distance = this.distance), void 0 !== this.angle && (e.object.angle = this.angle), void 0 !== this.decay && (e.object.decay = this.decay), void 0 !== this.penumbra && (e.object.penumbra = this.penumbra), void 0 !== this.shadow && (e.object.shadow = this.shadow.toJSON()), e
                }
            }), nn.prototype = (0, kn.default)((0, On.default)(en.prototype), {
                constructor: nn,
                isSpotLight: !0,
                copy: function(t) {
                    return en.prototype.copy.call(this, t), this.distance = t.distance, this.angle = t.angle, this.penumbra = t.penumbra, this.decay = t.decay, this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), rn.prototype = (0, kn.default)((0, On.default)(en.prototype), {
                constructor: rn,
                isPointLight: !0,
                copy: function(t) {
                    return en.prototype.copy.call(this, t), this.distance = t.distance, this.decay = t.decay, this.shadow = t.shadow.clone(), this
                }
            }), on.prototype = (0, kn.default)((0, On.default)(en.prototype), {
                constructor: on,
                isRectAreaLight: !0,
                copy: function(t) {
                    return en.prototype.copy.call(this, t), this.width = t.width, this.height = t.height, this
                },
                toJSON: function(t) {
                    var e = en.prototype.toJSON.call(this, t);
                    return e.object.width = this.width, e.object.height = this.height, e
                }
            }), an.prototype = (0, kn.default)((0, On.default)(en.prototype), {
                constructor: an,
                isHemisphereLight: !0,
                copy: function(t) {
                    return en.prototype.copy.call(this, t), this.groundColor.copy(t.groundColor), this
                }
            }), sn.prototype = (0, kn.default)((0, On.default)($e.prototype), {
                constructor: sn
            }), un.prototype = (0, kn.default)((0, On.default)(en.prototype), {
                constructor: un,
                isDirectionalLight: !0,
                copy: function(t) {
                    return en.prototype.copy.call(this, t), this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), cn.prototype = (0, kn.default)((0, On.default)(en.prototype), {
                constructor: cn,
                isAmbientLight: !0
            }), ln.prototype = (0, On.default)(ut.prototype), ln.prototype.constructor = ln, fn.prototype.clone = function() {
                return new fn(void 0 === this.value.clone ? this.value : this.value.clone())
            }, (0, Bn.default)(hn.prototype, {
                count: {
                    get: function() {
                        return this.data.count
                    }
                },
                array: {
                    get: function() {
                        return this.data.array
                    }
                }
            }), (0, kn.default)(hn.prototype, {
                isInterleavedBufferAttribute: !0,
                setX: function(t, e) {
                    return this.data.array[t * this.data.stride + this.offset] = e, this
                },
                setY: function(t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 1] = e, this
                },
                setZ: function(t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 2] = e, this
                },
                setW: function(t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 3] = e, this
                },
                getX: function(t) {
                    return this.data.array[t * this.data.stride + this.offset]
                },
                getY: function(t) {
                    return this.data.array[t * this.data.stride + this.offset + 1]
                },
                getZ: function(t) {
                    return this.data.array[t * this.data.stride + this.offset + 2]
                },
                getW: function(t) {
                    return this.data.array[t * this.data.stride + this.offset + 3]
                },
                setXY: function(t, e, n) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = n, this
                },
                setXYZ: function(t, e, n, r) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = n, this.data.array[t + 2] = r, this
                },
                setXYZW: function(t, e, n, r, i) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = n, this.data.array[t + 2] = r, this.data.array[t + 3] = i, this
                }
            }), Object.defineProperty(dn.prototype, "needsUpdate", {
                set: function(t) {
                    !0 === t && this.version++
                }
            }), (0, kn.default)(dn.prototype, {
                isInterleavedBuffer: !0,
                setArray: function(t) {
                    if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                    this.count = void 0 !== t ? t.length / this.stride : 0, this.array = t
                },
                setDynamic: function(t) {
                    return this.dynamic = t, this
                },
                copy: function(t) {
                    return this.array = new t.array.constructor(t.array), this.count = t.count, this.stride = t.stride, this.dynamic = t.dynamic, this
                },
                copyAt: function(t, e, n) {
                    t *= this.stride, n *= e.stride;
                    for (var r = 0, i = this.stride; r < i; r++) this.array[t + r] = e.array[n + r];
                    return this
                },
                set: function(t, e) {
                    return void 0 === e && (e = 0), this.array.set(t, e), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                onUpload: function(t) {
                    return this.onUploadCallback = t, this
                }
            }), pn.prototype = (0, kn.default)((0, On.default)(dn.prototype), {
                constructor: pn,
                isInstancedInterleavedBuffer: !0,
                copy: function(t) {
                    return dn.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
                }
            }), (0, kn.default)(mn.prototype, {
                linePrecision: 1,
                set: function(t, e) {
                    this.ray.set(t, e)
                },
                setFromCamera: function(t, e) {
                    e && e.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(e.matrixWorld), this.ray.direction.set(t.x, t.y, .5).unproject(e).sub(this.ray.origin).normalize()) : e && e.isOrthographicCamera ? (this.ray.origin.set(t.x, t.y, (e.near + e.far) / (e.near - e.far)).unproject(e), this.ray.direction.set(0, 0, -1).transformDirection(e.matrixWorld)) : console.error("THREE.Raycaster: Unsupported camera type.")
                },
                intersectObject: function(t, e) {
                    var n = [];
                    return gn(t, this, n, e), n.sort(vn), n
                },
                intersectObjects: function(t, e) {
                    var n = [];
                    if (!1 === Array.isArray(t)) return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."), n;
                    for (var r = 0, i = t.length; r < i; r++) gn(t[r], this, n, e);
                    return n.sort(vn), n
                }
            }), (0, kn.default)(An.prototype, {
                start: function() {
                    this.startTime = ("undefined" == typeof performance ? Date : performance).now(), this.oldTime = this.startTime, this.elapsedTime = 0, this.running = !0
                },
                stop: function() {
                    this.getElapsedTime(), this.running = !1
                },
                getElapsedTime: function() {
                    return this.getDelta(), this.elapsedTime
                },
                getDelta: function() {
                    var t = 0;
                    if (this.autoStart && !this.running) return this.start(), 0;
                    if (this.running) {
                        var e = ("undefined" == typeof performance ? Date : performance).now();
                        t = (e - this.oldTime) / 1e3, this.oldTime = e, this.elapsedTime += t
                    }
                    return t
                }
            }), (0, kn.default)(yn.prototype, {
                evaluate: function(t) {
                    var e = this.parameterPositions,
                        n = this._cachedIndex,
                        r = e[n],
                        i = e[n - 1];
                    t: {
                        e: {
                            var o;n: {
                                r: if (!(t < r)) {
                                    for (var a = n + 2;;) {
                                        if (void 0 === r) {
                                            if (t < i) break r;
                                            return n = e.length, this._cachedIndex = n, this.afterEnd_(n - 1, t, i)
                                        }
                                        if (n === a) break;
                                        if (i = r, r = e[++n], t < r) break e
                                    }
                                    o = e.length;
                                    break n
                                } {
                                    if (t >= i) break t;
                                    var s = e[1];
                                    t < s && (n = 2, i = s);
                                    for (var a = n - 2;;) {
                                        if (void 0 === i) return this._cachedIndex = 0, this.beforeStart_(0, t, r);
                                        if (n === a) break;
                                        if (r = i, i = e[--n - 1], t >= i) break e
                                    }
                                    o = n, n = 0
                                }
                            }
                            for (; n < o;) {
                                var u = n + o >>> 1;
                                t < e[u] ? o = u : n = u + 1
                            }
                            if (r = e[n], void 0 === (i = e[n - 1])) return this._cachedIndex = 0, this.beforeStart_(0, t, r);
                            if (void 0 === r) return n = e.length, this._cachedIndex = n, this.afterEnd_(n - 1, i, t)
                        }
                        this._cachedIndex = n,
                        this.intervalChanged_(n, i, r)
                    }
                    return this.interpolate_(n, i, t, r)
                },
                settings: null,
                DefaultSettings_: {},
                getSettings_: function() {
                    return this.settings || this.DefaultSettings_
                },
                copySampleValue_: function(t) {
                    for (var e = this.resultBuffer, n = this.sampleValues, r = this.valueSize, i = t * r, o = 0; o !== r; ++o) e[o] = n[i + o];
                    return e
                },
                interpolate_: function(t, e, n, r) {
                    throw new Error("call to abstract method")
                },
                intervalChanged_: function(t, e, n) {}
            }), //!\ DECLARE ALIAS AFTER assign prototype !
            (0, kn.default)(yn.prototype, {
                beforeStart_: yn.prototype.copySampleValue_,
                afterEnd_: yn.prototype.copySampleValue_
            }), xn.prototype = (0, kn.default)((0, On.default)(yn.prototype), {
                constructor: xn,
                interpolate_: function(t, e, n, r) {
                    for (var i = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, u = (n - e) / (r - e), c = s + a; s !== c; s += 4) l.slerpFlat(i, 0, o, s - a, o, s, u);
                    return i
                }
            }), _n.prototype = (0, kn.default)((0, On.default)(yn.prototype), {
                constructor: _n,
                interpolate_: function(t, e, n, r) {
                    for (var i = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, u = s - a, c = (n - e) / (r - e), l = 1 - c, f = 0; f !== a; ++f) i[f] = o[u + f] * l + o[s + f] * c;
                    return i
                }
            }), bn.prototype = (0, kn.default)((0, On.default)(yn.prototype), {
                constructor: bn,
                interpolate_: function(t, e, n, r) {
                    return this.copySampleValue_(t - 1)
                }
            }), wn.prototype = (0, kn.default)((0, On.default)(yn.prototype), {
                constructor: wn,
                DefaultSettings_: {
                    endingStart: 2400,
                    endingEnd: 2400
                },
                intervalChanged_: function(t, e, n) {
                    var r = this.parameterPositions,
                        i = t - 2,
                        o = t + 1,
                        a = r[i],
                        s = r[o];
                    if (void 0 === a) switch (this.getSettings_().endingStart) {
                        case 2401:
                            i = t, a = 2 * e - n;
                            break;
                        case 2402:
                            i = r.length - 2, a = e + r[i] - r[i + 1];
                            break;
                        default:
                            i = t, a = n
                    }
                    if (void 0 === s) switch (this.getSettings_().endingEnd) {
                        case 2401:
                            o = t, s = 2 * n - e;
                            break;
                        case 2402:
                            o = 1, s = n + r[1] - r[0];
                            break;
                        default:
                            o = t - 1, s = e
                    }
                    var u = .5 * (n - e),
                        c = this.valueSize;
                    this._weightPrev = u / (e - a), this._weightNext = u / (s - n), this._offsetPrev = i * c, this._offsetNext = o * c
                },
                interpolate_: function(t, e, n, r) {
                    for (var i = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, u = s - a, c = this._offsetPrev, l = this._offsetNext, f = this._weightPrev, h = this._weightNext, d = (n - e) / (r - e), p = d * d, m = p * d, v = -f * m + 2 * f * p - f * d, g = (1 + f) * m + (-1.5 - 2 * f) * p + (-.5 + f) * d + 1, A = (-1 - h) * m + (1.5 + h) * p + .5 * d, y = h * m - h * p, x = 0; x !== a; ++x) i[x] = v * o[c + x] + g * o[u + x] + A * o[s + x] + y * o[l + x];
                    return i
                }
            }), (0, kn.default)(Mn.prototype, {
                set: function(t, e, n) {
                    return this.radius = t, this.phi = e, this.theta = n, this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.radius = t.radius, this.phi = t.phi, this.theta = t.theta, this
                },
                makeSafe: function() {
                    return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)), this
                },
                setFromVector3: function(t) {
                    return this.radius = t.length(), 0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(t.x, t.z), this.phi = Math.acos(Qi.clamp(t.y / this.radius, -1, 1))), this
                }
            }), (0, kn.default)(En.prototype, {
                set: function(t, e, n) {
                    return this.radius = t, this.theta = e, this.y = n, this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.radius = t.radius, this.theta = t.theta, this.y = t.y, this
                },
                setFromVector3: function(t) {
                    return this.radius = Math.sqrt(t.x * t.x + t.z * t.z), this.theta = Math.atan2(t.x, t.z), this.y = t.y, this
                }
            }), (0, kn.default)(Sn.prototype, {
                set: function(t, e) {
                    return this.min.copy(t), this.max.copy(e), this
                },
                setFromPoints: function(t) {
                    this.makeEmpty();
                    for (var e = 0, n = t.length; e < n; e++) this.expandByPoint(t[e]);
                    return this
                },
                setFromCenterAndSize: function() {
                    var t = new o;
                    return function(e, n) {
                        var r = t.copy(n).multiplyScalar(.5);
                        return this.min.copy(e).sub(r), this.max.copy(e).add(r), this
                    }
                }(),
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.min.copy(t.min), this.max.copy(t.max), this
                },
                makeEmpty: function() {
                    return this.min.x = this.min.y = 1 / 0, this.max.x = this.max.y = -1 / 0, this
                },
                isEmpty: function() {
                    return this.max.x < this.min.x || this.max.y < this.min.y
                },
                getCenter: function(t) {
                    var e = t || new o;
                    return this.isEmpty() ? e.set(0, 0) : e.addVectors(this.min, this.max).multiplyScalar(.5)
                },
                getSize: function(t) {
                    var e = t || new o;
                    return this.isEmpty() ? e.set(0, 0) : e.subVectors(this.max, this.min)
                },
                expandByPoint: function(t) {
                    return this.min.min(t), this.max.max(t), this
                },
                expandByVector: function(t) {
                    return this.min.sub(t), this.max.add(t), this
                },
                expandByScalar: function(t) {
                    return this.min.addScalar(-t), this.max.addScalar(t), this
                },
                containsPoint: function(t) {
                    return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y)
                },
                containsBox: function(t) {
                    return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y
                },
                getParameter: function(t, e) {
                    return (e || new o).set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y))
                },
                intersectsBox: function(t) {
                    return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y)
                },
                clampPoint: function(t, e) {
                    return (e || new o).copy(t).clamp(this.min, this.max)
                },
                distanceToPoint: function() {
                    var t = new o;
                    return function(e) {
                        return t.copy(e).clamp(this.min, this.max).sub(e).length()
                    }
                }(),
                intersect: function(t) {
                    return this.min.max(t.min), this.max.min(t.max), this
                },
                union: function(t) {
                    return this.min.min(t.min), this.max.max(t.max), this
                },
                translate: function(t) {
                    return this.min.add(t), this.max.add(t), this
                },
                equals: function(t) {
                    return t.min.equals(this.min) && t.max.equals(this.max)
                }
            }), Tn.prototype = (0, On.default)(Ee.prototype), Tn.prototype.constructor = Tn, e.WebGLRenderTargetCube = c, e.WebGLRenderTarget = u, e.WebGLRenderer = de, e.ShaderLib = oo, e.UniformsLib = no, e.UniformsUtils = ro, e.ShaderChunk = io, e.FogExp2 = pe, e.Fog = me, e.Scene = ve, e.Sprite = Ae, e.LOD = ye, e.Mesh = Lt, e.InstancedMesh = be, e.LineSegments = Ee, e.LineLoop = Se, e.Line = Me, e.Group = Te, e.Texture = a, e.TextureLoader = Xe, e.MaterialLoader = Ze, e.BufferGeometryLoader = Je, e.DefaultLoadingManager = go, e.LoadingManager = Qe, e.ImageLoader = qe, e.FileLoader = Ye, e.Loader = Ke, e.Cache = vo, e.SpotLightShadow = tn, e.SpotLight = nn, e.PointLight = rn, e.RectAreaLight = on, e.HemisphereLight = an, e.DirectionalLightShadow = sn, e.DirectionalLight = un, e.AmbientLight = cn, e.LightShadow = $e, e.Light = en, e.PerspectiveCamera = It, e.OrthographicCamera = Bt, e.CubeCamera = ln, e.Camera = Ot, e.Uniform = fn, e.InstancedBufferGeometry = xe, e.BufferGeometry = Tt, e.GeometryIdCount = Et, e.Geometry = St, e.InterleavedBufferAttribute = hn, e.InstancedInterleavedBuffer = pn, e.InterleavedBuffer = dn, e.InstancedBufferAttribute = _e, e.Face3 = ft, e.Object3D = ut, e.Raycaster = mn, e.Layers = st, e.EventDispatcher = i, e.Clock = An, e.QuaternionLinearInterpolant = xn, e.LinearInterpolant = _n, e.DiscreteInterpolant = bn, e.CubicInterpolant = wn, e.Interpolant = yn, e.Triangle = lt, e.Math = Qi, e.Spherical = Mn, e.Cylindrical = En, e.Plane = nt, e.Frustum = rt, e.Sphere = tt, e.Ray = ot, e.Matrix4 = h, e.Matrix3 = et, e.Box3 = $, e.Box2 = Sn, e.Line3 = ct, e.Euler = at, e.Vector4 = s, e.Vector3 = f, e.Vector2 = o, e.Quaternion = l, e.Color = Y, e.GridHelper = Tn, e.WireframeGeometry = Le, e.SphereGeometry = Ce, e.SphereBufferGeometry = Pe, e.PlaneGeometry = Rt, e.PlaneBufferGeometry = Dt, e.EdgesGeometry = Re, e.ConeGeometry = Ie, e.ConeBufferGeometry = Be, e.CylinderGeometry = De, e.CylinderBufferGeometry = Oe, e.BoxGeometry = Ct, e.BoxBufferGeometry = Pt, e.ShadowMaterial = Ne, e.SpriteMaterial = ge, e.RawShaderMaterial = ke, e.ShaderMaterial = J, e.PointsMaterial = Fe, e.MeshPhysicalMaterial = ze, e.MeshStandardMaterial = Ue, e.MeshPhongMaterial = Ve, e.MeshToonMaterial = Ge, e.MeshNormalMaterial = He, e.MeshLambertMaterial = We, e.MeshDepthMaterial = K, e.MeshBasicMaterial = ht, e.LineDashedMaterial = je, e.LineBasicMaterial = we, e.Material = Z, e.Float64BufferAttribute = bt, e.Float32BufferAttribute = _t, e.Uint32BufferAttribute = xt, e.Int32BufferAttribute = yt, e.Uint16BufferAttribute = At, e.Int16BufferAttribute = gt, e.Uint8ClampedBufferAttribute = vt, e.Uint8BufferAttribute = mt, e.Int8BufferAttribute = pt, e.BufferAttribute = dt, e.REVISION = Wn, e.MOUSE = jn, e.CullFaceNone = Qn, e.CullFaceBack = qn, e.CullFaceFront = Xn, e.CullFaceFrontBack = 3, e.FrontFaceDirectionCW = Yn, e.FrontFaceDirectionCCW = 1, e.BasicShadowMap = 0, e.PCFShadowMap = Zn, e.PCFSoftShadowMap = Jn, e.FrontSide = Kn, e.BackSide = $n, e.DoubleSide = tr, e.FlatShading = er, e.SmoothShading = nr, e.NoColors = rr, e.FaceColors = 1, e.VertexColors = ir, e.NoBlending = or, e.NormalBlending = ar, e.AdditiveBlending = sr, e.SubtractiveBlending = ur, e.MultiplyBlending = cr, e.CustomBlending = lr, e.AddEquation = fr, e.SubtractEquation = hr, e.ReverseSubtractEquation = dr, e.MinEquation = pr, e.MaxEquation = mr, e.ZeroFactor = vr, e.OneFactor = gr, e.SrcColorFactor = Ar, e.OneMinusSrcColorFactor = yr, e.SrcAlphaFactor = xr, e.OneMinusSrcAlphaFactor = _r, e.DstAlphaFactor = br, e.OneMinusDstAlphaFactor = wr, e.DstColorFactor = Mr, e.OneMinusDstColorFactor = Er, e.SrcAlphaSaturateFactor = Sr, e.NeverDepth = Tr, e.AlwaysDepth = Lr, e.LessDepth = Cr, e.LessEqualDepth = Pr, e.EqualDepth = Rr, e.GreaterEqualDepth = Dr;
        e.GreaterDepth = Or, e.NotEqualDepth = Ir, e.MultiplyOperation = Br, e.MixOperation = Nr, e.AddOperation = kr, e.NoToneMapping = Fr, e.LinearToneMapping = Ur, e.ReinhardToneMapping = zr, e.Uncharted2ToneMapping = Vr, e.CineonToneMapping = Gr, e.UVMapping = 300, e.CubeReflectionMapping = Hr, e.CubeRefractionMapping = Wr, e.EquirectangularReflectionMapping = jr, e.EquirectangularRefractionMapping = Qr, e.SphericalReflectionMapping = qr, e.CubeUVReflectionMapping = Xr, e.CubeUVRefractionMapping = Yr, e.RepeatWrapping = Zr, e.ClampToEdgeWrapping = Jr, e.MirroredRepeatWrapping = Kr, e.NearestFilter = $r, e.NearestMipMapNearestFilter = ti, e.NearestMipMapLinearFilter = ei, e.LinearFilter = ni, e.LinearMipMapNearestFilter = ri, e.LinearMipMapLinearFilter = ii, e.UnsignedByteType = oi, e.ByteType = ai, e.ShortType = si, e.UnsignedShortType = ui, e.IntType = ci, e.UnsignedIntType = li, e.FloatType = fi, e.HalfFloatType = hi, e.UnsignedShort4444Type = di, e.UnsignedShort5551Type = pi, e.UnsignedShort565Type = mi, e.UnsignedInt248Type = vi, e.AlphaFormat = gi, e.RGBFormat = Ai, e.RGBAFormat = yi, e.LuminanceFormat = xi, e.LuminanceAlphaFormat = _i, e.RGBEFormat = bi, e.DepthFormat = wi, e.DepthStencilFormat = Mi, e.RGB_S3TC_DXT1_Format = Ei, e.RGBA_S3TC_DXT1_Format = Si, e.RGBA_S3TC_DXT3_Format = Ti, e.RGBA_S3TC_DXT5_Format = Li, e.RGB_PVRTC_4BPPV1_Format = Ci, e.RGB_PVRTC_2BPPV1_Format = Pi, e.RGBA_PVRTC_4BPPV1_Format = Ri, e.RGBA_PVRTC_2BPPV1_Format = Di, e.RGB_ETC1_Format = Oi, e.LoopOnce = 2200, e.LoopRepeat = 2201, e.LoopPingPong = 2202, e.InterpolateDiscrete = 2300, e.InterpolateLinear = 2301, e.InterpolateSmooth = 2302, e.ZeroCurvatureEnding = 2400, e.ZeroSlopeEnding = 2401, e.WrapAroundEnding = 2402, e.TrianglesDrawMode = Ii, e.TriangleStripDrawMode = Bi, e.TriangleFanDrawMode = Ni, e.LinearEncoding = ki, e.sRGBEncoding = Fi, e.GammaEncoding = Ui, e.RGBEEncoding = zi, e.LogLuvEncoding = 3003, e.RGBM7Encoding = Vi, e.RGBM16Encoding = Gi, e.RGBDEncoding = Hi, e.BasicDepthPacking = Wi, e.RGBADepthPacking = ji
    }).call(e, n(18))
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 20');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(77),
        h = r(f);
    n(584);
    var d = n(41),
        p = r(d),
        m = n(243),
        v = r(m),
        g = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.navigate = n.navigate.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.shouldComponentUpdate = function(t) {
                var e = t.icon,
                    n = t.label,
                    r = t.disabled,
                    i = t.text;
                return e !== this.props.icon || i !== this.props.text || n !== this.props.label || r !== this.props.disabled
            }, e.prototype.navigate = function() {
                p.default.navigate(this.props.navigate)
            }, e.prototype.render = function(t) {
                var e = t.onClick,
                    n = t.navigate,
                    r = t.icon,
                    i = t.label,
                    o = t.className,
                    a = t.text,
                    s = t.underline,
                    u = t.disabled;
                return (0, l.h)("div", {
                    className: (0, h.default)("button-item", o, a && "mod-text", u && "mod-disabled"),
                    onClick: n ? this.navigate : e,
                    onMouseDown: v.default,
                    onTouchStart: v.default
                }, i && (0, l.h)("span", {
                    className: "button-item-label"
                }, i), r && (0, l.h)("span", {
                    className: (0, h.default)("button-item-icon", i && "mod-label"),
                    dangerouslySetInnerHTML: {
                        __html: r
                    }
                }), a ? s ? (0, l.h)("a", null, (0, l.h)("span", null, a)) : (0, l.h)("a", null, a) : null)
            }, e
        }(l.Component);
    e.default = g
}, function(t, e, n) {
    console.log('--------------------------------run 21');

    t.exports = {
        default: n(272),
        __esModule: !0
    }
}, function(t, e, n) {
    console.log('--------------------------------run 22');

    var r = n(44);
    t.exports = function(t) {
        return Object(r(t))
    }
}, function(t, e, n) {
    console.log('--------------------------------run 23');

    t.exports = n(270)
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 24');

    e.__esModule = !0;
    var r = n(20),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.default = function(t) {
        // console.log('tell 1');

        return function() {
            // console.log('tell 2', Array.from(arguments));

            var e = t.apply(this, arguments);

            // console.log('tell 3', e && e.constructor);

            return new i.default(function(t, n) {
                // console.log('tell 4');

                function r(o, a) {
                    // console.log('tell 5');

                    try {
                        var s = e[o](a),
                            u = s.value
                    } catch (t) {
                        return void n(t)
                    }

                    // console.log('tell 6', i.default.resolve, i.default.resolve(u).then);

                    if (!s.done) return i.default.resolve(u).then(function(t) {
                        // console.log('tell 7');

                        r("next", t)
                    }, function(t) {
                        // console.log('tell 8');

                        r("throw", t)
                    });
                    t(u)
                }
                return r("next")
            })
        }
    }
}, function(t, e, n) {
    console.log('--------------------------------run 25');

    var r = n(27),
        i = n(17),
        o = n(87),
        a = n(62),
        s = function(t, e, n) {
            var u, c, l, f = t & s.F,
                h = t & s.G,
                d = t & s.S,
                p = t & s.P,
                m = t & s.B,
                v = t & s.W,
                g = h ? i : i[e] || (i[e] = {}),
                A = g.prototype,
                y = h ? r : d ? r[e] : (r[e] || {}).prototype;
            h && (n = e);
            for (u in n)(c = !f && y && void 0 !== y[u]) && u in g || (l = c ? y[u] : n[u], g[u] = h && "function" != typeof y[u] ? n[u] : m && c ? o(l, r) : v && y[u] == l ? function(t) {
                var e = function(e, n, r) {
                    if (this instanceof t) {
                        switch (arguments.length) {
                            case 0:
                                return new t;
                            case 1:
                                return new t(e);
                            case 2:
                                return new t(e, n)
                        }
                        return new t(e, n, r)
                    }
                    return t.apply(this, arguments)
                };
                return e.prototype = t.prototype, e
            }(l) : p && "function" == typeof l ? o(Function.call, l) : l, p && ((g.virtual || (g.virtual = {}))[u] = l, t & s.R && A && !A[u] && a(A, u, l)))
        };
    s.F = 1, s.G = 2, s.S = 4, s.P = 8, s.B = 16, s.W = 32, s.U = 64, s.R = 128, t.exports = s
}, function(t, e) {
    console.log('--------------------------------run 26');

    t.exports = function(t) {
        if ("function" != typeof t) throw TypeError(t + " is not a function!");
        return t
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 27');

    function r(t) {
        var e = t.children,
            n = t.type,
            r = t.rows,
            o = t.margin;
        return (0, i.h)("div", {
            className: (0, a.default)("aligner", "mod-" + n, !!o && "mod-margin", !!r && "mod-rows")
        }, e)
    }
    e.__esModule = !0, e.default = r;
    var i = n(1),
        o = n(77),
        a = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(o);
    n(580)
}, function(t, e) {
    console.log('--------------------------------run 28');

    var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}, function(t, e, n) {
    var r = n(135)("wks"),
        i = n(102),
        o = n(27).Symbol,
        a = "function" == typeof o;
    (t.exports = function(t) {
        return r[t] || (r[t] = a && o[t] || (a ? o : i)("Symbol." + t))
    }).store = r
}, function(t, e) {
    console.log('--------------------------------run 29');

    var n = {}.hasOwnProperty;
    t.exports = function(t, e) {
        return n.call(t, e)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 30');

    var r = n(15),
        i = n(65);
    t.exports = n(14) ? function(t, e, n) {
        return r.f(t, e, i(1, n))
    } : function(t, e, n) {
        return t[e] = n, t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 31');

    var r = n(7),
        i = n(30),
        o = n(29),
        a = n(66)("src"),
        s = Function.toString,
        u = ("" + s).split("toString");
    n(42).inspectSource = function(t) {
        return s.call(t)
    }, (t.exports = function(t, e, n, s) {
        var c = "function" == typeof n;
        c && (o(n, "name") || i(n, "name", e)), t[e] !== n && (c && (o(n, a) || i(n, a, t[e] ? "" + t[e] : u.join(String(e)))), t === r ? t[e] = n : s ? t[e] ? t[e] = n : i(t, e, n) : (delete t[e], i(t, e, n)))
    })(Function.prototype, "toString", function() {
        return "function" == typeof this && this[a] || s.call(this)
    })
}, function(t, e, n) {
    console.log('--------------------------------run 32');

    var r = n(0),
        i = n(8),
        o = n(44),
        a = /"/g,
        s = function(t, e, n, r) {
            var i = String(o(t)),
                s = "<" + e;
            return "" !== n && (s += " " + n + '="' + String(r).replace(a, "&quot;") + '"'), s + ">" + i + "</" + e + ">"
        };
    t.exports = function(t, e) {
        var n = {};
        n[t] = e(s), r(r.P + r.F * i(function() {
            var e = "" [t]('"');
            return e !== e.toLowerCase() || e.split('"').length > 3
        }), "String", n)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 33');

    "use strict";
    e.__esModule = !0;
    var r = n(34),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.default = i.default || function(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r])
        }
        return t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 34');

    t.exports = {
        default: n(506),
        __esModule: !0
    }
}, function(t, e, n) {
    console.log('--------------------------------run 35');

    var r = n(90),
        i = n(44);
    t.exports = function(t) {
        return r(i(t))
    }
}, function(t, e, n) {
    console.log('--------------------------------run 36');

    var r = n(91),
        i = n(65),
        o = n(35),
        a = n(43),
        s = n(29),
        u = n(198),
        c = Object.getOwnPropertyDescriptor;
    e.f = n(14) ? c : function(t, e) {
        if (t = o(t), e = a(e, !0), u) try {
            return c(t, e)
        } catch (t) {}
        if (s(t, e)) return i(!r.f.call(t, e), t[e])
    }
}, function(t, e, n) {
    console.log('--------------------------------run 37');

    var r = n(29),
        i = n(21),
        o = n(141)("IE_PROTO"),
        a = Object.prototype;
    t.exports = Object.getPrototypeOf || function(t) {
        return t = i(t), r(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? a : null
    }
}, function(t, e, n) {
    console.log('--------------------------------run 38');

    var r = n(25);
    t.exports = function(t, e, n) {
        if (r(t), void 0 === e) return t;
        switch (n) {
            case 1:
                return function(n) {
                    return t.call(e, n)
                };
            case 2:
                return function(n, r) {
                    return t.call(e, n, r)
                };
            case 3:
                return function(n, r, i) {
                    return t.call(e, n, r, i)
                }
        }
        return function() {
            return t.apply(e, arguments)
        }
    }
}, function(t, e) {
    console.log('--------------------------------run 39');

    var n = {}.toString;
    t.exports = function(t) {
        return n.call(t).slice(8, -1)
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 40');

    var r = n(8);
    t.exports = function(t, e) {
        return !!t && r(function() {
            e ? t.call(null, function() {}, 1) : t.call(null)
        })
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 41');

    e.__esModule = !0;
    var r = n(520),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.default = new i.default({
        pushState: !0
    })
}, function(t, e) {
    console.log('--------------------------------run 42');

    var n = t.exports = {
        version: "2.5.1"
    };
    "number" == typeof __e && (__e = n)
}, function(t, e, n) {
    console.log('--------------------------------run 43');

    var r = n(9);
    t.exports = function(t, e) {
        if (!r(t)) return t;
        var n, i;
        if (e && "function" == typeof(n = t.toString) && !r(i = n.call(t))) return i;
        if ("function" == typeof(n = t.valueOf) && !r(i = n.call(t))) return i;
        if (!e && "function" == typeof(n = t.toString) && !r(i = n.call(t))) return i;
        throw TypeError("Can't convert object to primitive value")
    }
}, function(t, e) {
    console.log('--------------------------------run 44');

    t.exports = function(t) {
        if (void 0 == t) throw TypeError("Can't call method on  " + t);
        return t
    }
}, function(t, e) {
    console.log('--------------------------------run 45');

    var n = Math.ceil,
        r = Math.floor;
    t.exports = function(t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? r : n)(t)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 46');

    var r = n(0),
        i = n(42),
        o = n(8);
    t.exports = function(t, e) {
        var n = (i.Object || {})[t] || Object[t],
            a = {};
        a[t] = e(n), r(r.S + r.F * o(function() {
            n(1)
        }), "Object", a)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 47');

    var r = n(38),
        i = n(90),
        o = n(21),
        a = n(16),
        s = n(158);
    t.exports = function(t, e) {
        var n = 1 == t,
            u = 2 == t,
            c = 3 == t,
            l = 4 == t,
            f = 6 == t,
            h = 5 == t || f,
            d = e || s;
        return function(e, s, p) {
            for (var m, v, g = o(e), A = i(g), y = r(s, p, 3), x = a(A.length), _ = 0, b = n ? d(e, x) : u ? d(e, 0) : void 0; x > _; _++)
                if ((h || _ in A) && (m = A[_], v = y(m, _, g), t))
                    if (n) b[_] = v;
                    else if (v) switch (t) {
                case 3:
                    return !0;
                case 5:
                    return m;
                case 6:
                    return _;
                case 2:
                    b.push(m)
            } else if (l) return !1;
            return f ? -1 : c || l ? l : b
        }
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 48');

    e.__esModule = !0, e.backgroundColor = e.controllerButtonColor = e.textColor = e.highlightColor = e.orbColor = e.waitRoomColor = e.recordCostumeColor = e.getCostumeColor = e.getRoomColorByIndex = e.getRoomColor = void 0;
    var r = n(18),
        i = n(56),
        o = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i),
        a = new r.Color(5617736),
        s = new r.Color(15683382),
        u = new r.Color(13736992),
        c = new r.Color(13386937),
        l = new r.Color(4236696),
        f = new r.Color(13197247),
        h = new r.Color(16777215),
        d = new r.Color(16776960),
        p = new r.Color(6578786);
    a.name = "green", s.name = "red", u.name = "orange", c.name = "purple", l.name = "blue", f.name = "pink", h.name = "white", d.name = "yellow", p.name = "gray";
    var m = [
            [a, s],
            [u, c],
            [l, s],
            [f, u],
            [s, l],
            [a, c],
            [u, l],
            [f, a],
            [l, u],
            [a, s],
            [f, l],
            [s, u]
        ],
        v = m.length,
        g = function(t) {
            var e = o.default.getRoom(t),
                n = e[0],
                r = e[1],
                i = e[2];
            return m[(n + Math.ceil(Math.abs(r)) + i) % v]
        };
    e.getRoomColor = function(t) {
        return g(t)[0]
    }, e.getRoomColorByIndex = function(t) {
        return m[t % m.length][0]
    }, e.getCostumeColor = function(t) {
        return g(t)[1]
    }, e.recordCostumeColor = h, e.waitRoomColor = p, e.orbColor = d, e.highlightColor = h, e.textColor = d, e.controllerButtonColor = d, e.backgroundColor = new r.Color(0)
}, function(t, e, n) {
    console.log('--------------------------------run 49');

    var r = n(50);
    t.exports = function(t) {
        if (!r(t)) throw TypeError(t + " is not an object!");
        return t
    }
}, function(t, e) {
    console.log('--------------------------------run 50');

    t.exports = function(t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 51');

    t.exports = !n(79)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 52');

    if (n(14)) {
        var r = n(67),
            i = n(7),
            o = n(8),
            a = n(0),
            s = n(114),
            u = n(164),
            c = n(38),
            l = n(73),
            f = n(65),
            h = n(30),
            d = n(75),
            p = n(45),
            m = n(16),
            v = n(224),
            g = n(69),
            A = n(43),
            y = n(29),
            x = n(92),
            _ = n(9),
            b = n(21),
            w = n(155),
            M = n(70),
            E = n(37),
            S = n(71).f,
            T = n(157),
            L = n(66),
            C = n(12),
            P = n(47),
            R = n(105),
            D = n(112),
            O = n(160),
            I = n(83),
            B = n(109),
            N = n(72),
            k = n(159),
            F = n(214),
            U = n(15),
            z = n(36),
            V = U.f,
            G = z.f,
            H = i.RangeError,
            W = i.TypeError,
            j = i.Uint8Array,
            Q = Array.prototype,
            q = u.ArrayBuffer,
            X = u.DataView,
            Y = P(0),
            Z = P(2),
            J = P(3),
            K = P(4),
            $ = P(5),
            tt = P(6),
            et = R(!0),
            nt = R(!1),
            rt = O.values,
            it = O.keys,
            ot = O.entries,
            at = Q.lastIndexOf,
            st = Q.reduce,
            ut = Q.reduceRight,
            ct = Q.join,
            lt = Q.sort,
            ft = Q.slice,
            ht = Q.toString,
            dt = Q.toLocaleString,
            pt = C("iterator"),
            mt = C("toStringTag"),
            vt = L("typed_constructor"),
            gt = L("def_constructor"),
            At = s.CONSTR,
            yt = s.TYPED,
            xt = s.VIEW,
            _t = P(1, function(t, e) {
                return St(D(t, t[gt]), e)
            }),
            bt = o(function() {
                return 1 === new j(new Uint16Array([1]).buffer)[0]
            }),
            wt = !!j && !!j.prototype.set && o(function() {
                new j(1).set({})
            }),
            Mt = function(t, e) {
                var n = p(t);
                if (n < 0 || n % e) throw H("Wrong offset!");
                return n
            },
            Et = function(t) {
                if (_(t) && yt in t) return t;
                throw W(t + " is not a typed array!")
            },
            St = function(t, e) {
                if (!(_(t) && vt in t)) throw W("It is not a typed array constructor!");
                return new t(e)
            },
            Tt = function(t, e) {
                return Lt(D(t, t[gt]), e)
            },
            Lt = function(t, e) {
                for (var n = 0, r = e.length, i = St(t, r); r > n;) i[n] = e[n++];
                return i
            },
            Ct = function(t, e, n) {
                V(t, e, {
                    get: function() {
                        return this._d[n]
                    }
                })
            },
            Pt = function(t) {
                var e, n, r, i, o, a, s = b(t),
                    u = arguments.length,
                    l = u > 1 ? arguments[1] : void 0,
                    f = void 0 !== l,
                    h = T(s);
                if (void 0 != h && !w(h)) {
                    for (a = h.call(s), r = [], e = 0; !(o = a.next()).done; e++) r.push(o.value);
                    s = r
                }
                for (f && u > 2 && (l = c(l, arguments[2], 2)), e = 0, n = m(s.length), i = St(this, n); n > e; e++) i[e] = f ? l(s[e], e) : s[e];
                return i
            },
            Rt = function() {
                for (var t = 0, e = arguments.length, n = St(this, e); e > t;) n[t] = arguments[t++];
                return n
            },
            Dt = !!j && o(function() {
                dt.call(new j(1))
            }),
            Ot = function() {
                return dt.apply(Dt ? ft.call(Et(this)) : Et(this), arguments)
            },
            It = {
                copyWithin: function(t, e) {
                    return F.call(Et(this), t, e, arguments.length > 2 ? arguments[2] : void 0)
                },
                every: function(t) {
                    return K(Et(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                fill: function(t) {
                    return k.apply(Et(this), arguments)
                },
                filter: function(t) {
                    return Tt(this, Z(Et(this), t, arguments.length > 1 ? arguments[1] : void 0))
                },
                find: function(t) {
                    return $(Et(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                findIndex: function(t) {
                    return tt(Et(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                forEach: function(t) {
                    Y(Et(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                indexOf: function(t) {
                    return nt(Et(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                includes: function(t) {
                    return et(Et(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                join: function(t) {
                    return ct.apply(Et(this), arguments)
                },
                lastIndexOf: function(t) {
                    return at.apply(Et(this), arguments)
                },
                map: function(t) {
                    return _t(Et(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                reduce: function(t) {
                    return st.apply(Et(this), arguments)
                },
                reduceRight: function(t) {
                    return ut.apply(Et(this), arguments)
                },
                reverse: function() {
                    for (var t, e = this, n = Et(e).length, r = Math.floor(n / 2), i = 0; i < r;) t = e[i], e[i++] = e[--n], e[n] = t;
                    return e
                },
                some: function(t) {
                    return J(Et(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                sort: function(t) {
                    return lt.call(Et(this), t)
                },
                subarray: function(t, e) {
                    var n = Et(this),
                        r = n.length,
                        i = g(t, r);
                    return new(D(n, n[gt]))(n.buffer, n.byteOffset + i * n.BYTES_PER_ELEMENT, m((void 0 === e ? r : g(e, r)) - i))
                }
            },
            Bt = function(t, e) {
                return Tt(this, ft.call(Et(this), t, e))
            },
            Nt = function(t) {
                Et(this);
                var e = Mt(arguments[1], 1),
                    n = this.length,
                    r = b(t),
                    i = m(r.length),
                    o = 0;
                if (i + e > n) throw H("Wrong length!");
                for (; o < i;) this[e + o] = r[o++]
            },
            kt = {
                entries: function() {
                    return ot.call(Et(this))
                },
                keys: function() {
                    return it.call(Et(this))
                },
                values: function() {
                    return rt.call(Et(this))
                }
            },
            Ft = function(t, e) {
                return _(t) && t[yt] && "symbol" != typeof e && e in t && String(+e) == String(e)
            },
            Ut = function(t, e) {
                return Ft(t, e = A(e, !0)) ? f(2, t[e]) : G(t, e)
            },
            zt = function(t, e, n) {
                return !(Ft(t, e = A(e, !0)) && _(n) && y(n, "value")) || y(n, "get") || y(n, "set") || n.configurable || y(n, "writable") && !n.writable || y(n, "enumerable") && !n.enumerable ? V(t, e, n) : (t[e] = n.value, t)
            };
        At || (z.f = Ut, U.f = zt), a(a.S + a.F * !At, "Object", {
            getOwnPropertyDescriptor: Ut,
            defineProperty: zt
        }), o(function() {
            ht.call({})
        }) && (ht = dt = function() {
            return ct.call(this)
        });
        var Vt = d({}, It);
        d(Vt, kt), h(Vt, pt, kt.values), d(Vt, {
            slice: Bt,
            set: Nt,
            constructor: function() {},
            toString: ht,
            toLocaleString: Ot
        }), Ct(Vt, "buffer", "b"), Ct(Vt, "byteOffset", "o"), Ct(Vt, "byteLength", "l"), Ct(Vt, "length", "e"), V(Vt, mt, {
            get: function() {
                return this[yt]
            }
        }), t.exports = function(t, e, n, u) {
            u = !!u;
            var c = t + (u ? "Clamped" : "") + "Array",
                f = "get" + t,
                d = "set" + t,
                p = i[c],
                g = p || {},
                A = p && E(p),
                y = !p || !s.ABV,
                b = {},
                w = p && p.prototype,
                T = function(t, n) {
                    var r = t._d;
                    return r.v[f](n * e + r.o, bt)
                },
                L = function(t, n, r) {
                    var i = t._d;
                    u && (r = (r = Math.round(r)) < 0 ? 0 : r > 255 ? 255 : 255 & r), i.v[d](n * e + i.o, r, bt)
                },
                C = function(t, e) {
                    V(t, e, {
                        get: function() {
                            return T(this, e)
                        },
                        set: function(t) {
                            return L(this, e, t)
                        },
                        enumerable: !0
                    })
                };
            y ? (p = n(function(t, n, r, i) {
                l(t, p, c, "_d");
                var o, a, s, u, f = 0,
                    d = 0;
                if (_(n)) {
                    if (!(n instanceof q || "ArrayBuffer" == (u = x(n)) || "SharedArrayBuffer" == u)) return yt in n ? Lt(p, n) : Pt.call(p, n);
                    o = n, d = Mt(r, e);
                    var g = n.byteLength;
                    if (void 0 === i) {
                        if (g % e) throw H("Wrong length!");
                        if ((a = g - d) < 0) throw H("Wrong length!")
                    } else if ((a = m(i) * e) + d > g) throw H("Wrong length!");
                    s = a / e
                } else s = v(n), a = s * e, o = new q(a);
                for (h(t, "_d", {
                        b: o,
                        o: d,
                        l: a,
                        e: s,
                        v: new X(o)
                    }); f < s;) C(t, f++)
            }), w = p.prototype = M(Vt), h(w, "constructor", p)) : o(function() {
                p(1)
            }) && o(function() {
                new p(-1)
            }) && B(function(t) {
                new p, new p(null), new p(1.5), new p(t)
            }, !0) || (p = n(function(t, n, r, i) {
                l(t, p, c);
                var o;
                return _(n) ? n instanceof q || "ArrayBuffer" == (o = x(n)) || "SharedArrayBuffer" == o ? void 0 !== i ? new g(n, Mt(r, e), i) : void 0 !== r ? new g(n, Mt(r, e)) : new g(n) : yt in n ? Lt(p, n) : Pt.call(p, n) : new g(v(n))
            }), Y(A !== Function.prototype ? S(g).concat(S(A)) : S(g), function(t) {
                t in p || h(p, t, g[t])
            }), p.prototype = w, r || (w.constructor = p));
            var P = w[pt],
                R = !!P && ("values" == P.name || void 0 == P.name),
                D = kt.values;
            h(p, vt, !0), h(w, yt, c), h(w, xt, !0), h(w, gt, p), (u ? new p(1)[mt] == c : mt in w) || V(w, mt, {
                get: function() {
                    return c
                }
            }), b[c] = p, a(a.G + a.W + a.F * (p != g), b), a(a.S, c, {
                BYTES_PER_ELEMENT: e
            }), a(a.S + a.F * o(function() {
                g.of.call(p, 1)
            }), c, {
                from: Pt,
                of: Rt
            }), "BYTES_PER_ELEMENT" in w || h(w, "BYTES_PER_ELEMENT", e), a(a.P, c, It), N(c), a(a.P + a.F * wt, c, {
                set: Nt
            }), a(a.P + a.F * !R, c, kt), r || w.toString == ht || (w.toString = ht), a(a.P + a.F * o(function() {
                new p(1).slice()
            }), c, {
                slice: Bt
            }), a(a.P + a.F * (o(function() {
                return [1, 2].toLocaleString() != new p([1, 2]).toLocaleString()
            }) || !o(function() {
                w.toLocaleString.call([1, 2])
            })), c, {
                toLocaleString: Ot
            }), I[c] = R ? P : D, r || R || h(w, pt, D)
        }
    } else t.exports = function() {}
}, function(t, e, n) {
    var r = n(219),
        i = n(0),
        o = n(104)("metadata"),
        a = o.store || (o.store = new(n(222))),
        s = function(t, e, n) {
            var i = a.get(t);
            if (!i) {
                if (!n) return;
                a.set(t, i = new r)
            }
            var o = i.get(e);
            if (!o) {
                if (!n) return;
                i.set(e, o = new r)
            }
            return o
        },
        u = function(t, e, n) {
            var r = s(e, n, !1);
            return void 0 !== r && r.has(t)
        },
        c = function(t, e, n) {
            var r = s(e, n, !1);
            return void 0 === r ? void 0 : r.get(t)
        },
        l = function(t, e, n, r) {
            s(n, r, !0).set(t, e)
        },
        f = function(t, e) {
            var n = s(t, e, !1),
                r = [];
            return n && n.forEach(function(t, e) {
                r.push(e)
            }), r
        },
        h = function(t) {
            return void 0 === t || "symbol" == typeof t ? t : String(t)
        },
        d = function(t) {
            i(i.S, "Reflect", t)
        };
    t.exports = {
        store: a,
        map: s,
        has: u,
        get: c,
        set: l,
        keys: f,
        key: h,
        exp: d
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 53');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0, e.worldToScreen = e.loadModel = e.setIdentityMatrix = e.set180RotationMatrix = e.createInstancedMesh = e.tempColor = e.tempQuaternion2 = e.tempQuaternion = e.tempVector = void 0;
    var i = n(22),
        o = r(i),
        a = n(20),
        s = r(a),
        u = n(23),
        c = r(u),
        l = n(18),
        f = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(l),
        h = n(55),
        d = r(h);
    n(523)(f);
    var p = new f.Vector3,
        m = new f.Quaternion,
        v = new f.Quaternion,
        g = new f.Color,
        A = new f.MeshLambertMaterial,
        y = e.tempVector = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
            return p.set(t, e, n)
        },
        x = (e.tempQuaternion = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
            return m.set(t, e, n, r)
        }, e.tempQuaternion2 = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
            return v.set(t, e, n, r)
        }, e.tempColor = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
            return g.set(t, e, n)
        }, e.createInstancedMesh = function(t) {
            for (var e = t.count, n = t.geometry, r = t.material, i = void 0 === r ? A : r, o = t.name, a = new f.InstancedMesh(n, i, e, !0, !0, !0), s = 0; s < e; s++) a.setScaleAt(s, y(1, 1, 1)), a.setPositionAt(s, y(0, 0, 0));
            return a.visible = !0, a.castShadow = !1, a.receiveShadow = !1, a.geometry.maxInstancedCount = 0, a.name = o, a
        }, (new f.Matrix4).makeRotationAxis(new f.Vector3(0, 1, 0).normalize(), Math.PI)),
        _ = new f.Matrix4,
        b = (e.set180RotationMatrix = function(t) {
            t.matrix.copy(x)
        }, e.setIdentityMatrix = function(t) {
            t.matrix.copy(_)
        }, e.loadModel = function() {
            var t = (0, c.default)(o.default.mark(function t(e) {
                var n, r, i, a = e[0],
                    u = e[1],
                    c = e[2];
                return o.default.wrap(function(t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, s.default.all([b(a), u ? w(u) : null]);
                        case 2:
                            return n = t.sent, r = n[0], i = n[1], r.material = new f.MeshLambertMaterial({
                                side: c ? f.DoubleSide : f.FrontSide
                            }), i && (r.material.map = i), t.abrupt("return", r);
                        case 8:
                        case "end":
                            return t.stop()
                    }
                }, t, void 0)
            }));
            return function(e) {
                return t.apply(this, arguments)
            }
        }(), e.worldToScreen = function(t, e) {
            return p.copy(e).project(t), p.x = (p.x + 1) * (.5 * d.default.width), p.y = (1 - p.y) * (.5 * d.default.height), p
        }, function(t) {
            return new s.default(function(e, n) {
                (new f.OBJLoader).load(t, function(t) {
                    return e(t.children[0])
                }, function() {}, n)
            })
        }),
        w = function(t) {
            return new s.default(function(e, n) {
                (new f.TextureLoader).load(t, e, function() {}, n)
            })
        }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 54');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(34),
        o = r(i),
        a = n(86),
        s = r(a),
        u = (0, o.default)((0, s.default)(), {
            width: window.innerWidth,
            height: window.innerHeight
        });
    u.aspectRatio = u.width / u.height, window.addEventListener("resize", function() {
        window.setTimeout(function() {
            var t = u.width = window.innerWidth,
                e = u.height = window.innerHeight;
            u.aspectRatio = t / e, u.emit("resize", u)
        }, 500)
    }), e.default = u
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 55');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(34),
        o = r(i),
        a = n(10),
        s = r(a),
        u = n(54),
        c = s.default.roomWidth,
        l = s.default.roomHeight,
        f = s.default.roomDepth,
        h = s.default.roomOffset,
        d = {
            type: "PLANE",
            timeline: !1,
            megagrid: !0
        },
        p = {
            type: "PLANE",
            megagrid: !0
        },
        m = {
            type: "EMPTY"
        },
        v = {
            type: "HORIZONTAL",
            room: !0
        },
        g = (0, o.default)({
            frontWall: !0
        }, v),
        A = (0, o.default)({
            backWall: !0
        }, v),
        y = [
            [0, 0, -3, m],
            [0, 0, -2, m],
            [0, 0, -1, m],
            [0, 0, 0, g],
            [0, 0, 1, v],
            [0, 0, 2, v],
            [0, 0, 3, v],
            [0, 0, 4, v],
            [0, 0, 5, v],
            [0, 0, 6, v],
            [0, 0, 7, v],
            [0, 0, 8, v],
            [0, 0, 9, v],
            [0, 0, 10, v],
            [0, 0, 11, v],
            [0, 0, 12, v],
            [0, 0, 13, v],
            [0, 0, 14, v],
            [0, 0, 15, v],
            [0, 0, 16, v],
            [0, 0, 17, v],
            [0, 0, 18, A],
            [-3, 0, 19, d, 3],
            [-2, 0, 19, d, 4],
            [-1, 0, 19, d, 5],
            [0, 0, 19, p, 8],
            [1, 0, 19, d, 5],
            [2, 0, 19, d, 4],
            [3, 0, 19, d, 3],
            [-3, 0, 20, d, 2],
            [-2, 0, 20, d, 3],
            [-1, 0, 20, d, 2],
            [0, 0, 20, p, 1],
            [1, 0, 20, d, 2],
            [2, 0, 20, d, 3],
            [3, 0, 20, d, 2],
            [-3, 0, 21, d, 3],
            [-2, 0, 21, d, 6],
            [-1, 0, 21, d, 1],
            [0, 0, 21, p, 0],
            [1, 0, 21, d, 1],
            [2, 0, 21, d, 6],
            [3, 0, 21, d, 3],
            [-3, 0, 22, d, 5],
            [-2, 0, 22, d, 2],
            [-1, 0, 22, d, 3],
            [0, 0, 22, p, 6],
            [1, 0, 22, d, 3],
            [2, 0, 22, d, 2],
            [3, 0, 22, d, 5],
            [-3, 0, 23, d, 4],
            [-2, 0, 23, d, 3],
            [-1, 0, 23, d, 2],
            [0, 0, 23, p, 3],
            [1, 0, 23, d, 3],
            [2, 0, 23, d, 3],
            [3, 0, 23, d, 4],
            [-3, 0, 24, d, 3],
            [-2, 0, 24, d, 4],
            [-1, 0, 24, d, 4],
            [0, 0, 24, p, 2],
            [1, 0, 24, d, 4],
            [2, 0, 24, d, 4],
            [3, 0, 24, d, 3],
            [-3, 0, 25, d, 6],
            [-2, 0, 25, d, 5],
            [-1, 0, 25, d, 5],
            [0, 0, 25, p, 4],
            [1, 0, 25, d, 5],
            [2, 0, 25, d, 5],
            [3, 0, 25, d, 6],
            [-2, 0, 26, d, 5],
            [-1, 0, 26, d, 6],
            [0, 0, 26, p, 4],
            [1, 0, 26, d, 6],
            [2, 0, 26, d, 5],
            [-1, 0, 27, d, 6],
            [0, 0, 27, p, 5],
            [1, 0, 27, d, 6],
            [0, 0, 28, m],
            [0, 0, 29, m],
            [0, 0, 30, m],
            [0, 0, 31, m],
            [0, 0, 32, m]
        ],
        x = y.filter(function(t) {
            return "EMPTY" !== t[3].type
        }),
        _ = y.filter(function(t) {
            return !1 !== t[3].timeline
        }),
        b = x.filter(function(t) {
            return !t[3].megagrid
        }),
        w = function(t) {
            return x[t][3]
        };
    e.default = {
        getPosition: function(t, e, n) {
            var r = 0,
                i = 0,
                o = 0;
            if (n) o = h;
            else {
                var a = Math.floor(t),
                    s = Math.ceil(t),
                    d = t % 1,
                    p = e ? x : _,
                    m = p[a],
                    v = m[0],
                    g = m[1],
                    A = m[2],
                    y = p[s],
                    b = y[0],
                    w = y[1],
                    M = y[2];
                r = (v + (b - v) * d) * c, i = (g + (w - g) * d) * l, o = (A + (M - A) * d) * (f + 1e-4) + h
            }
            return e ? e.set(r, i, o) : (0, u.tempVector)(r, i, o)
        },
        hasFrontWall: function(t) {
            return !!w(t).frontWall
        },
        hasBackWall: function(t) {
            return !!w(t).backWall
        },
        hasRoom: function(t) {
            return !!w(t).room
        },
        isEven: function(t) {
            return x[t][2] % 2 == 0
        },
        insideMegaGrid: function(t) {
            return !!w(t).megagrid
        },
        getSynthIndex: function(t) {
            var e = x[t][4];
            return void 0 === e ? 3 : e
        },
        playlistIndexToMegaGridIndex: function(t) {
            return x.indexOf(b[t])
        },
        getPlaylistIndex: function(t) {
            return b.indexOf(x[t])
        },
        getRoom: function(t) {
            return x[t]
        },
        roomCount: x.length
    }
}, function(t, e, n) {
    console.log('--------------------------------run 56');

    var r = n(49),
        i = n(185),
        o = n(132),
        a = Object.defineProperty;
    e.f = n(51) ? Object.defineProperty : function(t, e, n) {
        if (r(t), e = o(e, !0), r(n), i) try {
            return a(t, e, n)
        } catch (t) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
        return "value" in n && (t[e] = n.value), t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 57');

    var r = n(66)("meta"),
        i = n(9),
        o = n(29),
        a = n(15).f,
        s = 0,
        u = Object.isExtensible || function() {
            return !0
        },
        c = !n(8)(function() {
            return u(Object.preventExtensions({}))
        }),
        l = function(t) {
            a(t, r, {
                value: {
                    i: "O" + ++s,
                    w: {}
                }
            })
        },
        f = function(t, e) {
            if (!i(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
            if (!o(t, r)) {
                if (!u(t)) return "F";
                if (!e) return "E";
                l(t)
            }
            return t[r].i
        },
        h = function(t, e) {
            if (!o(t, r)) {
                if (!u(t)) return !0;
                if (!e) return !1;
                l(t)
            }
            return t[r].w
        },
        d = function(t) {
            return c && p.NEED && u(t) && !o(t, r) && l(t), t
        },
        p = t.exports = {
            KEY: r,
            NEED: !1,
            fastKey: f,
            getWeak: h,
            onFreeze: d
        }
}, function(t, e, n) {
    console.log('--------------------------------run 58');

    var r = n(12)("unscopables"),
        i = Array.prototype;
    void 0 == i[r] && n(30)(i, r, {}), t.exports = function(t) {
        i[r][t] = !0
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 59');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = (r(i), n(22)),
        a = r(o),
        s = n(23),
        u = r(s),
        c = n(174),
        l = r(c),
        f = n(175),
        h = r(f),
        d = n(6),
        p = r(d),
        m = n(98),
        v = r(m),
        g = n(18),
        A = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(g),
        y = n(48),
        x = n(237),
        _ = r(x),
        b = n(61),
        w = r(b),
        M = n(10),
        E = r(M),
        S = n(76),
        T = n(242),
        L = r(T),
        C = (0, l.default)(),
        P = 0,
        R = void 0,
        D = void 0,
        O = void 0,
        I = 0,
        B = !1,
        N = !1,
        k = void 0,
        F = void 0,
        U = void 0,
        z = void 0,
        V = void 0,
        G = function(t) {
            I += t, k.mesh.position.y = Math.sin(2 * I) / 4 + 2;
            var e = z.copy(U);
            e.applyQuaternion(p.default.camera.quaternion);
            var n = V.copy(F).multiplyScalar(e.dot(F));
            e.sub(n), e.normalize(), O.quaternion.setFromUnitVectors(U, e), O.position.copy(p.default.camera.position)
        },
        H = function() {
            var t = (0, u.default)(a.default.mark(function t(e) {
                var n;
                return a.default.wrap(function(t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return N ? k.fadeOut() : p.default.insideTransition = !0, B = !0, e || (P += 1), n = P, t.next = 7, C(p.default.renderScene.fog, {
                                near: .01,
                                ease: "easeInCubic",
                                duration: 1
                            }).promise;
                        case 7:
                            if (D.updateLabel(""), n === P) {
                                t.next = 10;
                                break
                            }
                            return t.abrupt("return");
                        case 10:
                            return t.next = 12, C(p.default.renderScene.fog, {
                                near: .01,
                                far: .01,
                                ease: "easeOutCubic",
                                duration: 1
                            }).promise;
                        case 12:
                        case "end":
                            return t.stop()
                    }
                }, t, void 0)
            }));
            return function(e) {
                return t.apply(this, arguments)
            }
        }(),
        W = function() {
            var t = (0, u.default)(a.default.mark(function t(e) {
                var n;
                return a.default.wrap(function(t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return B = !1, n = e + E.default.roomDepth, t.next = 5, C(p.default.renderScene.fog, {
                                far: Math.min(e, j),
                                ease: "easeInCubic",
                                duration: 1
                            }).promise;
                        case 5:
                            return t.next = 7, C(p.default.renderScene.fog, {
                                near: e,
                                far: n,
                                ease: "easeOutCubic",
                                duration: 1
                            }).promise;
                        case 7:
                        case "end":
                            return t.stop()
                    }
                }, t, void 0)
            }));
            return function(e) {
                return t.apply(this, arguments)
            }
        }(),
        j = 15,
        Q = {
            prepare: function() {
                R = new A.Scene;
                var t = w.default.SDFText.creator();
                D = t.create("", {
                    wrapWidth: 4e3,
                    scale: 7,
                    align: "center",
                    color: y.textColor.getHex()
                }), O = new A.Object3D, O.add(D), D.position.z = -12, D.position.y = .25, R.add(O), R.add(v.default.grid);
                var e = new A.Mesh(new A.BoxGeometry(0, 0, 0), new A.MeshBasicMaterial({
                    map: (new A.TextureLoader).load(_.default)
                }));
                e.frustumCulled = !1, R.add(e), k = new h.default(R), F = new A.Vector3(0, 1, 0), U = new A.Vector3(0, 0, 1), z = new A.Vector3, V = new A.Vector3
            },
            fadeOut: H,
            isInside: function() {
                return N
            },
            isFadedOut: function() {
                return B
            },
            enter: function() {
                var t = this,
                    e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return (0, u.default)(a.default.mark(function n() {
                    var r, i;
                    return a.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (p.default.insideTransition = !0, r = Date.now(), P += 1, i = P, B) {
                                    t.next = 9;
                                    break
                                }
                                return t.next = 9, H(!0);
                            case 9:
                                if (N = !0, k.fadeIn(), k.mesh.position.set(0, 0, -8), k.mesh.scale.set(2, 2, 2), i === P) {
                                    t.next = 16;
                                    break
                                }
                                return t.abrupt("return");
                            case 16:
                                return p.default.renderScene = R, R.fog = new A.Fog(y.backgroundColor, 0, 0), R.fog.useZDepth = !0, p.default.on("tick", G), D.updateLabel(e.text), t.next = 23, W(j);
                            case 23:
                                if (!e.duration) {
                                    t.next = 26;
                                    break
                                }
                                return t.next = 26, (0, S.sleep)(Math.max(0, e.duration - (Date.now() - r)));
                            case 26:
                            case "end":
                                return t.stop()
                        }
                    }, n, t)
                }))()
            },
            exit: function() {
                var t = this;
                return (0, u.default)(a.default.mark(function e() {
                    var n, r;
                    return a.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (N) {
                                    t.next = 4;
                                    break
                                }
                                return t.abrupt("return");
                            case 4:
                                if (P += 1, n = P, B) {
                                    t.next = 10;
                                    break
                                }
                                return t.next = 10, H(!0);
                            case 10:
                                if (Q.reset(!0), n !== P) {
                                    t.next = 17;
                                    break
                                }
                                return r = E.default.maxCullDistance, L.default.setDistance(r), t.next = 17, W(r);
                            case 17:
                                p.default.insideTransition = !1;
                            case 18:
                            case "end":
                                return t.stop()
                        }
                    }, e, t)
                }))()
            },
            reset: function(t) {
                t || (P += 1), N = !1, B = !1, p.default.off("tick", G), p.default.renderScene = p.default.scene, N = !1, t || (p.default.insideTransition = !1)
            }
        };
    e.default = Q
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 60');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(20),
        o = r(i),
        a = n(13),
        s = r(a),
        u = [{
            test: function() {
                return s.default.hasVR
            },
            prepare: function() {
                return new o.default(function(t) {
                    n.e(2).then(function(e) {
                        c.SDFText = n(732), c.controllers = n(733).default, t()
                    }.bind(null, n)).catch(n.oe)
                })
            }
        }],
        c = {
            prepare: function() {
                return o.default.all(u.filter(function(t) {
                    return t.test()
                }).map(function(t) {
                    return t.prepare()
                }))
            }
        };
    e.default = c
}, function(t, e, n) {
    var r = n(57),
        i = n(101);
    t.exports = n(51) ? function(t, e, n) {
        return r.f(t, e, i(1, n))
    } : function(t, e, n) {
        return t[e] = n, t
    }
}, function(t, e) {
    var n = {}.hasOwnProperty;
    t.exports = function(t, e) {
        return n.call(t, e)
    }
}, function(t, e, n) {
    var r = n(189),
        i = n(130);
    t.exports = function(t) {
        return r(i(t))
    }
}, function(t, e) {
    t.exports = function(t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}, function(t, e) {
    var n = 0,
        r = Math.random();
    t.exports = function(t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++n + r).toString(36))
    }
}, function(t, e) {
    t.exports = !1
}, function(t, e, n) {
    var r = n(200),
        i = n(142);
    t.exports = Object.keys || function(t) {
        return r(t, i)
    }
}, function(t, e, n) {
    var r = n(45),
        i = Math.max,
        o = Math.min;
    t.exports = function(t, e) {
        return t = r(t), t < 0 ? i(t + e, 0) : o(t, e)
    }
}, function(t, e, n) {
    var r = n(5),
        i = n(201),
        o = n(142),
        a = n(141)("IE_PROTO"),
        s = function() {},
        u = function() {
            var t, e = n(139)("iframe"),
                r = o.length;
            for (e.style.display = "none", n(143).appendChild(e), e.src = "javascript:", t = e.contentWindow.document, t.open(), t.write("<script>document.F=Object<\/script>"), t.close(), u = t.F; r--;) delete u.prototype[o[r]];
            return u()
        };
    t.exports = Object.create || function(t, e) {
        var n;
        return null !== t ? (s.prototype = r(t), n = new s, s.prototype = null, n[a] = t) : n = u(), void 0 === e ? n : i(n, e)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 61');

    var r = n(200),
        i = n(142).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function(t) {
        return r(t, i)
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 62');

    var r = n(7),
        i = n(15),
        o = n(14),
        a = n(12)("species");
    t.exports = function(t) {
        var e = r[t];
        o && e && !e[a] && i.f(e, a, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}, function(t, e) {
    console.log('--------------------------------run 63');

    t.exports = function(t, e, n, r) {
        if (!(t instanceof e) || void 0 !== r && r in t) throw TypeError(n + ": incorrect invocation!");
        return t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 64');

    var r = n(38),
        i = n(212),
        o = n(155),
        a = n(5),
        s = n(16),
        u = n(157),
        c = {},
        l = {},
        e = t.exports = function(t, e, n, f, h) {
            var d, p, m, v, g = h ? function() {
                    return t
                } : u(t),
                A = r(n, f, e ? 2 : 1),
                y = 0;
            if ("function" != typeof g) throw TypeError(t + " is not iterable!");
            if (o(g)) {
                for (d = s(t.length); d > y; y++)
                    if ((v = e ? A(a(p = t[y])[0], p[1]) : A(t[y])) === c || v === l) return v
            } else
                for (m = g.call(t); !(p = m.next()).done;)
                    if ((v = i(m, A, p.value, e)) === c || v === l) return v
        };
    e.BREAK = c, e.RETURN = l
}, function(t, e, n) {
    console.log('--------------------------------run 65');

    var r = n(31);
    t.exports = function(t, e, n) {
        for (var i in e) r(t, i, e[i], n);
        return t
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 66');

    e.__esModule = !0, e.sleep = void 0;
    var r = n(20),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.sleep = function(t) {
        return new i.default(function(e) {
            return setTimeout(e, t)
        })
    }
}, function(t, e, n) {
    console.log('--------------------------------run 67');

    var r, i;
    /*!
      Copyright (c) 2016 Jed Watson.
      Licensed under the MIT License (MIT), see
      http://jedwatson.github.io/classnames
    */
    ! function() {
        "use strict";

        console.log('--------------------------------run 68');

        function n() {
            for (var t = [], e = 0; e < arguments.length; e++) {
                var r = arguments[e];
                if (r) {
                    var i = typeof r;
                    if ("string" === i || "number" === i) t.push(r);
                    else if (Array.isArray(r)) t.push(n.apply(null, r));
                    else if ("object" === i)
                        for (var a in r) o.call(r, a) && r[a] && t.push(a)
                }
            }
            return t.join(" ")
        }
        var o = {}.hasOwnProperty;
        void 0 !== t && t.exports ? t.exports = n : (r = [], void 0 !== (i = function() {
            return n
        }.apply(e, r)) && (t.exports = i))
    }()
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 69');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(13),
        o = r(i),
        a = n(251),
        s = r(a);
    ! function(t, e, n, r, i, o, a) {
        t.GoogleAnalyticsObject = i, t[i] = t[i] || function() {
            (t[i].q = t[i].q || []).push(arguments)
        }, t[i].l = 1 * new Date, o = e.createElement(n), a = e.getElementsByTagName(n)[0], o.async = 1, o.src = "https://www.google-analytics.com/analytics.js", a.parentNode.insertBefore(o, a)
    }(window, document, "script", 0, "ga"), window.ga("create", "UA-101720844-1", "auto"), window.ga("send", "pageview");
    var u = {
        record: function(t) {
            if (void 0 !== window.ga && "function" == typeof window.ga) {
                var e = function() {
                    window.ga("send", t)
                };
                "requestIdleCallback" in window ? window.requestIdleCallback(e) : e()
            }
        },
        recordOutboundLink: function(t) {
            var e = t.getAttribute("href");
            if (void 0 !== window.ga && "function" == typeof window.ga) {
                var n = function() {
                    window.ga("send", "event", "outbound", "click", e, {
                        transport: "beacon",
                        hitCallback: function() {}
                    })
                };
                "requestIdleCallback" in window ? window.requestIdleCallback(n) : n()
            }
            return !0
        },
        recordSectionChange: function(t) {
            var e = (0, s.default)(t);
            if (void 0 !== window.ga && "function" == typeof window.ga) {
                var n = function() {
                    window.ga("set", {
                        page: document.location.href,
                        title: e
                    }), window.ga("send", "pageview")
                };
                "requestIdleCallback" in window ? window.requestIdleCallback(n) : n()
            }
        },
        countables: {},
        recordCountable: function(t) {
            "number" != typeof u.countables[t] && (u.countables[t] = 0), u.countables[t]++, u.record({
                hitType: "event",
                eventCategory: "Countables",
                eventAction: t,
                eventValue: u.countables[t],
                nonInteraction: !0
            })
        },
        timeables: {},
        recordTimeableStart: function(t) {
            u.timeables[t] = Date.now()
        },
        recordTimeableStop: function(t) {
            if ("number" == typeof u.timeables[t]) {
                var e = Math.round((Date.now() - u.timeables[t]) / 1e3);
                u.record({
                    hitType: "event",
                    eventCategory: "Timeables",
                    eventAction: t,
                    eventValue: e,
                    nonInteraction: !0
                })
            }
        },
        recordVREntryAttempt: function() {
            u.record({
                hitType: "event",
                eventCategory: "VR Session",
                eventAction: "VR Entry",
                eventLabel: "VR entry attempted"
            })
        },
        recordVRExitAttempt: function() {
            u.record({
                hitType: "event",
                eventCategory: "VR Session",
                eventAction: "VR Exit",
                eventLabel: "VR exit attempted"
            })
        },
        recordOrbSelectStart: function() {
            u.orbSelectBeganAt = Date.now()
        },
        recordOrbSelectStop: function() {
            var t = 0;
            "number" == typeof u.orbSelectBeganAt && (t = Math.round((Date.now() - u.orbSelectBeganAt) / 1e3)), u.record({
                hitType: "event",
                eventCategory: "Playback Session",
                eventAction: "Milestones",
                eventLabel: "Orb select",
                eventValue: t,
                nonInteraction: !0
            })
        },
        recordHeadSelectStart: function() {
            u.headSelectBeganAt = Date.now()
        },
        recordHeadSelectStop: function() {
            var t = 0;
            "number" == typeof u.headSelectBeganAt && (t = Math.round((Date.now() - u.headSelectBeganAt) / 1e3)), u.record({
                hitType: "event",
                eventCategory: "Playback Session",
                eventAction: "Milestones",
                eventLabel: "Head select",
                eventValue: t,
                nonInteraction: !0
            })
        },
        mount: function() {
            o.default.hasWebGL ? u.record({
                hitType: "event",
                eventCategory: "Capabilities",
                eventAction: "WebGL Detect",
                eventLabel: "WebGL is present",
                nonInteraction: !0
            }) : u.record({
                hitType: "event",
                eventCategory: "Capabilities",
                eventAction: "WebGL Detect",
                eventLabel: "WebGL is absent",
                nonInteraction: !0
            }), o.default.hasWebVR ? u.record({
                hitType: "event",
                eventCategory: "Capabilities",
                eventAction: "WebVR API Detect",
                eventLabel: "WebVR API is present",
                nonInteraction: !0
            }) : u.record({
                hitType: "event",
                eventCategory: "Capabilities",
                eventAction: "WebVR API Detect",
                eventLabel: "WebVR API is absent",
                nonInteraction: !0
            }), o.default.vrDisplays ? u.record({
                hitType: "event",
                eventCategory: "Capabilities",
                eventAction: "VR Displays Detect",
                eventLabel: "VR Displays are present",
                eventValue: o.default.vrDisplays,
                nonInteraction: !0
            }) : u.record({
                hitType: "event",
                eventCategory: "Capabilities",
                eventAction: "VR Displays Detect",
                eventLabel: "VR Displays are absent",
                nonInteraction: !0
            }), o.default.vrDisplay && u.record({
                hitType: "event",
                eventCategory: "Capabilities",
                eventAction: "VR Device String",
                eventLabel: o.default.vrDisplay.displayName,
                nonInteraction: !0
            }), o.default.vrDisplay && function() {
                var t = {
                    hitType: "event",
                    eventCategory: "Capabilities",
                    eventAction: "VR Device Bucket",
                    nonInteraction: !0
                };
                o.default.isVive ? t.eventLabel = "HTC Vive" : o.default.isOculus ? t.eventLabel = "Oculus" : o.default.isSamsungGearVR ? t.eventLabel = "Samsung GearVR" : o.default.isDaydream ? t.eventLabel = "Google Daydream" : o.default.isCardboard ? t.eventLabel = "Cardboard (fallback)" : t.eventLabel = "Unknown", u.record(t)
            }(), o.default.vrDisplay && window.addEventListener("vrdisplaypresentchange", function() {
                o.default.vrDisplay.isPresenting ? (u.vrSessionBeganAt = Date.now(), u.record({
                    hitType: "event",
                    eventCategory: "VR Session",
                    eventAction: "VR Entry",
                    eventLabel: "VR entry successful",
                    nonInteraction: !0
                })) : (u.vrSessionEndedAt = Date.now(), u.vrSessionDuration = null, void 0 !== u.vrSessionBeganAt && (u.vrSessionDuration = Math.round((u.vrSessionEndedAt - u.vrSessionBeganAt) / 1e3)), u.record({
                    hitType: "event",
                    eventCategory: "VR Session",
                    eventAction: "VR Exit",
                    eventLabel: "VR exit successful",
                    eventValue: u.vrSessionDuration,
                    nonInteraction: !0
                }))
            }, !1)
        },
        tutorialSkips: 0,
        recordTutorialSkip: function() {
            u.tutorialSkips++, u.record({
                hitType: "event",
                eventCategory: "Dance Session",
                eventAction: "Tutorial",
                eventLabel: "Skip",
                eventValue: u.tutorialSkips,
                nonInteraction: !0
            })
        },
        danceSessionsRecorded: 0,
        recordDanceSessionStart: function() {
            u.danceTimeStart = Date.now()
        },
        recordDanceSessionStop: function(t) {
            if (u.danceSessionsRecorded++, u.record({
                    hitType: "event",
                    eventCategory: "Dance Session",
                    eventAction: "Recording",
                    eventLabel: "Completed",
                    eventValue: u.danceSessionsRecorded,
                    nonInteraction: !0
                }), "number" == typeof u.danceTimeStart) {
                var e = Math.round((Date.now() - u.danceTimeStart) / 1e3);
                u.record({
                    hitType: "event",
                    eventCategory: "Dance Session",
                    eventAction: "Recording",
                    eventLabel: "Duration",
                    eventValue: e,
                    nonInteraction: !0
                })
            }
            "number" == typeof t && u.record({
                hitType: "event",
                eventCategory: "Dance Session",
                eventAction: "Recording",
                eventLabel: "Rounds",
                eventValue: t,
                nonInteraction: !0
            })
        },
        recordDanceSessionSubmit: function() {
            u.record({
                hitType: "event",
                eventCategory: "Dance",
                eventAction: "Recording",
                eventLabel: "Submit",
                nonInteraction: !0
            })
        },
        recordSocialShare: function(t) {
            u.record({
                hitType: "event",
                eventCategory: "Social",
                eventAction: "Share Attempt",
                eventLabel: t,
                nonInteraction: !0
            })
        }
    };
    e.default = u
}, function(t, e) {
    console.log('--------------------------------run 70');

    t.exports = function(t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}, function(t, e, n) {
    console.log('--------------------------------run 71');

    var r = n(188),
        i = n(136);
    t.exports = Object.keys || function(t) {
        return r(t, i)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 72');

    var r = n(15).f,
        i = n(29),
        o = n(12)("toStringTag");
    t.exports = function(t, e, n) {
        t && !i(t = n ? t : t.prototype, o) && r(t, o, {
            configurable: !0,
            value: e
        })
    }
}, function(t, e, n) {
    console.log('--------------------------------run 73');

    var r = n(0),
        i = n(44),
        o = n(8),
        a = n(145),
        s = "[" + a + "]",
        u = "",
        c = RegExp("^" + s + s + "*"),
        l = RegExp(s + s + "*$"),
        f = function(t, e, n) {
            var i = {},
                s = o(function() {
                    return !!a[t]() || u[t]() != u
                }),
                c = i[t] = s ? e(h) : a[t];
            n && (i[n] = c), r(r.P + r.F * s, "String", i)
        },
        h = f.trim = function(t, e) {
            return t = String(i(t)), 1 & e && (t = t.replace(c, "")), 2 & e && (t = t.replace(l, "")), t
        };
    t.exports = f
}, function(t, e) {
    console.log('--------------------------------run 74');

    t.exports = {}
}, function(t, e, n) {
    console.log('--------------------------------run 75');

    var r = n(9);
    t.exports = function(t, e) {
        if (!r(t) || t._t !== e) throw TypeError("Incompatible receiver, " + e + " required!");
        return t
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 76');

    function r(t) {
        var e = t.children;
        return (0, i.h)("div", {
            className: "app-container"
        }, e)
    }
    e.__esModule = !0, e.default = r;
    var i = n(1);
    n(578)
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 77');

    function r(t) {
        return t = t || Object.create(null), {
            on: function(e, n) {
                (t[e] || (t[e] = [])).push(n)
            },
            off: function(e, n) {
                t[e] && t[e].splice(t[e].indexOf(n) >>> 0, 1)
            },
            emit: function(e, n) {
                // console.log('got emit', e);

                (t[e] || []).map(function(t) {
                    t(n)
                }), (t["*"] || []).map(function(t) {
                    t(e, n)
                })
            }
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = r
}, function(t, e, n) {
    console.log('--------------------------------run 78');

    var r = n(100);
    t.exports = function(t, e, n) {
        if (r(t), void 0 === e) return t;
        switch (n) {
            case 1:
                return function(n) {
                    return t.call(e, n)
                };
            case 2:
                return function(n, r) {
                    return t.call(e, n, r)
                };
            case 3:
                return function(n, r, i) {
                    return t.call(e, n, r, i)
                }
        }
        return function() {
            return t.apply(e, arguments)
        }
    }
}, function(t, e) {
    console.log('--------------------------------run 79');

    t.exports = {}
}, function(t, e) {
    console.log('--------------------------------run 80');

    var n = {}.toString;
    t.exports = function(t) {
        return n.call(t).slice(8, -1)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 81');

    var r = n(39);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
        return "String" == r(t) ? t.split("") : Object(t)
    }
}, function(t, e) {
    console.log('--------------------------------run 82');

    e.f = {}.propertyIsEnumerable
}, function(t, e, n) {
    console.log('--------------------------------run 83');

    var r = n(39),
        i = n(12)("toStringTag"),
        o = "Arguments" == r(function() {
            return arguments
        }()),
        a = function(t, e) {
            try {
                return t[e]
            } catch (t) {}
        };
    t.exports = function(t) {
        var e, n, s;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof(n = a(e = Object(t), i)) ? n : o ? r(e) : "Object" == (s = r(e)) && "function" == typeof e.callee ? "Arguments" : s
    }
}, function(t, e) {
    console.log('--------------------------------run 84');

    e.f = {}.propertyIsEnumerable
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 85');

    function r(t) {
        var e = t.children;
        return (0, i.h)("div", {
            className: "cms-error"
        }, e)
    }
    e.__esModule = !0, e.default = r;
    var i = n(1);
    n(579)
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 86');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(23),
        s = r(a),
        u = n(2),
        c = r(u),
        l = n(3),
        f = r(l),
        h = n(4),
        d = r(h),
        p = n(1),
        m = n(11),
        v = r(m),
        g = n(6),
        A = r(g),
        y = n(119),
        x = r(y),
        _ = n(10),
        b = r(_),
        w = n(56),
        M = (r(w), n(13)),
        E = r(M),
        S = n(126),
        T = r(S),
        L = n(26),
        C = r(L),
        P = n(96),
        R = r(P),
        D = n(616),
        O = r(D),
        I = {},
        B = function(t) {
            function e() {
                (0, c.default)(this, e);
                var n = (0, f.default)(this, t.call(this));
                return n.state = {
                    loading: !1
                }, n.performOrbLeftRoom = n.performOrbLeftRoom.bind(n), n.performOrbEnteredRoom = n.performOrbEnteredRoom.bind(n), n.receiveOrb = n.receiveOrb.bind(n), n.tick = n.tick.bind(n), n.onRoomLoaded = n.onRoomLoaded.bind(n), n
            }
            return (0, d.default)(e, t), e.prototype.getChildContext = function() {
                return this.state
            }, e.prototype.componentDidMount = function() {
                this.mounted = !0, this.asyncMount(this.props)
            }, e.prototype.componentWillReceiveProps = function(t, e) {
                var n = e.presenting;
                n === this.context.presenting || n || (A.default.switchCamera("orthographic"), A.default.camera.position.y = 2, A.default.camera.position.z = 1.3, A.default.camera.updateProjectionMatrix(), x.default.rotate180())
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, A.default.camera.position.copy(I.originalCameraPosition), A.default.camera.zoom = I.originalZoom, A.default.camera.updateProjectionMatrix(), v.default.fadeOut(), this.state.room && this.state.room.destroy(), A.default.camera.position.y = 0, A.default.camera.updateProjectionMatrix(), A.default.off("tick", this.tick)
            }, e.prototype.onRoomLoaded = function(t) {
                this.setState({
                    loading: !1
                }), v.default.dim(!0), v.default.play(), t && this.props.onRoomLoadError ? this.props.onRoomLoadError(t) : this.props.onRoomLoaded && this.props.onRoomLoaded(t)
            }, e.prototype.asyncMount = function() {
                function t(t) {
                    return e.apply(this, arguments)
                }
                var e = (0, s.default)(o.default.mark(function t(e) {
                    var n, r = e.roomId,
                        i = e.id,
                        a = e.record,
                        s = e.presenting,
                        u = e.morph,
                        c = e.progressive,
                        l = e.fadeOrbs,
                        f = void 0 === l || l;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return x.default.reset(), I.originalCameraPosition = A.default.camera.position.clone(), I.originalZoom = A.default.camera.zoom, a || s || (A.default.switchCamera("orthographic"), A.default.camera.position.y = 2, A.default.camera.position.z = 1.3, A.default.camera.updateProjectionMatrix(), x.default.rotate180()), this.setState({
                                    loading: !0
                                }), t.next = 7, v.default.load({
                                    src: b.default.assetsURL + "sound/room-" + r + "." + (E.default.isChrome ? "ogg" : "mp3"),
                                    loops: 2,
                                    loopOffset: .5,
                                    progressive: c
                                });
                            case 7:
                                if (this.mounted) {
                                    t.next = 9;
                                    break
                                }
                                return t.abrupt("return");
                            case 9:
                                n = new x.default({
                                    id: i,
                                    index: r - 1,
                                    single: !0,
                                    showFrontWall: !0,
                                    recording: a ? T.default : null,
                                    morph: u
                                }), f && n.changeColorToWaiting(), v.default.pause(), i ? n.load(this.onRoomLoaded) : this.setState({
                                    loading: !1
                                }), this.setState({
                                    room: n
                                }), A.default.on("tick", this.tick);
                            case 15:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.performOrbLeftRoom = function() {
                if (this.state.room) {
                    this.state.room.changeColorToWaiting();
                    var t = this.props.onOrbLeftRoom;
                    t && t()
                }
            }, e.prototype.performOrbEnteredRoom = function() {
                var t = this.state.room;
                if (t) {
                    t.changeColorToRecording();
                    var e = this.props.onOrbEnteredRoom;
                    e && e()
                }
            }, e.prototype.receiveOrb = function(t) {
                this.setState({
                    orb: t
                })
            }, e.prototype.tick = function() {
                var t = this.props.tutorialLayers,
                    e = void 0 !== t ? Math.max(Math.floor(v.default.totalProgress % 6 * .5) + 1, t) : null;
                this.state.room.gotoTime(v.default.time, e, this.props.highlightLast)
            }, e.prototype.render = function(t, e) {
                var n = t.orbs,
                    r = t.fadeOrbs,
                    i = void 0 === r || r,
                    o = e.loading;
                return (0, p.h)("div", null, n && (0, p.h)(O.default, {
                    fade: i,
                    onEnteredRoom: i && this.performOrbEnteredRoom,
                    onLeftRoom: i && this.performOrbLeftRoom,
                    onEarlyLeftRoom: function() {
                        return v.default.dim()
                    },
                    onEarlyEnteredRoom: function() {
                        return v.default.undim()
                    },
                    onCreatedOrb: this.receiveOrb,
                    reversed: this.props.reverseOrbs
                }), (0, p.h)(C.default, {
                    type: "center"
                }, o && (0, p.h)(R.default, null)), this.props.children)
            }, e
        }(p.Component);
    e.default = B
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 87');

    function r(t) {
        var e = t.text;
        return (0, i.h)("div", {
            className: "spinner"
        }, (0, i.h)("div", {
            className: "spinner-inner spinner-inner-negative"
        }), (0, i.h)("div", {
            className: "spinner-inner"
        }), e ? (0, i.h)("div", {
            className: "spinner-text"
        }, e) : null)
    }
    e.__esModule = !0, e.default = r;
    var i = n(1);
    n(615)
}, function(t, e) {
    console.log('--------------------------------run 88');

    var n;
    n = function() {
        return this
    }();
    try {
        n = n || Function("return this")() || (0, eval)("this")
    } catch (t) {
        "object" == typeof window && (n = window)
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 89');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(168),
        o = r(i),
        a = n(20),
        s = r(a),
        u = n(18),
        c = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(u),
        l = n(54),
        f = n(10),
        h = r(f),
        d = n(13),
        p = r(d),
        m = n(48),
        v = n(524),
        g = r(v),
        A = n(525),
        y = r(A),
        x = n(526),
        _ = r(x),
        b = n(527),
        w = r(b),
        M = n(528),
        E = r(M),
        S = n(529),
        T = r(S),
        L = n(530),
        C = r(L),
        P = n(531),
        R = r(P),
        D = c.Mesh,
        O = c.MeshLambertMaterial,
        I = c.MeshBasicMaterial,
        B = c.ConeBufferGeometry,
        N = c.CylinderBufferGeometry,
        k = c.SphereGeometry,
        F = c.GridHelper,
        U = c.Group,
        z = new O({
            color: m.recordCostumeColor
        }),
        V = !p.default.isMobile,
        G = {
            perspectiveWall: [g.default],
            perspectiveBackWall: [y.default],
            perspectiveRoom: [_.default, V ? T.default : void 0, !0],
            orthographicWall: [w.default],
            orthographicRoom: [E.default, C.default],
            hand: function() {
                var t = new D(new N(.02, .02, .2, 32), new O);
                return t.rotation.x = .5 * Math.PI * 7, t.updateMatrix(), t.geometry.applyMatrix(t.matrix), t
            }(),
            controller: function() {
                var t = new D(new N(.02, .02, .2, 32), z);
                t.rotation.x = .5 * Math.PI * 7, t.updateMatrix();
                var e = new c.Mesh(new N(.015, .015, .0225, 32), new O({
                    color: m.controllerButtonColor.getHex()
                }));
                e.name = "button", e.position.z = -.05, e.position.y = .01, e.updateMatrix();
                var n = new U;
                return n.add(t, e), n
            }(),
            head: function() {
                var t = new D(new B(.12, .2, 32), new O);
                return t.rotation.x = .5 * Math.PI * 7, t.updateMatrix(), t.geometry.applyMatrix(t.matrix), t
            }(),
            sphere: function() {
                var t = new k(h.default.sphereRadius, 32, 32),
                    e = new I({
                        color: m.orbColor.clone()
                    });
                return new D(t, e)
            }(),
            grid: function() {
                return new F(50, 50, 11184640, 11184640)
            }(),
            shadow: function() {
                var t = (new c.TextureLoader).load(R.default),
                    e = new c.MeshLambertMaterial({
                        map: t,
                        transparent: !0,
                        side: c.BackSide,
                        depthWrite: !1,
                        blending: c.SubtractiveBlending
                    }),
                    n = new c.PlaneBufferGeometry(.5, .5, 1, 1);
                return new c.Mesh(n, e)
            }(),
            prepare: function() {
                return s.default.all((0, o.default)(G).filter(function(t) {
                    return Array.isArray(G[t])
                }).map(function(t) {
                    return (0, l.loadModel)(G[t]).then(function(e) {
                        G[t] = e
                    })
                }))
            }
        };
    e.default = G
}, function(t, e) {
    t.exports = !0
}, function(t, e) {
    t.exports = function(t) {
        if ("function" != typeof t) throw TypeError(t + " is not a function!");
        return t
    }
}, function(t, e) {
    t.exports = function(t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}, function(t, e) {
    var n = 0,
        r = Math.random();
    t.exports = function(t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++n + r).toString(36))
    }
}, function(t, e, n) {
    var r = n(57).f,
        i = n(63),
        o = n(28)("toStringTag");
    t.exports = function(t, e, n) {
        t && !i(t = n ? t : t.prototype, o) && r(t, o, {
            configurable: !0,
            value: e
        })
    }
}, function(t, e, n) {
    var r = n(7),
        i = r["__core-js_shared__"] || (r["__core-js_shared__"] = {});
    t.exports = function(t) {
        return i[t] || (i[t] = {})
    }
}, function(t, e, n) {
    var r = n(35),
        i = n(16),
        o = n(69);
    t.exports = function(t) {
        return function(e, n, a) {
            var s, u = r(e),
                c = i(u.length),
                l = o(a, c);
            if (t && n != n) {
                for (; c > l;)
                    if ((s = u[l++]) != s) return !0
            } else
                for (; c > l; l++)
                    if ((t || l in u) && u[l] === n) return t || l || 0;
            return !t && -1
        }
    }
}, function(t, e) {
    e.f = Object.getOwnPropertySymbols
}, function(t, e, n) {
    var r = n(39);
    t.exports = Array.isArray || function(t) {
        return "Array" == r(t)
    }
}, function(t, e, n) {
    var r = n(9),
        i = n(39),
        o = n(12)("match");
    t.exports = function(t) {
        var e;
        return r(t) && (void 0 !== (e = t[o]) ? !!e : "RegExp" == i(t))
    }
}, function(t, e, n) {
    var r = n(12)("iterator"),
        i = !1;
    try {
        var o = [7][r]();
        o.return = function() {
            i = !0
        }, Array.from(o, function() {
            throw 2
        })
    } catch (t) {}
    t.exports = function(t, e) {
        if (!e && !i) return !1;
        var n = !1;
        try {
            var o = [7],
                a = o[r]();
            a.next = function() {
                return {
                    done: n = !0
                }
            }, o[r] = function() {
                return a
            }, t(o)
        } catch (t) {}
        return n
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 90');

    var r = n(5);
    t.exports = function() {
        var t = r(this),
            e = "";
        return t.global && (e += "g"), t.ignoreCase && (e += "i"), t.multiline && (e += "m"), t.unicode && (e += "u"), t.sticky && (e += "y"), e
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 91');

    var r = n(30),
        i = n(31),
        o = n(8),
        a = n(44),
        s = n(12);
    t.exports = function(t, e, n) {
        var u = s(t),
            c = n(a, u, "" [t]),
            l = c[0],
            f = c[1];
        o(function() {
            var e = {};
            return e[u] = function() {
                return 7
            }, 7 != "" [t](e)
        }) && (i(String.prototype, t, l), r(RegExp.prototype, u, 2 == e ? function(t, e) {
            return f.call(t, this, e)
        } : function(t) {
            return f.call(t, this)
        }))
    }
}, function(t, e, n) {
    console.log('--------------------------------run 92');

    var r = n(5),
        i = n(25),
        o = n(12)("species");
    t.exports = function(t, e) {
        var n, a = r(t).constructor;
        return void 0 === a || void 0 == (n = r(a)[o]) ? e : i(n)
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 93');

    var r = n(7),
        i = n(0),
        o = n(31),
        a = n(75),
        s = n(58),
        u = n(74),
        c = n(73),
        l = n(9),
        f = n(8),
        h = n(109),
        d = n(81),
        p = n(146);
    t.exports = function(t, e, n, m, v, g) {
        var A = r[t],
            y = A,
            x = v ? "set" : "add",
            _ = y && y.prototype,
            b = {},
            w = function(t) {
                var e = _[t];
                o(_, t, "delete" == t ? function(t) {
                    return !(g && !l(t)) && e.call(this, 0 === t ? 0 : t)
                } : "has" == t ? function(t) {
                    return !(g && !l(t)) && e.call(this, 0 === t ? 0 : t)
                } : "get" == t ? function(t) {
                    return g && !l(t) ? void 0 : e.call(this, 0 === t ? 0 : t)
                } : "add" == t ? function(t) {
                    return e.call(this, 0 === t ? 0 : t), this
                } : function(t, n) {
                    return e.call(this, 0 === t ? 0 : t, n), this
                })
            };
        if ("function" == typeof y && (g || _.forEach && !f(function() {
                (new y).entries().next()
            }))) {
            var M = new y,
                E = M[x](g ? {} : -0, 1) != M,
                S = f(function() {
                    M.has(1)
                }),
                T = h(function(t) {
                    new y(t)
                }),
                L = !g && f(function() {
                    for (var t = new y, e = 5; e--;) t[x](e, e);
                    return !t.has(-0)
                });
            T || (y = e(function(e, n) {
                c(e, y, t);
                var r = p(new A, e, y);
                return void 0 != n && u(n, v, r[x], r), r
            }), y.prototype = _, _.constructor = y), (S || L) && (w("delete"), w("has"), v && w("get")), (L || E) && w(x), g && _.clear && delete _.clear
        } else y = m.getConstructor(e, t, v, x), a(y.prototype, n), s.NEED = !0;
        return d(y, t), b[t] = y, i(i.G + i.W + i.F * (y != A), b), g || m.setStrong(y, t, v), y
    }
}, function(t, e, n) {
    console.log('--------------------------------run 94');

    for (var r, i = n(7), o = n(30), a = n(66), s = a("typed_array"), u = a("view"), c = !(!i.ArrayBuffer || !i.DataView), l = c, f = 0, h = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); f < 9;)(r = i[h[f++]]) ? (o(r.prototype, s, !0), o(r.prototype, u, !0)) : l = !1;
    t.exports = {
        ABV: c,
        CONSTR: l,
        TYPED: s,
        VIEW: u
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 95');

    t.exports = n(67) || !n(8)(function() {
        var t = Math.random();
        __defineSetter__.call(null, t, function() {}), delete n(7)[t]
    })
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 96');

    var r = n(0);
    t.exports = function(t) {
        r(r.S, t, { of: function() {
                for (var t = arguments.length, e = Array(t); t--;) e[t] = arguments[t];
                return new this(e)
            }
        })
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 97');

    var r = n(0),
        i = n(25),
        o = n(38),
        a = n(74);
    t.exports = function(t) {
        r(r.S, t, {
            from: function(t) {
                var e, n, r, s, u = arguments[1];
                return i(this), e = void 0 !== u, e && i(u), void 0 == t ? new this : (n = [], e ? (r = 0, s = o(u, arguments[2], 2), a(t, !1, function(t) {
                    n.push(s(t, r++))
                })) : a(t, !1, n.push, n), new this(n))
            }
        })
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 98');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(18),
        s = n(54),
        u = n(6),
        c = r(u),
        l = [],
        f = new a.Group;
    f.matrixAutoUpdate = !1;
    var h = new a.Vector3,
        d = function(t, e, n, r, i) {
            var o = n[0],
                a = n[1];
            o && t.setPositionAt(e, o), r && t.setColorAt(e, r), a && t.setQuaternionAt(e, a), i && t.setScaleAt(e, h.set(i, i, i)), t.needsUpdate()
        },
        p = function(t, e, n) {
            t.setColorAt(e, n), t.needsUpdate("color")
        },
        m = function() {
            function t(e, n, r, i) {
                (0, o.default)(this, t), l.push(this), this.perspectiveMesh = (0, s.createInstancedMesh)({
                    count: n,
                    geometry: r.geometry,
                    material: r.material,
                    name: e
                }), i && (this.orthographicMesh = (0, s.createInstancedMesh)({
                    count: n,
                    geometry: i.geometry,
                    material: i.material,
                    name: e + " orthographic"
                })), this.mesh = t.perspectiveMode || !i ? this.perspectiveMesh : this.orthographicMesh, f.add(this.mesh)
            }
            return t.prototype.empty = function() {
                this.perspectiveMesh.geometry.maxInstancedCount = 0;
                var t = this.orthographicMesh;
                t && (t.geometry.maxInstancedCount = 0)
            }, t.prototype.destroy = function() {
                f.remove(this.mesh), l.splice(l.indexOf(this), 1)
            }, t.prototype.changeColor = function(t, e) {
                p(this.perspectiveMesh, t, e);
                var n = this.orthographicMesh;
                n && p(n, t, e)
            }, t.prototype.change = function(t, e, n) {
                var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
                d(this.perspectiveMesh, t, e, n, r);
                var i = this.orthographicMesh;
                i && d(i, t, e, n, r)
            }, t.prototype.add = function(t, e, n) {
                if (!(this.perspectiveMesh.geometry.maxInstancedCount >= this.perspectiveMesh.numInstances)) {
                    var r = this.perspectiveMesh.geometry.maxInstancedCount++,
                        i = this.orthographicMesh;
                    i && i.geometry.maxInstancedCount++, this.change(r, t, e, n)
                }
            }, t
        }();
    m.perspectiveMode = !1, m.switch = function(t) {
        m.perspectiveMode = "perspective" === t;
        for (var e = 0; e < l.length; e++) {
            var n = l[e];
            f.remove(n.mesh), n.mesh = m.perspectiveMode || !n.orthographicMesh ? n.perspectiveMesh : n.orthographicMesh, f.add(n.mesh)
        }
    }, m.group = f, m.reset = function() {
        c.default.scene.add(f)
    }, e.default = m
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 99');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(120),
        s = r(a),
        u = n(559),
        c = r(u),
        l = n(560),
        f = r(l),
        h = n(561),
        d = r(h),
        p = n(562),
        m = r(p),
        v = n(18),
        g = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(v),
        A = n(98),
        y = r(A),
        x = n(54),
        _ = n(55),
        b = r(_),
        w = n(6),
        M = r(w),
        E = n(10),
        S = r(E),
        T = n(48),
        L = n(56),
        C = r(L),
        P = n(237),
        R = r(P),
        D = n(118),
        O = r(D),
        I = n(238),
        B = r(I),
        N = n(121),
        k = n(11),
        F = r(k),
        U = n(565),
        z = void 0,
        V = new g.Euler(.5 * Math.PI, 0, 0),
        G = new g.Vector3(0, .5 * S.default.roomHeight, 0),
        H = new g.Quaternion,
        W = new g.Mesh(new g.BoxGeometry(0, 0, 0), new g.MeshBasicMaterial({
            map: (new g.TextureLoader).load(R.default)
        }));
    W.frustumCulled = !1;
    var j = (0, N.createPose)(),
        Q = (0, N.createPose)(),
        q = (0, N.createPose)(),
        X = new g.Euler(.5 * Math.PI, 0, 0),
        Y = new g.Color(16777215),
        Z = function(t, e, n) {
            var r = t[0],
                i = t[1],
                o = e[0],
                a = e[1],
                s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : n;
            0 !== n && (r.lerp(o, n), i.slerp(a, s))
        },
        J = function(t, e, n) {
            return e + (n - e) * t
        },
        K = function() {
            function t(e) {
                (0, o.default)(this, t);
                // console.log('got recording', e);

                var n = e.id,
                    r = e.recording,
                    i = e.index,
                    a = e.colorIndex,
                    s = void 0 === a ? e.index : a,
                    u = e.single,
                    c = void 0 !== u && u,
                    l = e.showFrontWall,
                    f = void 0 !== l && l,
                    h = e.showBackWall,
                    d = void 0 !== h && h,
                    p = e.showRoom,
                    m = void 0 === p || p,
                    v = e.morph,
                    A = void 0 === v || v;
                this.morph = !!A;
                this._worldPosition = new g.Vector3;
                this.index = e.single ? 0 : i;
                this.insideMegaGrid = C.default.insideMegaGrid(this.index);
                this.single = c;
                this.showFrontWall = f;
                this.showBackWall = d;
                this.showRoom = m;
                var y = this.frames = new B.default(n, r);
                this.firstFrame = y.getFrame(0);
                this.lastFrame = y.getFrame(2 * S.default.loopDuration - .001);
                this.frame = y.getFrame();
                this.random = Math.random();
                this.costumeColor = (0, T.getCostumeColor)(s);
                this.currentRoomColor = this.roomColor = (0, T.getRoomColor)(s);
                this.position = C.default.getPosition(i, new g.Vector3, c);
                var _ = (0, x.tempVector)().add(this.position).add(G);
                if (_.y -= 1, this.roomPosition = _.clone(), this.roomPose = [this.roomPosition, null], this.insideMegaGrid) {
                    this.dropTimes = [];
                    for (var b = 0; b < 20; b++) this.dropTimes.push(.2 * Math.random());
                    this.riseTime = S.default.colorTimes[C.default.getSynthIndex(this.index)]
                }
            }
            return t.prototype.load = function(t) {
                this.frames.load(t)
            }, t.prototype.isHighlighted = function(e) {
                return t.highlight.roomIndex === this.index && t.highlight.performanceIndex === e
            }, t.prototype.changeColorToWaiting = function() {
                this.changeColor(T.waitRoomColor)
            }, t.prototype.changeColorToRecording = function() {
                this.changeColor(this.roomColor)
            }, t.prototype.changeColor = function(t) {
                this.currentRoomColor = t
            }, t.prototype.getHeadPosition = function(t) {
                var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                return this.frame.getHeadPose(t, this.position, e)[0]
            }, t.prototype.transformToHead = function(t, e) {
                var n = this.getPose(e, 0, this.position, !1),
                    r = n[0],
                    i = n[1];
                t.position.copy(r), t.quaternion.copy(i)
            }, t.prototype.isVisibleOnScreen = function() {
                var t = this.getScreenCoordinates();
                return t.x > 0 && t.x < b.default.width
            }, t.prototype.getScreenCoordinates = function() {
                return (0, x.worldToScreen)(M.default.camera, this.worldPosition)
            }, t.prototype.gotoTime = function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                if (this.currentTime = t, !S.default.shouldCull || !this.cullRoom()) {
                    var r = this.currentRoomColor,
                        i = this.roomPose;
                    this.showRoom && z.room.add(i, r), this.showFrontWall && z.frontWall.add(i, r), this.showBackWall && z.backWall.add(i, r);
                    var o = O.default.perspectiveMode ? 1 : 1.5,
                        a = this.position,
                        s = this.frame,
                        u = this.costumeColor;
                    s.gotoTime(t, e);
                    for (var c = this.frames.hideHead, l = 0; l < s.count; l++) {
                        var f = l === s.count - 1,
                            h = n && f || this.isHighlighted(l) ? T.highlightColor : u;
                        if (!c) {
                            var d = this.getPose(l, 0, a);
                            if (!d) continue;
                            z.head.add(d, h, o), this.setShadowPose(d, a, l)
                        }
                        var p = this.getPose(l, 1, a);
                        if (p) {
                            z.hand.add(p, h, o), this.setShadowPose(p, a, l, 1, !0);
                            var m = this.getPose(l, 2, a);
                            z.hand.add(m, h, o), this.setShadowPose(m, a, l, 2, !0)
                        }
                    }
                }
            }, t.prototype.getPose = function(t, e, n) {
                var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                    i = this.frame;
                if (i.isLoaded()) {
                    if (i.getPose(t, e, n, r, j), this.morph && 0 === t && this.frames.complete) {
                        this.lastFrame.getPose(i.count - 1, e, n, r, Q);
                        var o = this.morphDuration;
                        if (!o) {
                            var a = i.getPose(0, e, n, r),
                                s = a[0],
                                u = .5 * Math.min(2, s.distanceTo(Q[0]));
                            o = this.morphDuration = Math.max(.01, .3 * u)
                        }
                        var l = Math.min(o, i.loopRatio) * (1 / this.morphDuration),
                            h = o > .1 ? .08 : .05,
                            d = Math.min(h, i.loopRatio) * (1 / h),
                            p = o > .1 ? c.default : f.default;
                        Z(j, Q, p(1 - l), p(1 - d))
                    }
                    return this.insideMegaGrid && !this.single && (this.risePerformance(t, e, n, r), this.dropPerformance(t)), j
                }
            }, t.prototype.setShadowPose = function(e, n, r) {
                var i = (arguments.length > 3 && void 0 !== arguments[3] && arguments[3], arguments[4]);
                if (!1 !== t.shouldUseShadow()) {
                    var o = e[0].y;
                    e[0].y = .01, e[1].setFromEuler(X);
                    var a = Math.min(Math.max(o / 2.5, 0), 1),
                        s = Math.max(J(a, .5, 1) * (i ? .6 : 1), .001),
                        u = J(a, .3, .15);
                    Y.setRGB(u, u, u), z.shadow.add(e, Y, 3 * s)
                }
            }, t.prototype.dropPerformance = function(t) {
                if (!(F.default.time < S.default.dropTime)) {
                    var e = S.default.dropTime + this.dropTimes[t],
                        n = Math.max(0, Math.min(1, F.default.time - e));
                    if (0 !== n) {
                        var r = Math.max(0, Math.min(1, F.default.time - e)),
                            i = j[0],
                            o = j[1];
                        i.y = Math.max(.2, i.y * (1 - (0, d.default)(n))), H.copy(o).setFromEuler(V), o.slerp(H, (0, m.default)(Math.min(1, r)))
                    }
                }
            }, t.prototype.risePerformance = function(t, e, n, r) {
                var i = .2 * Math.max(0, Math.min(5, F.default.time - this.riseTime));
                if (0 === i) {
                    this.firstFrame.getPose(t, e, n, r, j);
                    var o = j[0],
                        a = j[1];
                    o.y = .2, a.setFromEuler(V)
                } else {
                    this.firstFrame.getPose(t, e, n, r, q);
                    var s = q[0],
                        u = q[1];
                    s.y = Math.max(s.y * i, .2), u.setFromEuler(V), Z(j, q, 1 === i ? 1 - i : (0, U.elasticIn)(1 - i))
                }
            }, t.prototype.cullRoom = function() {
                var t = this.position.z + M.default.cameraWorldPos.z,
                    e = this.position.x - M.default.cameraWorldPos.x;
                return t * t + e * e > S.default.cullDistance * S.default.cullDistance
            }, t.prototype.destroy = function() {
                for (var t in z) z[t].empty();
                this.frames && this.frames.cancel()
            }, (0, s.default)(t, [{
                key: "worldPosition",
                get: function() {
                    return this._worldPosition.copy(this.position).applyMatrix4(O.default.group.matrix)
                }
            }]), t
        }();
    e.default = K, K.clear = function() {
        z && (z.room.empty(), z.frontWall.empty(), z.backWall.empty(), z.hand.empty(), z.head.empty(), S.default.useShadow && z.shadow.empty(), S.default.useShadow && (z.shadow.mesh.material.transparent = K.shouldUseShadow()))
    }, K.reset = function() {
        O.default.reset(), K.setHighlight(), (0, x.setIdentityMatrix)(O.default.group), z || (z = {
            room: new O.default("rooms", C.default.roomCount, y.default.perspectiveRoom, y.default.orthographicRoom),
            frontWall: new O.default("front-walls", C.default.roomCount, y.default.perspectiveWall, y.default.orthographicWall),
            backWall: new O.default("back-walls", C.default.roomCount, y.default.perspectiveBackWall),
            head: new O.default("heads", 10 * C.default.roomCount, y.default.head),
            hand: new O.default("hands", 10 * C.default.roomCount * 2, y.default.hand)
        }, S.default.useShadow && (z.shadow = new O.default("shadows", 30 * C.default.roomCount, y.default.shadow))), M.default.scene.add(W)
    }, K.shouldUseShadow = function() {
        return !!S.default.useShadow && !M.default.vrEffect.isPresenting
    }, K.rotate180 = function() {
        (0, x.set180RotationMatrix)(O.default.group)
    }, K.highlight = {}, K.setHighlight = function(t) {
        if (t) {
            var e = t[0],
                n = t[1];
            K.highlight.roomIndex = e, K.highlight.performanceIndex = n
        } else K.highlight.roomIndex = null, K.highlight.performanceIndex = null
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 100');

    e.__esModule = !0;
    var r = n(556),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.default = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), (0, i.default)(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n), r && t(e, r), e
        }
    }()
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 101');

    e.__esModule = !0, e.createPose = e.serialize = e.serializeMatrix = e.count = e.avgQuaternion = e.avgPosition = e.getFrame = e.getQuaternion = e.getPosition = e.LIMB_ELEMENT_COUNT = e.PERFORMANCE_ELEMENT_COUNT = void 0;
    var r = n(54),
        i = n(18),
        o = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(i),
        a = n(10),
        s = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(a),
        u = e.PERFORMANCE_ELEMENT_COUNT = 21,
        c = e.LIMB_ELEMENT_COUNT = 7,
        l = e.getPosition = function(t, e, n) {
            var i = e * u + n * c;
            return (0, r.tempVector)(1e-4 * t[i], 1e-4 * t[i + 1], 1e-4 * t[i + 2])
        },
        f = e.getQuaternion = function(t, e, n, r) {
            var i = e * u + n * c;
            return r.set(1e-4 * t[i + 3], 1e-4 * t[i + 4], 1e-4 * t[i + 5], 1e-4 * t[i + 6])
        },
        h = (e.getFrame = function(t, e) {
            var n = t[Math.min(e, t.length - 1)];
            return "[" === n[0] && (n = t[e] = JSON.parse(n)), n
        }, new o.Vector3),
        d = (e.avgPosition = function(t, e, n, r, i, o) {
            var a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : h,
                u = l(t, r, i),
                c = u.x,
                f = u.y,
                d = u.z,
                p = l(e, r, i),
                m = p.x,
                v = p.y,
                g = p.z;
            return a.set(c + (m - c) * n, f + (v - f) * n, d + (g - d) * n), o && (a.z -= s.default.roomOffset, a.add(o)), a
        }, new o.Quaternion),
        p = new o.Quaternion,
        m = (e.avgQuaternion = function(t, e, n, r, i) {
            var o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : d,
                a = f(t, r, i, o);
            return e && a.slerp(f(e, r, i, p), n), a
        }, e.count = function(t) {
            return t.length / u
        }, function(t) {
            return Math.round(1e4 * t)
        }),
        v = new o.Vector3,
        g = new o.Quaternion,
        A = new o.Vector3;
    e.serializeMatrix = function(t) {
        return t.decompose(v, g, A), v.toArray().concat(g.toArray()).map(m)
    }, e.serialize = function(t, e) {
        return t.toArray().concat(e.toArray()).map(m)
    }, e.createPose = function() {
        return [new o.Vector3, new o.Quaternion]
    }
}, function(t, e, n) {
    function r(t) {
        s.call(this), this.duration = t && t.duration || 0, this.delay = t && t.delay || 0, this.time = 0, this.ease = t && t.ease, this.active = !0, this.enabled = !0, this.cancelling = !1, this._started = !1
    }

    function i(t, e) {
        return "function" == typeof t.ease ? t.ease(e) : a(e)
    }
    var o = function() {},
        a = n(239),
        s = n(572).EventEmitter;
    n(128)(r, s), r.prototype.lerp = o, r.prototype.ready = o, r.prototype.cancel = function() {
        return this.cancelling = !0, this
    }, r.prototype.tick = function(t, e) {
        if (e = "function" == typeof e ? e : i, this.cancelling && this.active && (this.active = !1, this.emit("cancelling", this), this.emit("complete", this)), this.active && this.enabled) {
            this.time, this.time += t;
            var n = (this.time - this.delay) / this.duration;
            this.time - this.delay > 0 && (this._started || (this._started = !0, this.ready(), this.emit("start", this)), n < 0 ? n = 0 : n > 1 && (n = 1), n = e(this, n), this.lerp(n), this.emit("update", this)), this.time >= this.duration + this.delay && (this.active = !1, this.emit("complete", this))
        }
    }, t.exports = r
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 102');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1);
    n(589);
    var f = n(41),
        h = r(f),
        d = n(26),
        p = r(d),
        m = n(245),
        v = r(m),
        g = n(246),
        A = r(g),
        y = n(596),
        x = r(y),
        _ = n(599),
        b = r(_),
        w = n(124),
        M = r(w),
        E = n(125),
        S = r(E),
        T = n(247),
        L = r(T),
        C = n(606),
        P = r(C),
        R = n(6),
        D = r(R),
        O = n(13),
        I = r(O),
        B = n(11),
        N = r(B),
        k = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.state = {
                    about: !1,
                    noVROverlay: !1,
                    enteredVROverlay: !1
                }, n.toggleAbout = n.toggleAbout.bind(n), n.toggleVR = n.toggleVR.bind(n), n.toggleNoVROverlay = n.toggleNoVROverlay.bind(n), n.goHome = n.goHome.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0
            }, e.prototype.componentWillReceiveProps = function(t, e) {
                var n = this,
                    r = e.presenting;
                r !== this.context.presenting && (this.setState({
                    enterVROVerlay: r
                }), r && setTimeout(function() {
                    n.setState({
                        enterVROVerlay: !1
                    })
                }, 5e3))
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1
            }, e.prototype.toggleAbout = function() {
                this.setState({
                    about: !this.state.about
                })
            }, e.prototype.toggleNoVROverlay = function(t) {
                t && "_blank" === t.target.target || (this.setState({
                    noVROverlay: !this.state.noVROverlay
                }), N.default[this.state.noVROverlay ? "pause" : "play"](), t && t.stopPropagation())
            }, e.prototype.toggleVR = function() {
                I.default.hasVR ? D.default.toggleVR() : this.toggleNoVROverlay()
            }, e.prototype.goHome = function() {
                D.default.exitPresent(), h.default.navigate("/")
            }, e.prototype.render = function(t, e) {
                var n = t.vr,
                    r = void 0 !== n && n,
                    i = t.mute,
                    o = void 0 !== i && i,
                    a = t.addRoom,
                    s = void 0 !== a && a,
                    u = t.about,
                    c = void 0 !== u && u,
                    f = t.close,
                    h = void 0 !== f && f,
                    d = e.enterVROVerlay;
                return (0, l.h)("div", {
                    className: "menu"
                }, d ? (0, l.h)(L.default, null) : null, this.state.about ? (0, l.h)(P.default, {
                    onClose: this.toggleAbout
                }) : null, this.state.noVROverlay ? (0, l.h)(S.default, {
                    goto: this.props.goto,
                    onClose: this.toggleNoVROverlay
                }, (0, l.h)("p", null, "Headset required to watch in VR."), (0, l.h)("a", {
                    href: "https://webvr.info",
                    target: "_blank",
                    rel: "noopener noreferrer"
                }, (0, l.h)("span", null, "Learn more")), " or ", (0, l.h)("a", {
                    onClick: this.toggleNoVROverlay
                }, (0, l.h)("span", null, "continue watching without VR")), ".") : null, (0, l.h)(p.default, {
                    type: "top-left",
                    rows: !0
                }, c ? (0, l.h)(x.default, {
                    onClick: this.toggleAbout
                }) : null, o ? (0, l.h)(v.default, null) : null), (0, l.h)(p.default, {
                    type: "bottom-right"
                }, r ? (0, l.h)(A.default, {
                    label: !0,
                    onClick: this.toggleVR
                }) : null, s ? (0, l.h)(b.default, {
                    label: !0
                }) : null), h ? (0, l.h)(p.default, {
                    type: "top-right"
                }, (0, l.h)(M.default, {
                    onClick: !0 === h ? this.goHome : h
                })) : null)
            }, e
        }(l.Component);
    e.default = k
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 103');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(1),
        o = n(77),
        a = r(o);
    n(602);
    var s = n(19),
        u = r(s),
        c = n(603),
        l = r(c);
    e.default = function(t) {
        var e = t.onClick,
            n = t.navigate,
            r = t.className,
            o = t.dark;
        return (0, i.h)(u.default, {
            onClick: e,
            navigate: n,
            className: (0, a.default)(r, "close", o && "mod-dark"),
            icon: l.default
        })
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 104');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i(t) {
        var e = t.children,
            n = t.onClose,
            r = t.opaque;
        return (0, o.h)("div", {
            className: (0, s.default)("overlay", r && "mod-opaque"),
            onClick: n
        }, n && (0, o.h)(c.default, {
            type: "top-right"
        }, (0, o.h)(f.default, {
            onClick: n
        })), (0, o.h)("div", {
            className: "overlay-text"
        }, e))
    }
    e.__esModule = !0, e.default = i;
    var o = n(1),
        a = n(77),
        s = r(a);
    n(604);
    var u = n(26),
        c = r(u),
        l = n(124),
        f = r(l)
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 105');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(121),
        o = n(11),
        a = r(o),
        s = n(6),
        u = r(s),
        c = n(18),
        l = n(56),
        f = (r(l), !1),
        h = void 0,
        d = void 0,
        p = (0, i.serializeMatrix)(new c.Matrix4),
        m = (0, i.serializeMatrix)(new c.Matrix4),
        v = function(t) {
            return Math.floor(90 * t)
        },
        g = function(t) {
            if (h.length <= d) h.push([].concat(t, p, m));
            else {
                for (var e = h[d], n = 0; n < t.length; n++) e.push(t[n]);
                for (var r = 0; r < p.length; r++) e.push(p[r]);
                for (var i = 0; i < m.length; i++) e.push(m[i])
            }
        },
        A = function(t, e) {
            for (var n = v(t), r = n - d, i = 0; i < r; i++) d++, g(e)
        },
        y = {
            setup: function(t) {
              throw new Error('fail');
                var e = t.roomIndex,
                    n = t.hideHead;
                this.frames = [];
                this.roomIndex = e, h = null, d = null, f = !1, this.hideHead = n, this.count = null
            },
            tick: function() {
                if (!f) {
                    var t = (0, i.serializeMatrix)(u.default.camera.matrixWorld),
                        e = u.default.controllers,
                        n = e[0],
                        r = e[1];
                    if (n.matrixWorld && (p = (0, i.serializeMatrix)(n.matrixWorld)), r.matrixWorld && (m = (0, i.serializeMatrix)(r.matrixWorld)), !h || a.default.looped) {
                        if (h && A(a.default.duration, t), d = 0, h) {
                            for (var o = 0; o < h.length; o++) {
                                var s = h[o];
                                this.frames[o] = this.frames[o] ? this.frames[o].concat(s) : s
                            }
                        }
                        h = []
                    } else {
                        if (v(a.default.time) - d < 0) return;
                        d++
                    }
                    g(t), A(a.default.time, t)
                }
            },
            stop: function() {
                f = !0, this.count = this.frames[0] ? (0, i.count)(this.frames[0]) : 0
            },
            exists: function() {
                return !!y.frames
            },
            destroy: function() {
                y.frames = null
            },
            serialize: function() {
                return [{
                    count: this.count,
                    loopIndex: this.roomIndex + 1,
                    hideHead: this.hideHead
                }].concat(this.frames)
            }
        };
    e.default = y
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 106');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(6),
        h = r(f),
        d = n(11),
        p = r(d),
        m = n(249),
        v = r(m),
        g = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.tick = n.tick.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, h.default.on("tick", this.tick);
                var t = this.props,
                    e = t.keyframes,
                    n = t.callback;
                this.timeline = (0, v.default)(e, n)
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, h.default.off("tick", this.tick)
            }, e.prototype.tick = function() {
                var t = this.props,
                    e = t.progress,
                    n = t.getTime;
                this.timeline.tick(n ? n() : e ? p.default.progress : p.default.time)
            }, e
        }(l.Component);
    e.default = g
}, function(t, e) {
    console.log('--------------------------------run 107');

    "function" == typeof Object.create ? t.exports = function(t, e) {
        t.super_ = e, t.prototype = Object.create(e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        })
    } : t.exports = function(t, e) {
        t.super_ = e;
        var n = function() {};
        n.prototype = e.prototype, t.prototype = new n, t.prototype.constructor = t
    }
}, function(t, e) {
    console.log('--------------------------------run 108');

    var n = Math.ceil,
        r = Math.floor;
    t.exports = function(t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? r : n)(t)
    }
}, function(t, e) {
    console.log('--------------------------------run 109');

    t.exports = function(t) {
        if (void 0 == t) throw TypeError("Can't call method on  " + t);
        return t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 110');

    var r = n(50),
        i = n(27).document,
        o = r(i) && r(i.createElement);
    t.exports = function(t) {
        return o ? i.createElement(t) : {}
    }
}, function(t, e, n) {
    console.log('--------------------------------run 111');

    var r = n(50);
    t.exports = function(t, e) {
        if (!r(t)) return t;
        var n, i;
        if (e && "function" == typeof(n = t.toString) && !r(i = n.call(t))) return i;
        if ("function" == typeof(n = t.valueOf) && !r(i = n.call(t))) return i;
        if (!e && "function" == typeof(n = t.toString) && !r(i = n.call(t))) return i;
        throw TypeError("Can't convert object to primitive value")
    }
}, function(t, e, n) {
    console.log('--------------------------------run 112');

    var r = n(49),
        i = n(187),
        o = n(136),
        a = n(134)("IE_PROTO"),
        s = function() {},
        u = function() {
            var t, e = n(131)("iframe"),
                r = o.length;
            for (e.style.display = "none", n(191).appendChild(e), e.src = "javascript:", t = e.contentWindow.document, t.open(), t.write("<script>document.F=Object<\/script>"), t.close(), u = t.F; r--;) delete u.prototype[o[r]];
            return u()
        };
    t.exports = Object.create || function(t, e) {
        var n;
        return null !== t ? (s.prototype = r(t), n = new s, s.prototype = null, n[a] = t) : n = u(), void 0 === e ? n : i(n, e)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 113');

    var r = n(135)("keys"),
        i = n(102);
    t.exports = function(t) {
        return r[t] || (r[t] = i(t))
    }
}, function(t, e, n) {
    console.log('--------------------------------run 114');

    var r = n(27),
        i = r["__core-js_shared__"] || (r["__core-js_shared__"] = {});
    t.exports = function(t) {
        return i[t] || (i[t] = {})
    }
}, function(t, e) {
    console.log('--------------------------------run 115');

    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function(t, e, n) {
    var r = n(130);
    t.exports = function(t) {
        return Object(r(t))
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 116');

    function r(t) {
        var e, n;
        this.promise = new t(function(t, r) {
            if (void 0 !== e || void 0 !== n) throw TypeError("Bad Promise constructor");
            e = t, n = r
        }), this.resolve = i(e), this.reject = i(n)
    }
    var i = n(100);
    t.exports.f = function(t) {
        return new r(t)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 117');

    var r = n(9),
        i = n(7).document,
        o = r(i) && r(i.createElement);
    t.exports = function(t) {
        return o ? i.createElement(t) : {}
    }
}, function(t, e, n) {
    console.log('--------------------------------run 118');

    var r = n(7),
        i = n(42),
        o = n(67),
        a = n(199),
        s = n(15).f;
    t.exports = function(t) {
        var e = i.Symbol || (i.Symbol = o ? {} : r.Symbol || {});
        "_" == t.charAt(0) || t in e || s(e, t, {
            value: a.f(t)
        })
    }
}, function(t, e, n) {
    console.log('--------------------------------run 119');

    var r = n(104)("keys"),
        i = n(66);
    t.exports = function(t) {
        return r[t] || (r[t] = i(t))
    }
}, function(t, e) {
    console.log('--------------------------------run 120');

    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function(t, e, n) {
    console.log('--------------------------------run 121');

    var r = n(7).document;
    t.exports = r && r.documentElement
}, function(t, e, n) {
    console.log('--------------------------------run 122');

    var r = n(9),
        i = n(5),
        o = function(t, e) {
            if (i(t), !r(e) && null !== e) throw TypeError(e + ": can't set as prototype!")
        };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__" in {} ? function(t, e, r) {
            try {
                r = n(38)(Function.call, n(36).f(Object.prototype, "__proto__").set, 2), r(t, []), e = !(t instanceof Array)
            } catch (t) {
                e = !0
            }
            return function(t, n) {
                return o(t, n), e ? t.__proto__ = n : r(t, n), t
            }
        }({}, !1) : void 0),
        check: o
    }
}, function(t, e) {
    console.log('--------------------------------run 123');

    t.exports = "\t\n\v\f\r \u2028\u2029\ufeff"
}, function(t, e, n) {
    console.log('--------------------------------run 124');

    var r = n(9),
        i = n(144).set;
    t.exports = function(t, e, n) {
        var o, a = e.constructor;
        return a !== n && "function" == typeof a && (o = a.prototype) !== n.prototype && r(o) && i && i(t, o), t
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 125');

    var r = n(45),
        i = n(44);
    t.exports = function(t) {
        var e = String(i(this)),
            n = "",
            o = r(t);
        if (o < 0 || o == 1 / 0) throw RangeError("Count can't be negative");
        for (; o > 0;
            (o >>>= 1) && (e += e)) 1 & o && (n += e);
        return n
    }
}, function(t, e) {
    console.log('--------------------------------run 126');

    t.exports = Math.sign || function(t) {
        return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
    }
}, function(t, e) {
    console.log('--------------------------------run 127');

    var n = Math.expm1;
    t.exports = !n || n(10) > 22025.465794806718 || n(10) < 22025.465794806718 || -2e-17 != n(-2e-17) ? function(t) {
        return 0 == (t = +t) ? t : t > -1e-6 && t < 1e-6 ? t + t * t / 2 : Math.exp(t) - 1
    } : n
}, function(t, e, n) {
    console.log('--------------------------------run 128');

    var r = n(45),
        i = n(44);
    t.exports = function(t) {
        return function(e, n) {
            var o, a, s = String(i(e)),
                u = r(n),
                c = s.length;
            return u < 0 || u >= c ? t ? "" : void 0 : (o = s.charCodeAt(u), o < 55296 || o > 56319 || u + 1 === c || (a = s.charCodeAt(u + 1)) < 56320 || a > 57343 ? t ? s.charAt(u) : o : t ? s.slice(u, u + 2) : a - 56320 + (o - 55296 << 10) + 65536)
        }
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 129');

    var r = n(67),
        i = n(0),
        o = n(31),
        a = n(30),
        s = n(29),
        u = n(83),
        c = n(152),
        l = n(81),
        f = n(37),
        h = n(12)("iterator"),
        d = !([].keys && "next" in [].keys()),
        p = function() {
            return this
        };
    t.exports = function(t, e, n, m, v, g, A) {
        c(n, e, m);
        var y, x, _, b = function(t) {
                if (!d && t in S) return S[t];
                switch (t) {
                    case "keys":
                    case "values":
                        return function() {
                            return new n(this, t)
                        }
                }
                return function() {
                    return new n(this, t)
                }
            },
            w = e + " Iterator",
            M = "values" == v,
            E = !1,
            S = t.prototype,
            T = S[h] || S["@@iterator"] || v && S[v],
            L = T || b(v),
            C = v ? M ? b("entries") : L : void 0,
            P = "Array" == e ? S.entries || T : T;
        if (P && (_ = f(P.call(new t))) !== Object.prototype && _.next && (l(_, w, !0), r || s(_, h) || a(_, h, p)), M && T && "values" !== T.name && (E = !0, L = function() {
                return T.call(this)
            }), r && !A || !d && !E && S[h] || a(S, h, L), u[e] = L, u[w] = p, v)
            if (y = {
                    values: M ? L : b("values"),
                    keys: g ? L : b("keys"),
                    entries: C
                }, A)
                for (x in y) x in S || o(S, x, y[x]);
            else i(i.P + i.F * (d || E), e, y);
        return y
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 130');

    var r = n(70),
        i = n(65),
        o = n(81),
        a = {};
    n(30)(a, n(12)("iterator"), function() {
        return this
    }), t.exports = function(t, e, n) {
        t.prototype = r(a, {
            next: i(1, n)
        }), o(t, e + " Iterator")
    }
}, function(t, e, n) {
    console.log('--------------------------------run 131');

    var r = n(108),
        i = n(44);
    t.exports = function(t, e, n) {
        if (r(e)) throw TypeError("String#" + n + " doesn't accept regex!");
        return String(i(t))
    }
}, function(t, e, n) {
    console.log('--------------------------------run 132');

    var r = n(12)("match");
    t.exports = function(t) {
        var e = /./;
        try {
            "/./" [t](e)
        } catch (n) {
            try {
                return e[r] = !1, !"/./" [t](e)
            } catch (t) {}
        }
        return !0
    }
}, function(t, e, n) {
    console.log('--------------------------------run 133');

    var r = n(83),
        i = n(12)("iterator"),
        o = Array.prototype;
    t.exports = function(t) {
        return void 0 !== t && (r.Array === t || o[i] === t)
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 134');

    var r = n(15),
        i = n(65);
    t.exports = function(t, e, n) {
        e in t ? r.f(t, e, i(0, n)) : t[e] = n
    }
}, function(t, e, n) {
    console.log('--------------------------------run 135');

    var r = n(92),
        i = n(12)("iterator"),
        o = n(83);
    t.exports = n(42).getIteratorMethod = function(t) {
        if (void 0 != t) return t[i] || t["@@iterator"] || o[r(t)]
    }
}, function(t, e, n) {
    console.log('--------------------------------run 136');

    var r = n(386);
    t.exports = function(t, e) {
        return new(r(t))(e)
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 137');

    var r = n(21),
        i = n(69),
        o = n(16);
    t.exports = function(t) {
        for (var e = r(this), n = o(e.length), a = arguments.length, s = i(a > 1 ? arguments[1] : void 0, n), u = a > 2 ? arguments[2] : void 0, c = void 0 === u ? n : i(u, n); c > s;) e[s++] = t;
        return e
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 138');

    var r = n(59),
        i = n(215),
        o = n(83),
        a = n(35);
    t.exports = n(151)(Array, "Array", function(t, e) {
        this._t = a(t), this._i = 0, this._k = e
    }, function() {
        var t = this._t,
            e = this._k,
            n = this._i++;
        return !t || n >= t.length ? (this._t = void 0, i(1)) : "keys" == e ? i(0, n) : "values" == e ? i(0, t[n]) : i(0, [n, t[n]])
    }, "values"), o.Arguments = o.Array, r("keys"), r("values"), r("entries")
}, function(t, e, n) {
    console.log('--------------------------------run 139');

    var r, i, o, a = n(38),
        s = n(205),
        u = n(143),
        c = n(139),
        l = n(7),
        f = l.process,
        h = l.setImmediate,
        d = l.clearImmediate,
        p = l.MessageChannel,
        m = l.Dispatch,
        v = 0,
        g = {},
        A = function() {
            var t = +this;
            if (g.hasOwnProperty(t)) {
                var e = g[t];
                delete g[t], e()
            }
        },
        y = function(t) {
            A.call(t.data)
        };
    h && d || (h = function(t) {
        for (var e = [], n = 1; arguments.length > n;) e.push(arguments[n++]);
        return g[++v] = function() {
            s("function" == typeof t ? t : Function(t), e)
        }, r(v), v
    }, d = function(t) {
        delete g[t]
    }, "process" == n(39)(f) ? r = function(t) {
        f.nextTick(a(A, t, 1))
    } : m && m.now ? r = function(t) {
        m.now(a(A, t, 1))
    } : p ? (i = new p, o = i.port2, i.port1.onmessage = y, r = a(o.postMessage, o, 1)) : l.addEventListener && "function" == typeof postMessage && !l.importScripts ? (r = function(t) {
        l.postMessage(t + "", "*")
    }, l.addEventListener("message", y, !1)) : r = "onreadystatechange" in c("script") ? function(t) {
        u.appendChild(c("script")).onreadystatechange = function() {
            u.removeChild(this), A.call(t)
        }
    } : function(t) {
        setTimeout(a(A, t, 1), 0)
    }), t.exports = {
        set: h,
        clear: d
    }
}, function(t, e, n) {
    console.log('--------------------------------run 140');

    var r = n(7),
        i = n(161).set,
        o = r.MutationObserver || r.WebKitMutationObserver,
        a = r.process,
        s = r.Promise,
        u = "process" == n(39)(a);
    t.exports = function() {
        var t, e, n, c = function() {
            var r, i;
            for (u && (r = a.domain) && r.exit(); t;) {
                i = t.fn, t = t.next;
                try {
                    i()
                } catch (r) {
                    throw t ? n() : e = void 0, r
                }
            }
            e = void 0, r && r.enter()
        };
        if (u) n = function() {
            a.nextTick(c)
        };
        else if (o) {
            var l = !0,
                f = document.createTextNode("");
            new o(c).observe(f, {
                characterData: !0
            }), n = function() {
                f.data = l = !l
            }
        } else if (s && s.resolve) {
            var h = s.resolve();
            n = function() {
                h.then(c)
            }
        } else n = function() {
            i.call(r, c)
        };
        return function(r) {
            var i = {
                fn: r,
                next: void 0
            };
            e && (e.next = i), t || (t = i, n()), e = i
        }
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 141');

    function r(t) {
        var e, n;
        this.promise = new t(function(t, r) {
            if (void 0 !== e || void 0 !== n) throw TypeError("Bad Promise constructor");
            e = t, n = r
        }), this.resolve = i(e), this.reject = i(n)
    }
    var i = n(25);
    t.exports.f = function(t) {
        return new r(t)
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 142');

    function r(t, e, n) {
        var r, i, o, a = Array(n),
            s = 8 * n - e - 1,
            u = (1 << s) - 1,
            c = u >> 1,
            l = 23 === e ? F(2, -24) - F(2, -77) : 0,
            f = 0,
            h = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for (t = k(t), t != t || t === B ? (i = t != t ? 1 : 0, r = u) : (r = U(z(t) / V), t * (o = F(2, -r)) < 1 && (r--, o *= 2), t += r + c >= 1 ? l / o : l * F(2, 1 - c), t * o >= 2 && (r++, o /= 2), r + c >= u ? (i = 0, r = u) : r + c >= 1 ? (i = (t * o - 1) * F(2, e), r += c) : (i = t * F(2, c - 1) * F(2, e), r = 0)); e >= 8; a[f++] = 255 & i, i /= 256, e -= 8);
        for (r = r << e | i, s += e; s > 0; a[f++] = 255 & r, r /= 256, s -= 8);
        return a[--f] |= 128 * h, a
    }

    function i(t, e, n) {
        var r, i = 8 * n - e - 1,
            o = (1 << i) - 1,
            a = o >> 1,
            s = i - 7,
            u = n - 1,
            c = t[u--],
            l = 127 & c;
        for (c >>= 7; s > 0; l = 256 * l + t[u], u--, s -= 8);
        for (r = l & (1 << -s) - 1, l >>= -s, s += e; s > 0; r = 256 * r + t[u], u--, s -= 8);
        if (0 === l) l = 1 - a;
        else {
            if (l === o) return r ? NaN : c ? -B : B;
            r += F(2, e), l -= a
        }
        return (c ? -1 : 1) * r * F(2, l - e)
    }

    function o(t) {
        return t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0]
    }

    function a(t) {
        return [255 & t]
    }

    function s(t) {
        return [255 & t, t >> 8 & 255]
    }

    function u(t) {
        return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255]
    }

    function c(t) {
        return r(t, 52, 8)
    }

    function l(t) {
        return r(t, 23, 4)
    }

    function f(t, e, n) {
        S(t[C], e, {
            get: function() {
                return this[n]
            }
        })
    }

    function h(t, e, n, r) {
        var i = +n,
            o = M(i);
        if (o + e > t[H]) throw I(P);
        var a = t[G]._b,
            s = o + t[W],
            u = a.slice(s, s + e);
        return r ? u : u.reverse()
    }

    function d(t, e, n, r, i, o) {
        var a = +n,
            s = M(a);
        if (s + e > t[H]) throw I(P);
        for (var u = t[G]._b, c = s + t[W], l = r(+i), f = 0; f < e; f++) u[c + f] = l[o ? f : e - f - 1]
    }
    var p = n(7),
        m = n(14),
        v = n(67),
        g = n(114),
        A = n(30),
        y = n(75),
        x = n(8),
        _ = n(73),
        b = n(45),
        w = n(16),
        M = n(224),
        E = n(71).f,
        S = n(15).f,
        T = n(159),
        L = n(81),
        C = "prototype",
        P = "Wrong index!",
        R = p.ArrayBuffer,
        D = p.DataView,
        O = p.Math,
        I = p.RangeError,
        B = p.Infinity,
        N = R,
        k = O.abs,
        F = O.pow,
        U = O.floor,
        z = O.log,
        V = O.LN2,
        G = m ? "_b" : "buffer",
        H = m ? "_l" : "byteLength",
        W = m ? "_o" : "byteOffset";
    if (g.ABV) {
        if (!x(function() {
                R(1)
            }) || !x(function() {
                new R(-1)
            }) || x(function() {
                return new R, new R(1.5), new R(NaN), "ArrayBuffer" != R.name
            })) {
            R = function(t) {
                return _(this, R), new N(M(t))
            };
            for (var j, Q = R[C] = N[C], q = E(N), X = 0; q.length > X;)(j = q[X++]) in R || A(R, j, N[j]);
            v || (Q.constructor = R)
        }
        var Y = new D(new R(2)),
            Z = D[C].setInt8;
        Y.setInt8(0, 2147483648), Y.setInt8(1, 2147483649), !Y.getInt8(0) && Y.getInt8(1) || y(D[C], {
            setInt8: function(t, e) {
                Z.call(this, t, e << 24 >> 24)
            },
            setUint8: function(t, e) {
                Z.call(this, t, e << 24 >> 24)
            }
        }, !0)
    } else R = function(t) {
        _(this, R, "ArrayBuffer");
        var e = M(t);
        this._b = T.call(Array(e), 0), this[H] = e
    }, D = function(t, e, n) {
        _(this, D, "DataView"), _(t, R, "DataView");
        var r = t[H],
            i = b(e);
        if (i < 0 || i > r) throw I("Wrong offset!");
        if (n = void 0 === n ? r - i : w(n), i + n > r) throw I("Wrong length!");
        this[G] = t, this[W] = i, this[H] = n
    }, m && (f(R, "byteLength", "_l"), f(D, "buffer", "_b"), f(D, "byteLength", "_l"), f(D, "byteOffset", "_o")), y(D[C], {
        getInt8: function(t) {
            return h(this, 1, t)[0] << 24 >> 24
        },
        getUint8: function(t) {
            return h(this, 1, t)[0]
        },
        getInt16: function(t) {
            var e = h(this, 2, t, arguments[1]);
            return (e[1] << 8 | e[0]) << 16 >> 16
        },
        getUint16: function(t) {
            var e = h(this, 2, t, arguments[1]);
            return e[1] << 8 | e[0]
        },
        getInt32: function(t) {
            return o(h(this, 4, t, arguments[1]))
        },
        getUint32: function(t) {
            return o(h(this, 4, t, arguments[1])) >>> 0
        },
        getFloat32: function(t) {
            return i(h(this, 4, t, arguments[1]), 23, 4)
        },
        getFloat64: function(t) {
            return i(h(this, 8, t, arguments[1]), 52, 8)
        },
        setInt8: function(t, e) {
            d(this, 1, t, a, e)
        },
        setUint8: function(t, e) {
            d(this, 1, t, a, e)
        },
        setInt16: function(t, e) {
            d(this, 2, t, s, e, arguments[2])
        },
        setUint16: function(t, e) {
            d(this, 2, t, s, e, arguments[2])
        },
        setInt32: function(t, e) {
            d(this, 4, t, u, e, arguments[2])
        },
        setUint32: function(t, e) {
            d(this, 4, t, u, e, arguments[2])
        },
        setFloat32: function(t, e) {
            d(this, 4, t, l, e, arguments[2])
        },
        setFloat64: function(t, e) {
            d(this, 8, t, c, e, arguments[2])
        }
    });
    L(R, "ArrayBuffer"), L(D, "DataView"), A(D[C], g.VIEW, !0), e.ArrayBuffer = R, e.DataView = D
}, function(t, e, n) {
    console.log('--------------------------------run 143');

    t.exports = {
        default: n(501),
        __esModule: !0
    }
}, function(t, e) {
    console.log('--------------------------------run 144');

    e.f = Object.getOwnPropertySymbols
}, function(t, e) {
    console.log('--------------------------------run 145');

    function n() {
        throw new Error("setTimeout has not been defined")
    }

    function r() {
        throw new Error("clearTimeout has not been defined")
    }

    function i(t) {
        if (l === setTimeout) return setTimeout(t, 0);
        if ((l === n || !l) && setTimeout) return l = setTimeout, setTimeout(t, 0);
        try {
            return l(t, 0)
        } catch (e) {
            try {
                return l.call(null, t, 0)
            } catch (e) {
                return l.call(this, t, 0)
            }
        }
    }

    function o(t) {
        if (f === clearTimeout) return clearTimeout(t);
        if ((f === r || !f) && clearTimeout) return f = clearTimeout, clearTimeout(t);
        try {
            return f(t)
        } catch (e) {
            try {
                return f.call(null, t)
            } catch (e) {
                return f.call(this, t)
            }
        }
    }

    function a() {
        m && d && (m = !1, d.length ? p = d.concat(p) : v = -1, p.length && s())
    }

    function s() {
        if (!m) {
            var t = i(a);
            m = !0;
            for (var e = p.length; e;) {
                for (d = p, p = []; ++v < e;) d && d[v].run();
                v = -1, e = p.length
            }
            d = null, m = !1, o(t)
        }
    }

    function u(t, e) {
        this.fun = t, this.array = e
    }

    function c() {}
    var l, f, h = t.exports = {};
    ! function() {
        try {
            l = "function" == typeof setTimeout ? setTimeout : n
        } catch (t) {
            l = n
        }
        try {
            f = "function" == typeof clearTimeout ? clearTimeout : r
        } catch (t) {
            f = r
        }
    }();
    var d, p = [],
        m = !1,
        v = -1;
    h.nextTick = function(t) {
        var e = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
        p.push(new u(t, e)), 1 !== p.length || m || i(s)
    }, u.prototype.run = function() {
        this.fun.apply(null, this.array)
    }, h.title = "browser", h.browser = !0, h.env = {}, h.argv = [], h.version = "", h.versions = {}, h.on = c, h.addListener = c, h.once = c, h.off = c, h.removeListener = c, h.removeAllListeners = c, h.emit = c, h.prependListener = c, h.prependOnceListener = c, h.listeners = function(t) {
        return []
    }, h.binding = function(t) {
        throw new Error("process.binding is not supported")
    }, h.cwd = function() {
        return "/"
    }, h.chdir = function(t) {
        throw new Error("process.chdir is not supported")
    }, h.umask = function() {
        return 0
    }
}, function(t, e, n) {
    console.log('--------------------------------run 146');

    t.exports = {
        default: n(521),
        __esModule: !0
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 147');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0, e.toQueryString = e.queryData = void 0;
    var i = n(168),
        o = r(i),
        a = n(34),
        s = r(a),
        u = {},
        c = {},
        l = document.createElement("a");
    e.queryData = function(t) {
        l.href = t;
        var e = l.search,
            n = {};
        return e.length > 0 && e.substring(1).split("&").forEach(function(t) {
            var e = t.split("="),
                r = e[1];
            "true" === r ? r = !0 : "false" === r && (r = !1), n[e[0]] = r
        }), (0, s.default)({}, u, n)
    }(window.location), e.toQueryString = function(t) {
        return (0, o.default)(t).filter(function(e) {
            return !(null === t[e] || u[e] === t[e] || c[e])
        }).map(function(e) {
            return encodeURIComponent(e) + "=" + encodeURIComponent(t[e])
        }).join("&")
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 148');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(533),
        o = r(i),
        a = n(535),
        s = r(a),
        u = "function" == typeof s.default && "symbol" == typeof o.default ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof s.default && t.constructor === s.default && t !== s.default.prototype ? "symbol" : typeof t
        };
    e.default = "function" == typeof s.default && "symbol" === u(o.default) ? function(t) {
        return void 0 === t ? "undefined" : u(t)
    } : function(t) {
        return t && "function" == typeof s.default && t.constructor === s.default && t !== s.default.prototype ? "symbol" : void 0 === t ? "undefined" : u(t)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 149');

    e.f = n(28)
}, function(t, e, n) {
    console.log('--------------------------------run 150');

    var r = n(27),
        i = n(17),
        o = n(99),
        a = n(171),
        s = n(57).f;
    t.exports = function(t) {
        var e = i.Symbol || (i.Symbol = o ? {} : r.Symbol || {});
        "_" == t.charAt(0) || t in e || s(e, t, {
            value: a.f(t)
        })
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 151');

    e.__esModule = !0;
    var r = n(566),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        o = void 0,
        a = {
            create: function() {
                o = new i.default
            },
            enable: function() {
                o && o.enable()
            },
            disable: function() {
                o && o.disable()
            }
        };
    e.default = a
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 152');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i() {
        var t = void 0;
        return function(e, n) {
            return t && t.cancel(), t = d.to(e, n), n.onUpdate && t.on("update", n.onUpdate), t.promise = new a.default(function(e) {
                t.on("complete", e)
            }), t
        }
    }
    e.__esModule = !0;
    var o = n(20),
        a = r(o);
    e.default = i;
    var s = n(568),
        u = r(s),
        c = n(575),
        l = r(c),
        f = n(6),
        h = r(f),
        d = new u.default({
            eases: {
                cubicInOut: l.default
            }
        });
    h.default.on("tick", d.tick.bind(d))
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 153');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(34),
        o = r(i),
        a = n(2),
        s = r(a),
        u = n(120),
        c = r(u),
        l = n(174),
        f = r(l),
        h = n(98),
        d = r(h),
        p = n(6),
        m = r(p),
        v = n(10),
        g = r(v),
        A = n(18),
        y = n(48),
        x = new A.Color(0, 0, 0),
        _ = function() {
            function t(e) {
                (0, s.default)(this, t), this.mesh = d.default.sphere.clone(), this.mesh.material = this.mesh.material.clone(), this.defaultColor = this.mesh.material.color.getHex();
                var n = this.position = this.mesh.position;
                n.y = g.default.holeHeight, n.z = 1e3, (e || m.default.scene).add(this.mesh), this.tween = (0, f.default)()
            }
            return t.prototype._fade = function(t, e) {
                this.tween(this.mesh.material.color.copy(t), (0, o.default)({
                    ease: "easeOutCubic",
                    duration: 2
                }, e))
            }, t.prototype.fadeOut = function() {
                this._fade(y.orbColor, x)
            }, t.prototype.fadeIn = function() {
                this._fade(x, y.orbColor)
            }, t.prototype.destroy = function() {
                m.default.scene.remove(this.mesh)
            }, t.prototype.highlight = function() {
                this.mesh.material.color.copy(y.highlightColor)
            }, t.prototype.unhighlight = function() {
                this.mesh.material.color.setHex(this.defaultColor)
            }, (0, c.default)(t, [{
                key: "visible",
                set: function(t) {
                    this.mesh.visible = t
                }
            }]), t
        }();
    e.default = _
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 154');

    e.__esModule = !0;
    var r = n(1);
    n(620), e.default = function(t) {
        var e = t.children;
        return (0, r.h)("div", {
            className: "line-title-text"
        }, (0, r.h)("span", null, e))
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 155');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(61),
        h = r(f),
        d = function(t) {
            function e() {
                return (0, o.default)(this, e), (0, s.default)(this, t.apply(this, arguments))
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, h.default.controllers.add(), h.default.controllers.update(this.props.settings)
            }, e.prototype.shouldComponentUpdate = function(t) {
                var e = t.settings;
                e !== this.props.settings && h.default.controllers.update(e)
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, h.default.controllers.update(null), h.default.controllers.remove()
            }, e
        }(l.Component);
    e.default = d
}, function(t, e, n) {
    console.log('--------------------------------run 156');

    function r(t) {
        return null == t ? void 0 === t ? u : s : c && c in Object(t) ? o(t) : a(t)
    }
    var i = n(255),
        o = n(632),
        a = n(633),
        s = "[object Null]",
        u = "[object Undefined]",
        c = i ? i.toStringTag : void 0;
    t.exports = r
}, function(t, e) {
    console.log('--------------------------------run 157');

    function n(t) {
        return null != t && "object" == typeof t
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 158');

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(23),
        s = r(a),
        u = n(20),
        c = r(u),
        l = n(661),
        f = r(l),
        h = n(262),
        d = r(h),
        p = n(662),
        m = (r(p), n(663)),
        v = r(m),
        g = n(56),
        A = r(g),
        y = n(10),
        x = r(y),
        _ = function(t, e) {
            // console.log('--------------------------------com 1');

            return new c.default(function(n, r) {
                v.default.upload(t, e, function(t, e) {
                    if (t) return r(t);
                    n(e)
                })
            })
        },
        b = function() {
            // console.log('--------------------------------com 2');

            var t = (0, s.default)(o.default.mark(function t() {
                var e, n;
                return o.default.wrap(function(t) {
                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2, (0, f.default)(x.default.playlistsUrl + "gallery.json");
                        case 2:
                            return e = t.sent, t.next = 5, e.json();
                        case 5:
                            return n = t.sent, t.abrupt("return", n);
                        case 7:
                        case "end":
                            return t.stop()
                    }
                }, t, void 0)
            }));
            return function() {
                return t.apply(this, arguments)
            }
        }(),
        w = function() {
            // console.log('--------------------------------com 3', s.default);

            var t = (0, s.default)(o.default.mark(function t() {
                // console.log('--------------------------------com 5');

                var e, n, r, i, a, s, u, c, l;
                return o.default.wrap(function(t) {
                    // console.log('--------------------------------com 6');

                    for (;;) switch (t.prev = t.next) {
                        case 0:
                            e = void 0, t.next = 8;
                            break;
                        case 4:
                            n = t.sent, e = n.data, t.next = 14;
                            break;
                        case 8:
                            return t.next = 10, (0, f.default)(x.default.playlistsUrl + "playlist.json");
                        case 10:
                            return r = t.sent, t.next = 13, r.json();
                        case 13:
                            e = t.sent;
                        case 14:
                            for (i = e.playlist, a = e.megagrid ? (0, d.default)(e.megagrid) : null, s = [], u = 0, c = 0; c < A.default.roomCount; c++) l = A.default.insideMegaGrid(c) ? a ? a[u++ % a.length] : null : i.shift(), s.push(l);
                            return t.abrupt("return", s);
                        case 20:
                        case "end":
                            return t.stop()
                    }
                }, t, void 0)
            }));
            return function() {
                // console.log('--------------------------------com 4');

                return t.apply(this, arguments)
            }
        }();
    e.default = {
        persist: _,
        loadPlaylist: w,
        loadGallery: b
    }
}, function(t, e, n) {
    console.log('--------------------------------run 159');

    t.exports = {
        default: n(500),
        __esModule: !0
    }
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 160');

    var r = n(273)(!0);
    n(184)(String, "String", function(t) {
        this._t = String(t), this._i = 0
    }, function() {
        var t, e = this._t,
            n = this._i;
        return n >= e.length ? {
            value: void 0,
            done: !0
        } : (t = r(e, n), this._i += t.length, {
            value: t,
            done: !1
        })
    })
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 161');

    var r = n(99),
        i = n(24),
        o = n(186),
        a = n(62),
        s = n(63),
        u = n(88),
        c = n(274),
        l = n(103),
        f = n(277),
        h = n(28)("iterator"),
        d = !([].keys && "next" in [].keys()),
        p = function() {
            return this
        };
    t.exports = function(t, e, n, m, v, g, A) {
        c(n, e, m);
        var y, x, _, b = function(t) {
                if (!d && t in S) return S[t];
                switch (t) {
                    case "keys":
                    case "values":
                        return function() {
                            return new n(this, t)
                        }
                }
                return function() {
                    return new n(this, t)
                }
            },
            w = e + " Iterator",
            M = "values" == v,
            E = !1,
            S = t.prototype,
            T = S[h] || S["@@iterator"] || v && S[v],
            L = T || b(v),
            C = v ? M ? b("entries") : L : void 0,
            P = "Array" == e ? S.entries || T : T;
        if (P && (_ = f(P.call(new t))) !== Object.prototype && _.next && (l(_, w, !0), r || s(_, h) || a(_, h, p)), M && T && "values" !== T.name && (E = !0, L = function() {
                return T.call(this)
            }), r && !A || !d && !E && S[h] || a(S, h, L), u[e] = L, u[w] = p, v)
            if (y = {
                    values: M ? L : b("values"),
                    keys: g ? L : b("keys"),
                    entries: C
                }, A)
                for (x in y) x in S || o(S, x, y[x]);
            else i(i.P + i.F * (d || E), e, y);
        return y
    }
}, function(t, e, n) {
    console.log('--------------------------------run 162');

    t.exports = !n(51) && !n(79)(function() {
        return 7 != Object.defineProperty(n(131)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(t, e, n) {
    console.log('--------------------------------run 163');

    t.exports = n(62)
}, function(t, e, n) {
    console.log('--------------------------------run 164');

    var r = n(57),
        i = n(49),
        o = n(80);
    t.exports = n(51) ? Object.defineProperties : function(t, e) {
        i(t);
        for (var n, a = o(e), s = a.length, u = 0; s > u;) r.f(t, n = a[u++], e[n]);
        return t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 165');

    var r = n(63),
        i = n(64),
        o = n(275)(!1),
        a = n(134)("IE_PROTO");
    t.exports = function(t, e) {
        var n, s = i(t),
            u = 0,
            c = [];
        for (n in s) n != a && r(s, n) && c.push(n);
        for (; e.length > u;) r(s, n = e[u++]) && (~o(c, n) || c.push(n));
        return c
    }
}, function(t, e, n) {
    console.log('--------------------------------run 166');

    var r = n(89);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
        return "String" == r(t) ? t.split("") : Object(t)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 167');

    var r = n(129),
        i = Math.min;
    t.exports = function(t) {
        return t > 0 ? i(r(t), 9007199254740991) : 0
    }
}, function(t, e, n) {
    console.log('--------------------------------run 168');

    var r = n(27).document;
    t.exports = r && r.documentElement
}, function(t, e, n) {
    console.log('--------------------------------run 169');

    n(278);
    for (var r = n(27), i = n(62), o = n(88), a = n(28)("toStringTag"), s = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), u = 0; u < s.length; u++) {
        var c = s[u],
            l = r[c],
            f = l && l.prototype;
        f && !f[a] && i(f, a, c), o[c] = o.Array
    }
}, function(t, e, n) {
    console.log('--------------------------------run 170');

    var r = n(89),
        i = n(28)("toStringTag"),
        o = "Arguments" == r(function() {
            return arguments
        }()),
        a = function(t, e) {
            try {
                return t[e]
            } catch (t) {}
        };
    t.exports = function(t) {
        var e, n, s;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof(n = a(e = Object(t), i)) ? n : o ? r(e) : "Object" == (s = r(e)) && "function" == typeof e.callee ? "Arguments" : s
    }
}, function(t, e, n) {
    console.log('--------------------------------run 171');

    var r = n(49),
        i = n(100),
        o = n(28)("species");
    t.exports = function(t, e) {
        var n, a = r(t).constructor;
        return void 0 === a || void 0 == (n = r(a)[o]) ? e : i(n)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 172');

    var r, i, o, a = n(87),
        s = n(287),
        u = n(191),
        c = n(131),
        l = n(27),
        f = l.process,
        h = l.setImmediate,
        d = l.clearImmediate,
        p = l.MessageChannel,
        m = l.Dispatch,
        v = 0,
        g = {},
        A = function() {
            var t = +this;
            if (g.hasOwnProperty(t)) {
                var e = g[t];
                delete g[t], e()
            }
        },
        y = function(t) {
            A.call(t.data)
        };
    h && d || (h = function(t) {
        for (var e = [], n = 1; arguments.length > n;) e.push(arguments[n++]);
        return g[++v] = function() {
            s("function" == typeof t ? t : Function(t), e)
        }, r(v), v
    }, d = function(t) {
        delete g[t]
    }, "process" == n(89)(f) ? r = function(t) {
        f.nextTick(a(A, t, 1))
    } : m && m.now ? r = function(t) {
        m.now(a(A, t, 1))
    } : p ? (i = new p, o = i.port2, i.port1.onmessage = y, r = a(o.postMessage, o, 1)) : l.addEventListener && "function" == typeof postMessage && !l.importScripts ? (r = function(t) {
        l.postMessage(t + "", "*")
    }, l.addEventListener("message", y, !1)) : r = "onreadystatechange" in c("script") ? function(t) {
        u.appendChild(c("script")).onreadystatechange = function() {
            u.removeChild(this), A.call(t)
        }
    } : function(t) {
        setTimeout(a(A, t, 1), 0)
    }), t.exports = {
        set: h,
        clear: d
    }
}, function(t, e) {
    t.exports = function(t) {
        try {
            return {
                e: !1,
                v: t()
            }
        } catch (t) {
            return {
                e: !0,
                v: t
            }
        }
    }
}, function(t, e, n) {
    console.log('--------------------------------run 173');

    var r = n(49),
        i = n(50),
        o = n(138);
    t.exports = function(t, e) {
        if (r(t), i(e) && e.constructor === t) return e;
        var n = o.f(t);
        return (0, n.resolve)(e), n.promise
    }
}, function(t, e, n) {
    console.log('--------------------------------run 174');

    t.exports = !n(14) && !n(8)(function() {
        return 7 != Object.defineProperty(n(139)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(t, e, n) {
    console.log('--------------------------------run 175');

    e.f = n(12)
}, function(t, e, n) {
    console.log('--------------------------------run 176');

    var r = n(29),
        i = n(35),
        o = n(105)(!1),
        a = n(141)("IE_PROTO");
    t.exports = function(t, e) {
        var n, s = i(t),
            u = 0,
            c = [];
        for (n in s) n != a && r(s, n) && c.push(n);
        for (; e.length > u;) r(s, n = e[u++]) && (~o(c, n) || c.push(n));
        return c
    }
}, function(t, e, n) {
    console.log('--------------------------------run 177');

    var r = n(15),
        i = n(5),
        o = n(68);
    t.exports = n(14) ? Object.defineProperties : function(t, e) {
        i(t);
        for (var n, a = o(e), s = a.length, u = 0; s > u;) r.f(t, n = a[u++], e[n]);
        return t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 178');

    var r = n(35),
        i = n(71).f,
        o = {}.toString,
        a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
        s = function(t) {
            try {
                return i(t)
            } catch (t) {
                return a.slice()
            }
        };
    t.exports.f = function(t) {
        return a && "[object Window]" == o.call(t) ? s(t) : i(r(t))
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 179');

    var r = n(68),
        i = n(106),
        o = n(91),
        a = n(21),
        s = n(90),
        u = Object.assign;
    t.exports = !u || n(8)(function() {
        var t = {},
            e = {},
            n = Symbol(),
            r = "abcdefghijklmnopqrst";
        return t[n] = 7, r.split("").forEach(function(t) {
            e[t] = t
        }), 7 != u({}, t)[n] || Object.keys(u({}, e)).join("") != r
    }) ? function(t, e) {
        for (var n = a(t), u = arguments.length, c = 1, l = i.f, f = o.f; u > c;)
            for (var h, d = s(arguments[c++]), p = l ? r(d).concat(l(d)) : r(d), m = p.length, v = 0; m > v;) f.call(d, h = p[v++]) && (n[h] = d[h]);
        return n
    } : u
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 180');

    var r = n(25),
        i = n(9),
        o = n(205),
        a = [].slice,
        s = {},
        u = function(t, e, n) {
            if (!(e in s)) {
                for (var r = [], i = 0; i < e; i++) r[i] = "a[" + i + "]";
                s[e] = Function("F,a", "return new F(" + r.join(",") + ")")
            }
            return s[e](t, n)
        };
    t.exports = Function.bind || function(t) {
        var e = r(this),
            n = a.call(arguments, 1),
            s = function() {
                var r = n.concat(a.call(arguments));
                return this instanceof s ? u(e, r.length, r) : o(e, r, t)
            };
        return i(e.prototype) && (s.prototype = e.prototype), s
    }
}, function(t, e) {
    console.log('--------------------------------run 181');

    t.exports = function(t, e, n) {
        var r = void 0 === n;
        switch (e.length) {
            case 0:
                return r ? t() : t.call(n);
            case 1:
                return r ? t(e[0]) : t.call(n, e[0]);
            case 2:
                return r ? t(e[0], e[1]) : t.call(n, e[0], e[1]);
            case 3:
                return r ? t(e[0], e[1], e[2]) : t.call(n, e[0], e[1], e[2]);
            case 4:
                return r ? t(e[0], e[1], e[2], e[3]) : t.call(n, e[0], e[1], e[2], e[3])
        }
        return t.apply(n, e)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 182');

    var r = n(7).parseInt,
        i = n(82).trim,
        o = n(145),
        a = /^[-+]?0[xX]/;
    t.exports = 8 !== r(o + "08") || 22 !== r(o + "0x16") ? function(t, e) {
        var n = i(String(t), 3);
        return r(n, e >>> 0 || (a.test(n) ? 16 : 10))
    } : r
}, function(t, e, n) {
    console.log('--------------------------------run 183');

    var r = n(7).parseFloat,
        i = n(82).trim;
    t.exports = 1 / r(n(145) + "-0") != -1 / 0 ? function(t) {
        var e = i(String(t), 3),
            n = r(e);
        return 0 === n && "-" == e.charAt(0) ? -0 : n
    } : r
}, function(t, e, n) {
    console.log('--------------------------------run 184');

    var r = n(39);
    t.exports = function(t, e) {
        if ("number" != typeof t && "Number" != r(t)) throw TypeError(e);
        return +t
    }
}, function(t, e, n) {
    console.log('--------------------------------run 185');

    var r = n(9),
        i = Math.floor;
    t.exports = function(t) {
        return !r(t) && isFinite(t) && i(t) === t
    }
}, function(t, e) {
    console.log('--------------------------------run 186');

    t.exports = Math.log1p || function(t) {
        return (t = +t) > -1e-8 && t < 1e-8 ? t - t * t / 2 : Math.log(1 + t)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 187');

    var r = n(148),
        i = Math.pow,
        o = i(2, -52),
        a = i(2, -23),
        s = i(2, 127) * (2 - a),
        u = i(2, -126),
        c = function(t) {
            return t + 1 / o - 1 / o
        };
    t.exports = Math.fround || function(t) {
        var e, n, i = Math.abs(t),
            l = r(t);
        return i < u ? l * c(i / u / a) * u * a : (e = (1 + a / o) * i, n = e - (e - i), n > s || n != n ? l * (1 / 0) : l * n)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 188');

    var r = n(5);
    t.exports = function(t, e, n, i) {
        try {
            return i ? e(r(n)[0], n[1]) : e(n)
        } catch (e) {
            var o = t.return;
            throw void 0 !== o && r(o.call(t)), e
        }
    }
}, function(t, e, n) {
    console.log('--------------------------------run 189');

    var r = n(25),
        i = n(21),
        o = n(90),
        a = n(16);
    t.exports = function(t, e, n, s, u) {
        r(e);
        var c = i(t),
            l = o(c),
            f = a(c.length),
            h = u ? f - 1 : 0,
            d = u ? -1 : 1;
        if (n < 2)
            for (;;) {
                if (h in l) {
                    s = l[h], h += d;
                    break
                }
                if (h += d, u ? h < 0 : f <= h) throw TypeError("Reduce of empty array with no initial value")
            }
        for (; u ? h >= 0 : f > h; h += d) h in l && (s = e(s, l[h], h, c));
        return s
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 190');

    var r = n(21),
        i = n(69),
        o = n(16);
    t.exports = [].copyWithin || function(t, e) {
        var n = r(this),
            a = o(n.length),
            s = i(t, a),
            u = i(e, a),
            c = arguments.length > 2 ? arguments[2] : void 0,
            l = Math.min((void 0 === c ? a : i(c, a)) - u, a - s),
            f = 1;
        for (u < s && s < u + l && (f = -1, u += l - 1, s += l - 1); l-- > 0;) u in n ? n[s] = n[u] : delete n[s], s += f, u += f;
        return n
    }
}, function(t, e) {
    console.log('--------------------------------run 191');

    t.exports = function(t, e) {
        return {
            value: e,
            done: !!t
        }
    }
}, function(t, e, n) {
    console.log('--------------------------------run 192');

    n(14) && "g" != /./g.flags && n(15).f(RegExp.prototype, "flags", {
        configurable: !0,
        get: n(110)
    })
}, function(t, e) {
    console.log('--------------------------------run 193');

    t.exports = function(t) {
        try {
            return {
                e: !1,
                v: t()
            }
        } catch (t) {
            return {
                e: !0,
                v: t
            }
        }
    }
}, function(t, e, n) {
    console.log('--------------------------------run 194');

    var r = n(5),
        i = n(9),
        o = n(163);
    t.exports = function(t, e) {
        if (r(t), i(e) && e.constructor === t) return e;
        var n = o.f(t);
        return (0, n.resolve)(e), n.promise
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 195');

    var r = n(220),
        i = n(84);
    t.exports = n(113)("Map", function(t) {
        return function() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        get: function(t) {
            var e = r.getEntry(i(this, "Map"), t);
            return e && e.v
        },
        set: function(t, e) {
            return r.def(i(this, "Map"), 0 === t ? 0 : t, e)
        }
    }, r, !0)
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 196');

    var r = n(15).f,
        i = n(70),
        o = n(75),
        a = n(38),
        s = n(73),
        u = n(74),
        c = n(151),
        l = n(215),
        f = n(72),
        h = n(14),
        d = n(58).fastKey,
        p = n(84),
        m = h ? "_s" : "size",
        v = function(t, e) {
            var n, r = d(e);
            if ("F" !== r) return t._i[r];
            for (n = t._f; n; n = n.n)
                if (n.k == e) return n
        };
    t.exports = {
        getConstructor: function(t, e, n, c) {
            var l = t(function(t, r) {
                s(t, l, e, "_i"), t._t = e, t._i = i(null), t._f = void 0, t._l = void 0, t[m] = 0, void 0 != r && u(r, n, t[c], t)
            });
            return o(l.prototype, {
                clear: function() {
                    for (var t = p(this, e), n = t._i, r = t._f; r; r = r.n) r.r = !0, r.p && (r.p = r.p.n = void 0), delete n[r.i];
                    t._f = t._l = void 0, t[m] = 0
                },
                delete: function(t) {
                    var n = p(this, e),
                        r = v(n, t);
                    if (r) {
                        var i = r.n,
                            o = r.p;
                        delete n._i[r.i], r.r = !0, o && (o.n = i), i && (i.p = o), n._f == r && (n._f = i), n._l == r && (n._l = o), n[m]--
                    }
                    return !!r
                },
                forEach: function(t) {
                    p(this, e);
                    for (var n, r = a(t, arguments.length > 1 ? arguments[1] : void 0, 3); n = n ? n.n : this._f;)
                        for (r(n.v, n.k, this); n && n.r;) n = n.p
                },
                has: function(t) {
                    return !!v(p(this, e), t)
                }
            }), h && r(l.prototype, "size", {
                get: function() {
                    return p(this, e)[m]
                }
            }), l
        },
        def: function(t, e, n) {
            var r, i, o = v(t, e);
            return o ? o.v = n : (t._l = o = {
                i: i = d(e, !0),
                k: e,
                v: n,
                p: r = t._l,
                n: void 0,
                r: !1
            }, t._f || (t._f = o), r && (r.n = o), t[m]++, "F" !== i && (t._i[i] = o)), t
        },
        getEntry: v,
        setStrong: function(t, e, n) {
            c(t, e, function(t, n) {
                this._t = p(t, e), this._k = n, this._l = void 0
            }, function() {
                for (var t = this, e = t._k, n = t._l; n && n.r;) n = n.p;
                return t._t && (t._l = n = n ? n.n : t._t._f) ? "keys" == e ? l(0, n.k) : "values" == e ? l(0, n.v) : l(0, [n.k, n.v]) : (t._t = void 0, l(1))
            }, n ? "entries" : "values", !n, !0), f(e)
        }
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 197');

    var r = n(220),
        i = n(84);
    t.exports = n(113)("Set", function(t) {
        return function() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function(t) {
            return r.def(i(this, "Set"), t = 0 === t ? 0 : t, t)
        }
    }, r)
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 198');

    var r, i = n(47)(0),
        o = n(31),
        a = n(58),
        s = n(203),
        u = n(223),
        c = n(9),
        l = n(8),
        f = n(84),
        h = a.getWeak,
        d = Object.isExtensible,
        p = u.ufstore,
        m = {},
        v = function(t) {
            return function() {
                return t(this, arguments.length > 0 ? arguments[0] : void 0)
            }
        },
        g = {
            get: function(t) {
                if (c(t)) {
                    var e = h(t);
                    return !0 === e ? p(f(this, "WeakMap")).get(t) : e ? e[this._i] : void 0
                }
            },
            set: function(t, e) {
                return u.def(f(this, "WeakMap"), t, e)
            }
        },
        A = t.exports = n(113)("WeakMap", v, g, u, !0, !0);
    l(function() {
        return 7 != (new A).set((Object.freeze || Object)(m), 7).get(m)
    }) && (r = u.getConstructor(v, "WeakMap"), s(r.prototype, g), a.NEED = !0, i(["delete", "has", "get", "set"], function(t) {
        var e = A.prototype,
            n = e[t];
        o(e, t, function(e, i) {
            if (c(e) && !d(e)) {
                this._f || (this._f = new r);
                var o = this._f[t](e, i);
                return "set" == t ? this : o
            }
            return n.call(this, e, i)
        })
    }))
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 199');

    var r = n(75),
        i = n(58).getWeak,
        o = n(5),
        a = n(9),
        s = n(73),
        u = n(74),
        c = n(47),
        l = n(29),
        f = n(84),
        h = c(5),
        d = c(6),
        p = 0,
        m = function(t) {
            return t._l || (t._l = new v)
        },
        v = function() {
            this.a = []
        },
        g = function(t, e) {
            return h(t.a, function(t) {
                return t[0] === e
            })
        };
    v.prototype = {
        get: function(t) {
            var e = g(this, t);
            if (e) return e[1]
        },
        has: function(t) {
            return !!g(this, t)
        },
        set: function(t, e) {
            var n = g(this, t);
            n ? n[1] = e : this.a.push([t, e])
        },
        delete: function(t) {
            var e = d(this.a, function(e) {
                return e[0] === t
            });
            return ~e && this.a.splice(e, 1), !!~e
        }
    }, t.exports = {
        getConstructor: function(t, e, n, o) {
            var c = t(function(t, r) {
                s(t, c, e, "_i"), t._t = e, t._i = p++, t._l = void 0, void 0 != r && u(r, n, t[o], t)
            });
            return r(c.prototype, {
                delete: function(t) {
                    if (!a(t)) return !1;
                    var n = i(t);
                    return !0 === n ? m(f(this, e)).delete(t) : n && l(n, this._i) && delete n[this._i]
                },
                has: function(t) {
                    if (!a(t)) return !1;
                    var n = i(t);
                    return !0 === n ? m(f(this, e)).has(t) : n && l(n, this._i)
                }
            }), c
        },
        def: function(t, e, n) {
            var r = i(o(e), !0);
            return !0 === r ? m(t).set(e, n) : r[t._i] = n, t
        },
        ufstore: m
    }
}, function(t, e, n) {
    console.log('--------------------------------run 200');

    var r = n(45),
        i = n(16);
    t.exports = function(t) {
        if (void 0 === t) return 0;
        var e = r(t),
            n = i(e);
        if (e !== n) throw RangeError("Wrong length!");
        return n
    }
}, function(t, e, n) {
    console.log('--------------------------------run 201');

    var r = n(71),
        i = n(106),
        o = n(5),
        a = n(7).Reflect;
    t.exports = a && a.ownKeys || function(t) {
        var e = r.f(o(t)),
            n = i.f;
        return n ? e.concat(n(t)) : e
    }
}, function(t, e, n) {
    "use strict";

    console.log('--------------------------------run 202');

    function r(t, e, n, c, l, f, h, d) {
        for (var p, m, v = l, g = 0, A = !!h && s(h, d, 3); g < c;) {
            if (g in n) {
                if (p = A ? A(n[g], g, e) : n[g], m = !1, o(p) && (m = p[u], m = void 0 !== m ? !!m : i(p)), m && f > 0) v = r(t, e, p, a(p.length), v, f - 1) - 1;
                else {
                    if (v >= 9007199254740991) throw TypeError();
                    t[v] = p
                }
                v++
            }
            g++
        }
        return v
    }
    var i = n(107),
        o = n(9),
        a = n(16),
        s = n(38),
        u = n(12)("isConcatSpreadable");
    t.exports = r
}, function(t, e, n) {
    console.log('--------------------------------run 203');

    var r = n(16),
        i = n(147),
        o = n(44);
    t.exports = function(t, e, n, a) {
        var s = String(o(t)),
            u = s.length,
            c = void 0 === n ? " " : String(n),
            l = r(e);
        if (l <= u || "" == c) return s;
        var f = l - u,
            h = i.call(c, Math.ceil(f / c.length));
        return h.length > f && (h = h.slice(0, f)), a ? h + s : s + h
    }
}, function(t, e, n) {
    console.log('--------------------------------run 204');

    var r = n(68),
        i = n(35),
        o = n(91).f;
    t.exports = function(t) {
        return function(e) {
            for (var n, a = i(e), s = r(a), u = s.length, c = 0, l = []; u > c;) o.call(a, n = s[c++]) && l.push(t ? [n, a[n]] : a[n]);
            return l
        }
    }
}, function(t, e, n) {
    console.log('--------------------------------run 205');

    var r = n(92),
        i = n(230);
    t.exports = function(t) {
        return function() {
            if (r(this) != t) throw TypeError(t + "#toJSON isn't generic");
            return i(this)
        }
    }
}, function(t, e, n) {
    console.log('--------------------------------run 206');

    var r = n(74);
    t.exports = function(t, e) {
        var n = [];
        return r(t, !1, n.push, n, e), n
    }
}, function(t, e) {
    console.log('--------------------------------run 207');

    t.exports = Math.scale || function(t, e, n, r, i) {
        return 0 === arguments.length || t != t || e != e || n != n || r != r || i != i ? NaN : t === 1 / 0 || t === -1 / 0 ? t : (t - e) * (i - r) / (n - e) + r
    }
}, function(t, e, n) {
    console.log('--------------------------------run 208');

    var r = n(102)("meta"),
        i = n(50),
        o = n(63),
        a = n(57).f,
        s = 0,
        u = Object.isExtensible || function() {
            return !0
        },
        c = !n(79)(function() {
            return u(Object.preventExtensions({}))
        }),
        l = function(t) {
            a(t, r, {
                value: {
                    i: "O" + ++s,
                    w: {}
                }
            })
        },
        f = function(t, e) {
            if (!i(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
            if (!o(t, r)) {
                if (!u(t)) return "F";
                if (!e) return "E";
                l(t)
            }
            return t[r].i
        },
        h = function(t, e) {
            if (!o(t, r)) {
                if (!u(t)) return !0;
                if (!e) return !1;
                l(t)
            }
            return t[r].w
        },
        d = function(t) {
            return c && p.NEED && u(t) && !o(t, r) && l(t), t
        },
        p = t.exports = {
            KEY: r,
            NEED: !1,
            fastKey: f,
            getWeak: h,
            onFreeze: d
        }
}, function(t, e, n) {
    console.log('--------------------------------run 209');

    var r = n(24),
        i = n(17),
        o = n(79);
    t.exports = function(t, e) {
        var n = (i.Object || {})[t] || Object[t],
            a = {};
        a[t] = e(n), r(r.S + r.F * o(function() {
            n(1)
        }), "Object", a)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 210');

    var r = n(188),
        i = n(136).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function(t) {
        return r(t, i)
    }
}, function(t, e, n) {
    console.log('--------------------------------run 211');

    var r = n(93),
        i = n(101),
        o = n(64),
        a = n(132),
        s = n(63),
        u = n(185),
        c = Object.getOwnPropertyDescriptor;
    e.f = n(51) ? c : function(t, e) {
        if (t = o(t), e = a(e, !0), u) try {
            return c(t, e)
        } catch (t) {}
        if (s(t, e)) return i(!r.f.call(t, e), t[e])
    }
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(13),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        o = i.default.isAndroid ? "data:audio/ogg;base64,T2dnUwACAAAAAAAAAAB5XQAAAAAAAAoMMIMBHgF2b3JiaXMAAAAAAkSsAAD/////APQBAP////+4AU9nZ1MAAAAAAAAAAAAAeV0AAAEAAACuoACbEUn/////////////////////A3ZvcmJpczkAAABCUzsgTGFuY2VyKFNTRSkgWzIwMDYxMTEwXSAoYmFzZWQgb24gYW9UdVYgYjUgWzIwMDYxMDI0XSkAAAAAAQV2b3JiaXMpQkNWAQAIAACAIkwYxIDQkFUAABAAAKCsN5Z7yL333nuBqEcUe4i9995746xH0HqIuffee+69pxp7y7333nMgNGQVAAAEAIApCJpy4ELqvfceGeYRURoqx733HhmFiTCUGYU9ldpa6yGT3ELqPeceCA1ZBQAAAgBACCGEFFJIIYUUUkghhRRSSCmlmGKKKaaYYsoppxxzzDHHIIMOOuikk1BCCSmkUEoqqaSUUkot1lpz7r0H3XPvQfgghBBCCCGEEEIIIYQQQghCQ1YBACAAAARCCCFkEEIIIYQUUkghpphiyimngNCQVQAAIACAAAAAAEmRFMuxHM3RHM3xHM8RJVESJdEyLdNSNVMzPVVURdVUVVdVXV13bdV2bdWWbddWbdV2bdVWbVm2bdu2bdu2bdu2bdu2bdu2bSA0ZBUAIAEAoCM5kiMpkiIpkuM4kgSEhqwCAGQAAAQAoCiK4ziO5EiOJWmSZnmWZ4maqJma6KmeCoSGrAIAAAEABAAAAAAA4HiK53iOZ3mS53iOZ3map2mapmmapmmapmmapmmapmmapmmapmmapmmapmmapmmapmmapmmapmmapmlAaMgqAEACAEDHcRzHcRzHcRxHciQHCA1ZBQDIAAAIAEBSJMdyLEdzNMdzPEd0RMd0TMmUVMm1XAsIDVkFAAACAAgAAAAAAEATLEVTPMeTPM8TNc/TNM0TTVE0TdM0TdM0TdM0TdM0TdM0TdM0TdM0TdM0TdM0TdM0TdM0TdM0TVMUgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAAMO05NJyz42gSCpHtdaSUeUkxRwaiqCCVnMNFTSISYshYgohJjGWDjqmnNQaUykZc1RzbCFUiEkNOqZSKQYtCEJDVggAoRkADscBJMsCJEsDAAAAAAAAAEnTAM3zAMvzAAAAAAAAAEDSNMDyNEDzPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJE0DNM8DNM8DAAAAAAAAAM3zAE8UAU8UAQAAAAAAAMDyPMATPcATRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHE0DNM8DNM8DAAAAAAAAAMvzAE8UAc8TAQAAAAAAAEDzPMATRcATRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABFkKhISsCgDgBAIckQZIgSdA0gGRZ0DRoGkwTIFkWNA2aBtMEAAAAAAAAAAAAQPI0aBo0DaIIkDQPmgZNgygCAAAAAAAAAAAAIGkaNA2aBlEESJoGTYOmQRQBAAAAAAAAAAAA0EwToghRhGkCPNOEKEIUYZoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAgAEHAIAAE8pAoSErAoA4AQCHolgWAAA4kmNZAADgOJJlAQCAZVmiCAAAlqWJIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAQcAgAATykChISsBgCgAAIeiWBZwHMsCjmNZQJIsC2BZAM0DaBpAFAGAAACAAgcAgAAbNCUWByg0ZCUAEAUA4FAUy9I0UeQ4lqVposiRLEvTRJFlaZrnmSY0zfNMEaLneaYJz/M804RpiqKqAlE0TQEAAAUOAAABNmhKLA5QaMhKACAkAMDhOJbleaLoeaJomqrKcSzL80RRFE1TVVWV42iW54miKJqmqqoqy9I0zxNFUTRNVVVdaJrniaIomqaqui48z/NEURRNU1VdF57neaIoiqapqq4LURRF0zRNVVVV1wWiaJqmqaqq6rpAFEXTNFVVVV0XiKIomqaqqq7rAtM0TVVVVdeVXYBpqqqquq7rAlRVVV3XdWUZoKqq6rquK8sA13Vd15VlWQbguq7ryrIsAADgwAEAIMAIOsmosggbTbjwABQasiIAiAIAAIxhSjGlDGMSQgqhYUxCSCFkUlIqKaUKQiollVJBSKWkUjJKLaWWUgUhlZJKqSCkUlIpBQCAHTgAgB1YCIWGrAQA8gAACGOUYowx5yRCSjHmnHMSIaUYc845qRRjzjnnnJSSMeecc05K6ZhzzjknpWTMOeeck1I655xzzkkppXTOOeeklFJC6Bx0UkopnXMOQgEAQAUOAAABNopsTjASVGjISgAgFQDA4DiWpWmeJ4qmaUmSpnme54mmqmqSpGmeJ4qmqao8z/NEURRNU1V5nueJoiiapqpyXVEURdM0TVUly6JoiqapqqoL0zRN01RV14VpmqZpqqrrwrZVVVVd13Vh26qqqq7rysB1Xdd1ZRnIruu6riwLAABPcAAAKrBhdYSTorHAQkNWAgAZAACEMQgphBBSyCCkEEJIKYWQAACAAQcAgAATykChISsBgFQAAIAQa6211lprDWPWWmuttdYS56y11lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttVYAIHaFA8BOhA2rI5wUjQUWGrISAAgHAACMQYgx6CSUUkqFEGPQSUiltRgrhBiDUEpKrbWYPOcchFJaai3G5DnnIKTUWowxJtdCSCmllmKLsbgWQioptdZirMkYlVJqLbYYa+3FqJRKSzHGGGswxubUWowx1lqLMTq3EkuMMcZahBHGxRZjrLXXIowRssXSWq21BmOMsbm12GrNuRgjjK4ttVZrzQUAmDw4AEAl2DjDStJZ4WhwoSErAYDcAAACIaUYY8w555xzDkIIqVKMOecchBBCCKGUUlKlGHPOOQghhFBCKaWkjDHmHIQQQgillFJKaSllzDkIIYRQSimllNJS65xzEEIIpZRSSiklpdQ55yCEUEoppZRSSkothBBCKKGUUkoppZSUUkohhFBKKaWUUkopqaWUQgillFJKKaWUUlJKKYUQQimllFJKKaWklForpZRSSimllFJKSS21lFIopZRSSimllJJaSimlUkoppZRSSiklpdRSSqWUUkoppZRSSkuppZRKKaWUUkoppZSUUkoppVRKKaWUUkopKaXUWkoppZRKKaWUUlprKaWWUiqllFJKKaW01FprLbWUSimllFJKaa21lFJKKZVSSimllFIAANCBAwBAgBGVFmKnGVcegSMKGSagQkNWAgBkAAAMo5RSSS1FgiKlGKSWQiUVc1BSiihzDlKsqULOIOYklYoxhJSDVDIHlVLMQQohZUwpBq2VGDrGmKOYaiqhYwwAAABBAACBkAkECqDAQAYAHCAkSAEAhQWGDhEiQIwCA+Pi0gYAIAiRGSIRsRgkJlQDRcV0ALC4wJAPABkaG2kXF9BlgAu6uOtACEEIQhCLAyggAQcn3PDEG55wgxN0ikodCAAAAACAAwA8AAAkG0BERDRzHB0eHyAhIiMkJU9nZ1MAAQAAAAAAAAAAeV0AAAIAAAA8TmFOATwmJygCAAAAAMAGAB8AAEkKEBERzRxHh8cHSIjICEmJyQlKAAAggAAAAAAACCAAAQEBAAAAAIAAAAAAAQFPZ2dTAABA9gMAAAAAAHldAAADAAAABCzmtv8BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEACg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg5PZ2dTAABA8gcAAAAAAHldAAAEAAAACQcl4P8BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg5PZ2dTAAQA0AsAAAAAAHldAAAFAAAAJr6cgPgBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4O" : "data:audio/mpeg;base64,/+MYxAAAAANIAAAAAExBTUUzLjk4LjIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        a = [],
        s = function() {
            if (!(a.length > 2)) {
                var t = new Audio;
                t.src = o, t.play(), a.push(t)
            }
        };
    i.default.isMobile && window.addEventListener("click", s), e.default = {
        get: function() {
            return a.shift()
        },
        fill: s
    }
}, function(t, e, n) {
    t.exports = n.p + "64eb026bb3e5fbd1ed9b8bcdf1590dd6.png"
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(20),
        o = r(i),
        a = n(2),
        s = r(a),
        u = n(169),
        c = n(563),
        l = r(c),
        f = n(13),
        h = r(f),
        d = n(564),
        p = r(d),
        m = location.protocol,
        v = function(t) {
            return m + "//storage.googleapis.com/you-move-me.appspot.com/recordings/" + t + "/" + (u.queryData.dataRate || (h.default.has6DOF ? 45 : 15)) + "FPS.json"
        },
        g = function() {
            function t(e, n) {
                (0, s.default)(this, t), this.fps = 90, n && (this.frames = n.frames, this.hideHead = n.hideHead, this.count = n.count, this.complete = !0), this.id = e
            }
            return t.prototype.cancel = function() {
                this.streamer && this.streamer.cancel()
            }, t.prototype.getFrame = function(t) {
                return new p.default(this, t)
            }, t.prototype.load = function(t) {
                var e = this,
                    n = [],
                    r = void 0;

                this.frames = n;
                /* Object.defineProperty(this, 'frames', {
                  get() {
                    const stack = new Error().stack;
                    if (stack.indexOf('/bundle.js:16128') === -1) {
                      console.log('get frames', stack);
                    }
                    return n;
                  },
                  set(frames) {
                    throw new Error('fail');
                    n = frames;
                  },
                }); */

                // console.log('streamer', l.default);

                this.streamer = (0, l.default)(v(this.id), function(i, o) {
                    if (i || !o) {
                      return void(t && (i || (e.complete = !0), t(i)));
                    }
                    if (r) {
                      /* if (/\s/.test(o)) {
                        throw new Error('fail 2');
                      } */
                      n.push(o);
                    } else {
                      r = JSON.parse(o);
                      e.hideHead = r.hideHead;
                      e.count = r.count;
                      r.fps && (e.fps = r.fps);
                    }
                })
            }, t
        }();
    e.default = g, g.testUrl = function(t) {
        return new o.default(function(e) {
            var n = new XMLHttpRequest;
            n.open("GET", v(t), !0), n.onreadystatechange = function() {
                n.status && (e(n.status < 400), n.abort())
            }, n.send()
        })
    }
}, function(t, e) {
    function n(t) {
        return t
    }
    t.exports = n
}, function(t, e, n) {
    var r = n(571);
    t.exports = function(t, e, n, i) {
        if ("number" == typeof t && "number" == typeof e) return r(t, e, n);
        var o = Math.min(t.length, e.length);
        i = i || new Array(o);
        for (var a = 0; a < o; a++) i[a] = r(t[a], e[a], n);
        return i
    }
}, function(t, e, n) {
    var r = n(122),
        i = n(266),
        o = n(573),
        a = o(new r);
    t.exports = function(t, e) {
        var n = [],
            r = o(e);
        for (var s in e)
            if (r.indexOf(s) >= 0 && s in t && -1 === a.indexOf(s)) {
                var u = t[s],
                    c = e[s];
                "number" == typeof u && "number" == typeof c ? n.push({
                    key: s,
                    start: u,
                    end: c
                }) : i(u) && i(c) && n.push({
                    key: s,
                    start: u.slice(),
                    end: c.slice()
                })
            }
        return n
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(10),
        o = r(i),
        a = n(6),
        s = r(a),
        u = void 0,
        c = 0,
        l = 60,
        f = !1,
        h = o.default.cullDistance,
        d = o.default.logging;
    document.addEventListener("visibilitychange", function() {
        f = document.hidden
    }), e.default = {
        tick: function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 3e3;
            if (f) return u = null, c = 0, l;
            c++;
            var e = (performance || Date).now();
            if (null == u && (u = e), e > u + t) {
                l = Math.round(1e3 * c / (e - u)), c = 0, u = e;
                var n = o.default.cullDistance;
                l <= 52 ? o.default.cullDistance = Math.max(o.default.minCullDistance, o.default.cullDistance - o.default.roomDepth) : l > 56 && (o.default.cullDistance = Math.min(o.default.maxCullDistance, o.default.cullDistance + o.default.roomDepth)), d && n !== o.default.cullDistance && console.log((n > o.default.cullDistance ? "Lowering" : "Upping") + " cull distance to", o.default.cullDistance)
            }
            h = .95 * h + .05 * o.default.cullDistance, s.default.isOrthographic ? (s.default.fog.near = o.default.maxCullDistance, s.default.fog.far = o.default.maxCullDistance) : s.default.isInsideTransition || (s.default.fog.near = h - o.default.roomDepth, s.default.fog.far = h)
        },
        setDistance: function(t) {
            o.default.cullDistance = h = t
        },
        reset: function() {
            u = null, c = 0
        }
    }
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0, e.default = function(t) {
        return t.stopPropagation()
    }
}, function(t, e) {
    t.exports = '<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 40 80"><style>.st0{display:none}.st1{display:inline}.st2{clip-path:url(#SVGID_2_)}</style><g id="ADD" class="st0"><g class="st1"><defs><path id="SVGID_1_" d="M5.8 77.9h68.3v71.8H5.8z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" overflow="visible"/></clipPath><path class="st2" d="M41.8 147.9L7.3 132.2v-27.7l30.8-24.9 34.5 15.7V123l-30.8 24.9zm0 0v-27.7L7.3 104.5m22 10l8.9-7.2L72.7 123M38.2 79.6v27.7"/></g><path class="st1" d="M17.7 121.8l13.6 6.3v2.6l-13.6-6.3z"/><path class="st1" d="M17.7 121.8l13.6 6.3v2.6l-13.6-6.3z"/><path class="st1" d="M23.6 117l1.9 1v17.4l-1.9-.9z"/><path class="st1" d="M23.6 117l1.9 1v17.4l-1.9-.9z"/></g><path d="M8 57.6V22.4L40 40 8 57.6zM11.3 28v24l21.8-12-21.8-12z"/></svg>'
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1);
    n(590);
    var f = n(19),
        h = r(f),
        d = n(11),
        p = r(d),
        m = n(591),
        v = r(m),
        g = n(592),
        A = r(g),
        y = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.state = {
                    muted: p.default.isMuted()
                }, n.toggleMute = n.toggleMute.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.toggleMute = function() {
                this.setState({
                    muted: p.default.toggleMute()
                })
            }, e.prototype.render = function(t, e) {
                var n = e.muted;
                return (0, l.h)(h.default, {
                    onClick: this.toggleMute,
                    icon: n ? A.default : v.default
                })
            }, e
        }(l.Component);
    e.default = y
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i(t, e) {
        var n = t.label,
            r = t.onClick,
            i = e.presenting;
        return (0, o.h)(d.default, {
            label: n && (f.default.hasVR ? i ? "Exit VR" : "Enter VR" : "VR not found"),
            onClick: r,
            icon: f.default.hasVR ? s.default : c.default
        })
    }
    e.__esModule = !0, e.default = i;
    var o = n(1);
    n(593);
    var a = n(594),
        s = r(a),
        u = n(595),
        c = r(u),
        l = n(13),
        f = r(l),
        h = n(19),
        d = r(h)
}, function(t, e, n) {
    "use strict";

    function r() {
        return !a.default.vrPolyfill && (0, i.h)("div", {
            className: "vr-info-overlay mod-entering-vr"
        }, (0, i.h)("div", {
            className: "vr-info-overlay-text"
        }, "Put on your VR headset"))
    }
    e.__esModule = !0, e.default = r;
    var i = n(1);
    n(605);
    var o = n(13),
        a = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(o)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(77),
        h = r(f);
    n(609);
    var d = n(610),
        p = r(d),
        m = n(611),
        v = r(m),
        g = function(t) {
            function e() {
                return (0, o.default)(this, e), (0, s.default)(this, t.apply(this, arguments))
            }
            return (0, c.default)(e, t), e.prototype.shouldComponentUpdate = function(t) {
                return t.hide !== this.props.hide
            }, e.prototype.render = function(t) {
                var e = t.hide;
                return (0, l.h)("div", {
                    className: (0, h.default)("colophon", e && "mod-hidden")
                }, (0, l.h)("a", {
                    target: "_blank",
                    rel: "noopener noreferrer",
                    href: "https://webvrexperiments.com/",
                    dangerouslySetInnerHTML: {
                        __html: p.default
                    }
                }), (0, l.h)("div", {
                    className: "colophon-divider"
                }), (0, l.h)("span", {
                    dangerouslySetInnerHTML: {
                        __html: v.default
                    }
                }))
            }, e
        }(l.Component);
    e.default = g
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
            e = arguments[1],
            n = (0, u.default)(),
            r = 0,
            i = void 0,
            o = void 0;
        return (0, a.default)(n, {
            add: function(t) {
                o.push(t), o.sort(function(t, e) {
                    return t.time - e.time
                })
            },
            remove: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : o.indexOf(t); - 1 !== e && (e < r && (r -= 1), o.splice(e, 1))
            },
            replace: function(t) {
                o = t.slice(0), o.sort(function(t, e) {
                    return t.time - e.time
                })
            },
            tick: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                t < i && (r = 0);
                for (var a = r; a < o.length; a++) {
                    var s = o[a];
                    if (t < s.time) break;
                    n.emit(s.name || "keyframe", s), s.callback && s.callback(s), e && e(s), r += 1, s.once && n.remove(s, a)
                }
                i = t
            }
        }), n.replace(t), n
    }
    e.__esModule = !0;
    var o = n(34),
        a = r(o);
    e.default = i;
    var s = n(86),
        u = r(s)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1);
    n(619);
    var f = n(55),
        h = r(f),
        d = n(176),
        p = r(d),
        m = function(t, e, n, r) {
            var i = .06 * h.default.height,
                o = Math.sqrt((t - n) * (t - n) + (e - r) * (e - r)) - 1.5 * i;
            return "translate(" + t + "px, " + (e + .5 * i) + "px) rotate(" + 180 * Math.atan2(r - e, n - t) / Math.PI + "deg) scaleX(" + o / 100 + ")"
        },
        v = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.style = {}, n.updateWindowDimensions = n.updateWindowDimensions.bind(n), n.receiveTextElement = n.receiveTextElement.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentWillMount = function() {
                h.default.on("resize", this.updateWindowDimensions)
            }, e.prototype.componentWillUnmount = function() {
                h.default.off("resize", this.updateWindowDimensions)
            }, e.prototype.updateWindowDimensions = function(t) {
                var e = t.width;
                this.setState({
                    originX: .5 * e,
                    originY: this.state.textEl && this.state.textEl.offsetHeight
                })
            }, e.prototype.receiveTextElement = function(t) {
                var e = this;
                this.setState({
                    textEl: t
                }), setTimeout(function() {
                    e.updateWindowDimensions(h.default)
                })
            }, e.prototype.render = function(t, e) {
                var n = t.x,
                    r = t.y,
                    i = t.text,
                    o = t.children,
                    a = t.visible,
                    s = e.originX,
                    u = e.originY,
                    c = null == n;
                return (0, l.h)("div", {
                    className: "line-title"
                }, a && (0, l.h)("div", {
                    ref: this.receiveTextElement,
                    className: "line-title-wrapper"
                }, (0, l.h)(p.default, null, i)), a && (0, l.h)("div", {
                    className: "line-title-line",
                    style: {
                        transform: !c && m(s, u, n, r),
                        opacity: c ? 0 : 1
                    }
                }), o)
            }, e
        }(l.Component);
    e.default = v
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0, e.default = function(t) {
        return t.charAt(0).toUpperCase() + t.slice(1)
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(2),
        s = r(a),
        u = n(3),
        c = r(u),
        l = n(4),
        f = r(l),
        h = n(1),
        d = n(18),
        p = n(6),
        m = r(p),
        v = n(48),
        g = n(61),
        A = r(g),
        y = void 0,
        x = void 0,
        _ = function(t) {
            function e() {
                (0, s.default)(this, e);
                var n = (0, c.default)(this, t.call(this));
                if (!y) {
                    var r = A.default.SDFText.creator(),
                        i = {
                            align: "center",
                            color: v.textColor.getHex(),
                            mode: "nowrap"
                        };
                    y = r.create("", (0, o.default)({}, i, {
                        scale: 2.25
                    })), x = r.create("", (0, o.default)({}, i, {
                        scale: 7.5
                    })), x.position.y = -.65
                }
                var a = n.group = new d.Group;
                return a.name = "Instructions", a.add(y, x), a.position.set(0, 2, -4), n.state = {
                    main: "",
                    subtitle: ""
                }, n
            }
            return (0, f.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, m.default.scene.add(this.group);
                var t = this.props,
                    e = t.subtitle,
                    n = void 0 === e ? "" : e,
                    r = t.main,
                    i = void 0 === r ? "" : r;
                y.updateLabel(n), x.updateLabel(i)
            }, e.prototype.shouldComponentUpdate = function(t) {
                var e = t.subtitle,
                    n = t.main,
                    r = this.props,
                    i = r.subtitle,
                    o = r.main;
                i !== e && y.updateLabel(e || ""), o !== n && x.updateLabel(n || "")
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, m.default.scene.remove(this.group)
            }, e
        }(h.Component);
    e.default = _
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(20),
        s = r(a),
        u = n(23),
        c = r(u),
        l = n(2),
        f = r(l),
        h = n(3),
        d = r(h),
        p = n(4),
        m = r(p),
        v = n(1),
        g = n(626),
        A = r(g);
    n(660);
    var y = n(119),
        x = r(y),
        _ = n(11),
        b = r(_),
        w = n(6),
        M = r(w),
        E = n(180),
        S = r(E),
        T = n(56),
        L = r(T),
        C = n(175),
        P = r(C),
        R = n(10),
        D = r(R),
        O = n(60),
        I = r(O),
        B = n(41),
        N = r(B),
        k = n(13),
        F = (r(k), n(238)),
        U = r(F),
        z = n(48),
        V = n(665),
        G = r(V),
        H = n(666),
        W = (r(H), n(670)),
        j = r(W),
        Q = n(26),
        q = r(Q),
        X = n(676),
        Y = r(X),
        Z = n(679),
        J = r(Z),
        K = function(t) {
            function e() {
                (0, f.default)(this, e);
                var n = (0, d.default)(this, t.call(this));
                return n.state = {
                    rooms: []
                }, n.orb = new P.default, n.tick = n.tick.bind(n), n
            }
            return (0, m.default)(e, t), e.prototype.componentWillMount = function() {
                var t = this;
                this.mounted = !0, setTimeout(function() {
                    x.default.reset(), x.default.rotate180();
                    var e = t.props,
                        n = e.recording,
                        r = e.pathRoomId,
                        i = e.orb,
                        o = t.state.rooms;
                    if (t.orb.visible = !!i, n)
                        for (var a = 1; a < 18; a += 2) {
                            var s = new x.default({
                                recording: n,
                                index: a,
                                colorIndex: r - 1,
                                showFrontWall: !0,
                                showBackWall: !0
                            });
                            o.push(s)
                        }
                    t.moveOrb(0), t.asyncMount(), M.default.on("tick", t.tick)
                })
            }, e.prototype.componentWillReceiveProps = function(t) {
                var e = t.orb,
                    n = t.stopped;
                this.orb.visible = !!e, n && M.default.off("tick", this.tick)
            }, e.prototype.componentWillUnmount = function() {
                this.orb.destroy(), this.state.rooms.forEach(function(t) {
                    return t.destroy()
                }), M.default.off("tick", this.tick)
            }, e.prototype.asyncMount = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, c.default)(o.default.mark(function t() {
                    var e, n, r, i, a, u, c, l, f, h, d, p = this;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (e = this.props, n = e.pathRecordingId, r = e.pathRoomId, i = e.recording, !i) {
                                    t.next = 3;
                                    break
                                }
                                return t.abrupt("return");
                            case 3:
                                return t.next = 5, S.default.loadPlaylist();
                            case 5:
                                if (a = this.entries = t.sent, this.mounted) {
                                    t.next = 8;
                                    break
                                }
                                return t.abrupt("return");
                            case 8:
                                if (u = this.state.rooms, c = void 0, !n) {
                                    t.next = 16;
                                    break
                                }
                                return t.next = 13, U.default.testUrl(n);
                            case 13:
                                if (c = t.sent, this.mounted) {
                                    t.next = 16;
                                    break
                                }
                                return t.abrupt("return");
                            case 16:
                                l = 0;
                            case 17:
                                if (!(l < a.length)) {
                                    t.next = 27;
                                    break
                                }
                                if (f = c && l === r - 1, h = a[l]) {
                                    t.next = 22;
                                    break
                                }
                                return t.abrupt("continue", 24);
                            case 22:
                                d = new x.default({
                                    id: f ? n : h,
                                    index: l,
                                    showFrontWall: L.default.hasFrontWall(l),
                                    showBackWall: L.default.hasBackWall(l),
                                    showRoom: L.default.hasRoom(l),
                                    pathRecording: f
                                }), u.push(d);
                            case 24:
                                l++, t.next = 17;
                                break;
                            case 27:
                                return this.setState({
                                    entries: a,
                                    rooms: u
                                }), t.next = 30, new s.default(function(t) {
                                    (0, A.default)(p.state.rooms, 4, function(t, e) {
                                        if (p.destroyed) return e(Error("playlist destroyed"));
                                        t.load(e)
                                    }, function(e) {
                                        e && "playlist destroyed" !== e.name && p.props.onError && p.props.onError(e), t()
                                    })
                                });
                            case 30:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.moveOrb = function(t) {
                var e = L.default.getPosition(t + .5);
                e.y += D.default.holeHeight, e.z *= -1, this.orb.position.copy(e)
            }, e.prototype.tick = function() {
                if (this.state.rooms && !I.default.isInside()) {
                    var t = b.default.progress > .7 && Math.floor(b.default.progress) - 1;
                    this.state.currentRoomID !== t && this.setState({
                        currentRoomID: t
                    }), this.moveOrb(b.default.progress || 0);
                    for (var e = 0; e < this.state.rooms.length; e++) {
                        var n = this.state.rooms[e];
                        r = Math.min(b.default.time, D.default.dropTime);
                        L.default.isEven(n.index) && (r += D.default.loopDuration);
                        n.gotoTime(r % (2 * D.default.loopDuration));
                    }
                }
            }, e.prototype.navigateToChooser = function(t) {
                N.default.navigate("/choose/" + t.index + "/")
            }, e.prototype.render = function(t, e) {
                var n = t.recording,
                    r = t.stopped,
                    i = t.orb,
                    o = t.pathRoomId,
                    a = t.hideRoomCountdown,
                    s = e.rooms,
                    u = (e.entries, e.currentRoomID);
                return (0, v.h)("div", null, !r && (0, v.h)(j.default, {
                    enterHeads: !0,
                    totalProgress: this.props.totalProgress,
                    fixedControllers: this.props.fixedControllers,
                    offset: n ? 2 : 0,
                    rooms: s,
                    orb: i && this.orb
                }), !a && void 0 !== o && u > 0 && (0, v.h)(q.default, {
                    type: "bottom-left"
                }, (0, v.h)(Y.default, {
                    target: o,
                    current: u,
                    color: (0, z.getRoomColorByIndex)(o - 1).name
                })), null, (0, v.h)(J.default, null), !r && (0, v.h)(G.default, null))
            }, e
        }(v.Component);
    e.default = K
}, function(t, e, n) {
    function r(t) {
        return null != t && o(t.length) && !i(t)
    }
    var i = n(631),
        o = n(259);
    t.exports = r
}, function(t, e, n) {
    var r = n(256),
        i = r.Symbol;
    t.exports = i
}, function(t, e, n) {
    var r = n(257),
        i = "object" == typeof self && self && self.Object === Object && self,
        o = r || i || Function("return this")();
    t.exports = o
}, function(t, e, n) {
    (function(e) {
        var n = "object" == typeof e && e && e.Object === Object && e;
        t.exports = n
    }).call(e, n(97))
}, function(t, e) {
    function n(t) {
        var e = typeof t;
        return null != t && ("object" == e || "function" == e)
    }
    t.exports = n
}, function(t, e) {
    function n(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= r
    }
    var r = 9007199254740991;
    t.exports = n
}, function(t, e) {
    t.exports = function(t) {
        return t.webpackPolyfill || (t.deprecate = function() {}, t.paths = [], t.children || (t.children = []), Object.defineProperty(t, "loaded", {
            enumerable: !0,
            get: function() {
                return t.l
            }
        }), Object.defineProperty(t, "id", {
            enumerable: !0,
            get: function() {
                return t.i
            }
        }), t.webpackPolyfill = 1), t
    }
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        e |= 0;
        for (var n = Math.max(t.length - e, 0), r = Array(n), i = 0; i < n; i++) r[i] = t[e + i];
        return r
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = r, t.exports = e.default
}, function(t, e) {
    function n(t) {
        if (t && "length" in t) {
            for (var e, n = t.length, r = Array(n), i = 0; i < n; i++) e = Math.floor(Math.random() * i), e != i && (r[i] = r[e]), r[e] = t[i];
            return r
        }
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(1),
        o = n(19),
        a = r(o),
        s = n(691),
        u = r(s);
    e.default = function(t) {
        var e = t.onClick,
            n = t.disabled;
        return (0, i.h)(a.default, {
            onClick: e,
            icon: u.default,
            disabled: n
        })
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(1),
        o = n(19),
        a = r(o),
        s = n(692),
        u = r(s);
    e.default = function(t) {
        var e = t.onClick,
            n = t.disabled;
        return (0, i.h)(a.default, {
            onClick: e,
            icon: u.default,
            disabled: n
        })
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(23),
        s = r(a),
        u = n(2),
        c = r(u),
        l = n(3),
        f = r(l),
        h = n(4),
        d = r(h),
        p = n(1),
        m = n(718),
        v = r(m),
        g = n(719),
        A = r(g);
    n(720);
    var y = n(18),
        x = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(y),
        _ = n(6),
        b = r(_),
        w = n(10),
        M = r(w),
        E = n(11),
        S = r(E),
        T = n(95),
        L = r(T),
        C = n(26),
        P = r(C),
        R = n(19),
        D = r(R),
        O = n(96),
        I = r(O),
        B = n(176),
        N = r(B),
        k = ["Counting cones", "Interpreting dance", "Twiddling knobs", "Googling How to make a GIF", "Gluing pixels", "Becoming self-aware", "Coloring inside the lines", "Raising expectations", "Staring directly into the orb", "Creating GIF"],
        F = function(t) {
            function e() {
                (0, c.default)(this, e);
                var n = (0, f.default)(this, t.call(this));
                return n.state = {
                    progress: "Loading performance"
                }, n.setEncodeProgress = n.setEncodeProgress.bind(n), n.setFrameProgress = n.setFrameProgress.bind(n), n.downloadGif = n.downloadGif.bind(n), n.startRender = n.startRender.bind(n), n.count = 0, n.width = 600, n.height = 600, n.fps = 33, n.delay = 30, n.duration = 2 * M.default.loopDuration, n.startTime = .5 * M.default.loopDuration, n.endTime = n.startTime + n.duration, n
            }
            return (0, d.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, this.asyncMount()
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, b.default.startAnimating(), b.default.animate(), b.default.off("render", this.tick)
            }, e.prototype.setFrameProgress = function(t, e) {
                var n = t / e;
                this.setState({
                    progress: "" + k[Math.floor(10 * n)]
                })
            }, e.prototype.setEncodeProgress = function(t) {
                this.setState({
                    progress: "Encoding GIF  " + Math.round(100 * t) + "%"
                })
            }, e.prototype.downloadGif = function() {
                (0, v.default)(this.state.gifData, "performance.gif", "image/gif")
            }, e.prototype.asyncMount = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, s.default)(o.default.mark(function t() {
                    var e, n, r, i, a;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                S.default.reset(), e = this.renderer = new x.WebGLRenderer({
                                    antialias: !0
                                }), e.setClearColor(0), e.setSize(this.width, this.height), e.sortObjects = !1, n = 3, r = this.width / this.height, i = this.camera = new x.OrthographicCamera(-n * r, n * r, n, -n, -100, 1e3), i.position.set(.06, .08, .08), i.lookAt(new x.Vector3), i.position.y = 2, i.position.z = 1.3, i.zoom = .7, i.updateProjectionMatrix(), a = this.scene = b.default.createScene(), this.setState({
                                    scene: a
                                }), this.gif = new A.default({
                                    workers: window.navigator.hardwareConcurrency ? Math.min(4, window.navigator.hardwareConcurrency) : 2,
                                    quality: 1,
                                    workerScript: "/public/third_party/gifworker/gif.worker.js",
                                    globalPalette: !0,
                                    transparent: 65535
                                }), b.default.stopAnimating();
                            case 18:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.diffPixels = function(t) {
                !this.sourceCtx && (this.sourceCanvas = document.createElement("canvas"), this.sourceCanvas.width = this.width, this.sourceCanvas.height = this.height, this.sourceCtx = this.sourceCanvas.getContext("2d"), this.sourceCtx.fillStyle = "#000000", this.sourceCtx.fillRect(0, 0, this.width, this.height)), this.sourceCtx.drawImage(t, 0, 0);
                var e = this.sourceCtx.getImageData(0, 0, this.width, this.height),
                    n = e.data;
                this.canvas || (this.canvas = document.createElement("canvas"), this.canvas.width = this.width, this.canvas.height = this.height, this.ctx = this.canvas.getContext("2d"));
                for (var r = this.ctx.getImageData(0, 0, this.width, this.height), i = r.data, o = 0, a = n.length / 4; o < a; o++) {
                    var s = 4 * o;
                    n[s] === i[s] && n[s + 1] === i[s + 1] && n[s + 2] === i[s + 2] && n[s + 3] === i[s + 3] ? (i[4 * o] = 0, i[s + 1] = 255, i[s + 2] = 255, i[s + 3] = 255) : (i[s] = n[s], i[s + 1] = n[s + 1], i[s + 2] = n[s + 2], i[s + 3] = n[s + 3])
                }
                this.ctx.putImageData(r, 0, 0), this.gif.addFrame(this.canvas, {
                    delay: this.delay,
                    dispose: 1,
                    copy: !0
                }), this.ctx.drawImage(this.sourceCanvas, 0, 0)
            }, e.prototype.startRender = function() {
                var t = this;
                Date.now();
                setTimeout(this.renderFrame.bind(this, function() {
                    t.gif.on("progress", t.setEncodeProgress), t.gif.on("finished", function(e) {
                        t.mounted && t.setState({
                            progress: null,
                            gifData: e,
                            gifUrl: window.URL.createObjectURL(e)
                        })
                    }), t.gif.render()
                }), 100)
            }, e.prototype.renderFrame = function(t) {
                if (this.mounted) {
                    this.count++, this.setFrameProgress(this.count, this.duration * this.fps);
                    var e = this.count * (1 / this.fps) + this.startTime;
                    b.default.animate(null, e), this.renderer.render(b.default.renderScene, this.camera), this.diffPixels(this.renderer.domElement), e > this.endTime ? t() : setTimeout(this.renderFrame.bind(this, t), 1)
                }
            }, e.prototype.render = function(t, e) {
                var n = t.roomId,
                    r = t.id,
                    i = e.scene,
                    o = e.progress,
                    a = e.gifData,
                    s = e.gifUrl;
                return (0, p.h)("div", {
                    className: "create-gif"
                }, i && (0, p.h)(L.default, {
                    roomId: n,
                    id: r,
                    orbs: !0,
                    fadeOrbs: !1,
                    hasAudio: !1,
                    onRoomLoaded: this.startRender,
                    onRoomLoadError: this.onRoomLoadError
                }), (0, p.h)(N.default, null, a ? "Your GIF is ready!" : "Hold on while we prepare your GIF"), (0, p.h)(P.default, {
                    type: "center"
                }, o && (0, p.h)(I.default, {
                    text: o
                }), s && (0, p.h)("img", {
                    className: "gif-image",
                    src: s
                }), a && (0, p.h)(D.default, {
                    text: "Press here to download your GIF",
                    onClick: this.downloadGif,
                    underline: !0
                })), (0, p.h)(P.default, {
                    type: "bottom-right"
                }, (0, p.h)(D.default, {
                    text: a ? "Go back" : "Cancel",
                    onClick: this.props.goBack,
                    underline: !0
                })))
            }, e
        }(p.Component);
    e.default = F
}, function(t, e) {
    function n(t) {
        return t.BYTES_PER_ELEMENT && "[object ArrayBuffer]" === r.call(t.buffer) || Array.isArray(t)
    }
    var r = Object.prototype.toString;
    t.exports = n
}, function(t, e, n) {
    function r(t, e) {
        this._id = t, this._clearFn = e
    }
    var i = Function.prototype.apply;
    e.setTimeout = function() {
        return new r(i.call(setTimeout, window, arguments), clearTimeout)
    }, e.setInterval = function() {
        return new r(i.call(setInterval, window, arguments), clearInterval)
    }, e.clearTimeout = e.clearInterval = function(t) {
        t && t.close()
    }, r.prototype.unref = r.prototype.ref = function() {}, r.prototype.close = function() {
        this._clearFn.call(window, this._id)
    }, e.enroll = function(t, e) {
        clearTimeout(t._idleTimeoutId), t._idleTimeout = e
    }, e.unenroll = function(t) {
        clearTimeout(t._idleTimeoutId), t._idleTimeout = -1
    }, e._unrefActive = e.active = function(t) {
        clearTimeout(t._idleTimeoutId);
        var e = t._idleTimeout;
        e >= 0 && (t._idleTimeoutId = setTimeout(function() {
            t._onTimeout && t._onTimeout()
        }, e))
    }, n(659), e.setImmediate = setImmediate, e.clearImmediate = clearImmediate
}, , function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var i = n(22),
        o = r(i),
        a = n(20),
        s = r(a),
        u = n(23),
        c = r(u);
    n(294);
    var l = n(1);
    n(496);
    var f = n(18),
        h = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(f),
        d = n(41),
        p = (r(d), n(98)),
        m = r(p),
        v = n(532),
        g = r(v),
        A = n(6),
        y = r(A),
        x = n(60),
        _ = r(x),
        b = n(61),
        w = r(b),
        M = n(13),
        E = r(M),
        S = n(78),
        T = r(S),
        L = n(731),
        C = r(L);
    window.THREE = h, (0, c.default)(o.default.mark(function t() {
        var e, r;
        return o.default.wrap(function(t) {
            for (;;) switch (t.prev = t.next) {
                case 0:
                    return e = void 0, t.next = 3, s.default.all([m.default.prepare(), new s.default(function(t) {
                        if (!E.default.vrPolyfill) return t();
                        n.e(1).then(function(e) {
                            n(734), window.WebVRConfig.BUFFER_SCALE = .75, window.polyfill = new window.WebVRPolyfill, console.log("WebVR polyfill"), t()
                        }.bind(null, n)).catch(n.oe)
                    })]);
                case 3:
                    return t.next = 5, E.default.prepare();
                case 5:
                    return t.next = 7, w.default.prepare();
                case 7:
                    E.default.has6DOF && _.default.prepare(), y.default.prepare(), E.default.isMobile && (0, C.default)(), r = document.getElementById("initial"), r.parentNode && r.parentNode.removeChild(r), (0, l.render)((0, l.h)(g.default, null), document.body, e), T.default.mount();
                case 14:
                case "end":
                    return t.stop()
            }
        }, t, void 0)
    }))(), window.addEventListener("load", function() {
        "serviceWorker" in navigator && navigator.serviceWorker.register("/service-worker.js")
    })
}, function(t, e, n) {
    var r = function() {
            return this
        }() || Function("return this")(),
        i = r.regeneratorRuntime && Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime") >= 0,
        o = i && r.regeneratorRuntime;
    if (r.regeneratorRuntime = void 0, t.exports = n(271), i) r.regeneratorRuntime = o;
    else try {
        delete r.regeneratorRuntime
    } catch (t) {
        r.regeneratorRuntime = void 0
    }
}, function(t, e) {
    ! function(e) {
        "use strict";

        function n(t, e, n, r) {
            var o = e && e.prototype instanceof i ? e : i,
                a = Object.create(o.prototype),
                s = new d(r || []);
            return a._invoke = c(t, n, s), a
        }

        function r(t, e, n) {
            try {
                return {
                    type: "normal",
                    arg: t.call(e, n)
                }
            } catch (t) {
                return {
                    type: "throw",
                    arg: t
                }
            }
        }

        function i() {}

        function o() {}

        function a() {}

        function s(t) {
            ["next", "throw", "return"].forEach(function(e) {
                t[e] = function(t) {
                    return this._invoke(e, t)
                }
            })
        }

        function u(t) {
            function e(n, i, o, a) {
                var s = r(t[n], t, i);
                if ("throw" !== s.type) {
                    var u = s.arg,
                        c = u.value;
                    return c && "object" == typeof c && A.call(c, "__await") ? Promise.resolve(c.__await).then(function(t) {
                        e("next", t, o, a)
                    }, function(t) {
                        e("throw", t, o, a)
                    }) : Promise.resolve(c).then(function(t) {
                        u.value = t, o(u)
                    }, a)
                }
                a(s.arg)
            }

            function n(t, n) {
                function r() {
                    return new Promise(function(r, i) {
                        e(t, n, r, i)
                    })
                }
                return i = i ? i.then(r, r) : r()
            }
            var i;
            this._invoke = n
        }

        function c(t, e, n) {
            var i = E;
            return function(o, a) {
                if (i === T) throw new Error("Generator is already running");
                if (i === L) {
                    if ("throw" === o) throw a;
                    return m()
                }
                for (n.method = o, n.arg = a;;) {
                    var s = n.delegate;
                    if (s) {
                        var u = l(s, n);
                        if (u) {
                            if (u === C) continue;
                            return u
                        }
                    }
                    if ("next" === n.method) n.sent = n._sent = n.arg;
                    else if ("throw" === n.method) {
                        if (i === E) throw i = L, n.arg;
                        n.dispatchException(n.arg)
                    } else "return" === n.method && n.abrupt("return", n.arg);
                    i = T;
                    var c = r(t, e, n);
                    if ("normal" === c.type) {
                        if (i = n.done ? L : S, c.arg === C) continue;
                        return {
                            value: c.arg,
                            done: n.done
                        }
                    }
                    "throw" === c.type && (i = L, n.method = "throw", n.arg = c.arg)
                }
            }
        }

        function l(t, e) {
            var n = t.iterator[e.method];
            if (n === v) {
                if (e.delegate = null, "throw" === e.method) {
                    if (t.iterator.return && (e.method = "return", e.arg = v, l(t, e), "throw" === e.method)) return C;
                    e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method")
                }
                return C
            }
            var i = r(n, t.iterator, e.arg);
            if ("throw" === i.type) return e.method = "throw", e.arg = i.arg, e.delegate = null, C;
            var o = i.arg;
            return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = v), e.delegate = null, C) : o : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, C)
        }

        function f(t) {
            var e = {
                tryLoc: t[0]
            };
            1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e)
        }

        function h(t) {
            var e = t.completion || {};
            e.type = "normal", delete e.arg, t.completion = e
        }

        function d(t) {
            this.tryEntries = [{
                tryLoc: "root"
            }], t.forEach(f, this), this.reset(!0)
        }

        function p(t) {
            if (t) {
                var e = t[x];
                if (e) return e.call(t);
                if ("function" == typeof t.next) return t;
                if (!isNaN(t.length)) {
                    var n = -1,
                        r = function e() {
                            for (; ++n < t.length;)
                                if (A.call(t, n)) return e.value = t[n], e.done = !1, e;
                            return e.value = v, e.done = !0, e
                        };
                    return r.next = r
                }
            }
            return {
                next: m
            }
        }

        function m() {
            return {
                value: v,
                done: !0
            }
        }
        var v, g = Object.prototype,
            A = g.hasOwnProperty,
            y = "function" == typeof Symbol ? Symbol : {},
            x = y.iterator || "@@iterator",
            _ = y.asyncIterator || "@@asyncIterator",
            b = y.toStringTag || "@@toStringTag",
            w = "object" == typeof t,
            M = e.regeneratorRuntime;
        if (M) return void(w && (t.exports = M));
        M = e.regeneratorRuntime = w ? t.exports : {}, M.wrap = n;
        var E = "suspendedStart",
            S = "suspendedYield",
            T = "executing",
            L = "completed",
            C = {},
            P = {};
        P[x] = function() {
            return this
        };
        var R = Object.getPrototypeOf,
            D = R && R(R(p([])));
        D && D !== g && A.call(D, x) && (P = D);
        var O = a.prototype = i.prototype = Object.create(P);
        o.prototype = O.constructor = a, a.constructor = o, a[b] = o.displayName = "GeneratorFunction", M.isGeneratorFunction = function(t) {
            var e = "function" == typeof t && t.constructor;
            return !!e && (e === o || "GeneratorFunction" === (e.displayName || e.name))
        }, M.mark = function(t) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t, a) : (t.__proto__ = a, b in t || (t[b] = "GeneratorFunction")), t.prototype = Object.create(O), t
        }, M.awrap = function(t) {
            return {
                __await: t
            }
        }, s(u.prototype), u.prototype[_] = function() {
            return this
        }, M.AsyncIterator = u, M.async = function(t, e, r, i) {
            var o = new u(n(t, e, r, i));
            return M.isGeneratorFunction(e) ? o : o.next().then(function(t) {
                return t.done ? t.value : o.next()
            })
        }, s(O), O[b] = "Generator", O[x] = function() {
            return this
        }, O.toString = function() {
            return "[object Generator]"
        }, M.keys = function(t) {
            var e = [];
            for (var n in t) e.push(n);
            return e.reverse(),
                function n() {
                    for (; e.length;) {
                        var r = e.pop();
                        if (r in t) return n.value = r, n.done = !1, n
                    }
                    return n.done = !0, n
                }
        }, M.values = p, d.prototype = {
            constructor: d,
            reset: function(t) {
                if (this.prev = 0, this.next = 0, this.sent = this._sent = v, this.done = !1, this.delegate = null, this.method = "next", this.arg = v, this.tryEntries.forEach(h), !t)
                    for (var e in this) "t" === e.charAt(0) && A.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = v)
            },
            stop: function() {
                this.done = !0;
                var t = this.tryEntries[0],
                    e = t.completion;
                if ("throw" === e.type) throw e.arg;
                return this.rval
            },
            dispatchException: function(t) {
                function e(e, r) {
                    return o.type = "throw", o.arg = t, n.next = e, r && (n.method = "next", n.arg = v), !!r
                }
                if (this.done) throw t;
                for (var n = this, r = this.tryEntries.length - 1; r >= 0; --r) {
                    var i = this.tryEntries[r],
                        o = i.completion;
                    if ("root" === i.tryLoc) return e("end");
                    if (i.tryLoc <= this.prev) {
                        var a = A.call(i, "catchLoc"),
                            s = A.call(i, "finallyLoc");
                        if (a && s) {
                            if (this.prev < i.catchLoc) return e(i.catchLoc, !0);
                            if (this.prev < i.finallyLoc) return e(i.finallyLoc)
                        } else if (a) {
                            if (this.prev < i.catchLoc) return e(i.catchLoc, !0)
                        } else {
                            if (!s) throw new Error("try statement without catch or finally");
                            if (this.prev < i.finallyLoc) return e(i.finallyLoc)
                        }
                    }
                }
            },
            abrupt: function(t, e) {
                for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                    var r = this.tryEntries[n];
                    if (r.tryLoc <= this.prev && A.call(r, "finallyLoc") && this.prev < r.finallyLoc) {
                        var i = r;
                        break
                    }
                }
                i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
                var o = i ? i.completion : {};
                return o.type = t, o.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, C) : this.complete(o)
            },
            complete: function(t, e) {
                if ("throw" === t.type) throw t.arg;
                return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), C
            },
            finish: function(t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), h(n), C
                }
            },
            catch: function(t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.tryLoc === t) {
                        var r = n.completion;
                        if ("throw" === r.type) {
                            var i = r.arg;
                            h(n)
                        }
                        return i
                    }
                }
                throw new Error("illegal catch attempt")
            },
            delegateYield: function(t, e, n) {
                return this.delegate = {
                    iterator: p(t),
                    resultName: e,
                    nextLoc: n
                }, "next" === this.method && (this.arg = v), C
            }
        }
    }(function() {
        return this
    }() || Function("return this")())
}, function(t, e, n) {
    n(182), n(183), n(192), n(281), n(292), n(293), t.exports = n(17).Promise
}, function(t, e, n) {
    var r = n(129),
        i = n(130);
    t.exports = function(t) {
        return function(e, n) {
            var o, a, s = String(i(e)),
                u = r(n),
                c = s.length;
            return u < 0 || u >= c ? t ? "" : void 0 : (o = s.charCodeAt(u), o < 55296 || o > 56319 || u + 1 === c || (a = s.charCodeAt(u + 1)) < 56320 || a > 57343 ? t ? s.charAt(u) : o : t ? s.slice(u, u + 2) : a - 56320 + (o - 55296 << 10) + 65536)
        }
    }
}, function(t, e, n) {
    "use strict";
    var r = n(133),
        i = n(101),
        o = n(103),
        a = {};
    n(62)(a, n(28)("iterator"), function() {
        return this
    }), t.exports = function(t, e, n) {
        t.prototype = r(a, {
            next: i(1, n)
        }), o(t, e + " Iterator")
    }
}, function(t, e, n) {
    var r = n(64),
        i = n(190),
        o = n(276);
    t.exports = function(t) {
        return function(e, n, a) {
            var s, u = r(e),
                c = i(u.length),
                l = o(a, c);
            if (t && n != n) {
                for (; c > l;)
                    if ((s = u[l++]) != s) return !0
            } else
                for (; c > l; l++)
                    if ((t || l in u) && u[l] === n) return t || l || 0;
            return !t && -1
        }
    }
}, function(t, e, n) {
    var r = n(129),
        i = Math.max,
        o = Math.min;
    t.exports = function(t, e) {
        return t = r(t), t < 0 ? i(t + e, 0) : o(t, e)
    }
}, function(t, e, n) {
    var r = n(63),
        i = n(137),
        o = n(134)("IE_PROTO"),
        a = Object.prototype;
    t.exports = Object.getPrototypeOf || function(t) {
        return t = i(t), r(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? a : null
    }
}, function(t, e, n) {
    "use strict";
    var r = n(279),
        i = n(280),
        o = n(88),
        a = n(64);
    t.exports = n(184)(Array, "Array", function(t, e) {
        this._t = a(t), this._i = 0, this._k = e
    }, function() {
        var t = this._t,
            e = this._k,
            n = this._i++;
        return !t || n >= t.length ? (this._t = void 0, i(1)) : "keys" == e ? i(0, n) : "values" == e ? i(0, t[n]) : i(0, [n, t[n]])
    }, "values"), o.Arguments = o.Array, r("keys"), r("values"), r("entries")
}, function(t, e) {
    t.exports = function() {}
}, function(t, e) {
    t.exports = function(t, e) {
        return {
            value: e,
            done: !!t
        }
    }
}, function(t, e, n) {
    "use strict";
    var r, i, o, a, s = n(99),
        u = n(27),
        c = n(87),
        l = n(193),
        f = n(24),
        h = n(50),
        d = n(100),
        p = n(282),
        m = n(283),
        v = n(194),
        g = n(195).set,
        A = n(288)(),
        y = n(138),
        x = n(196),
        _ = n(197),
        b = u.TypeError,
        w = u.process,
        M = u.Promise,
        E = "process" == l(w),
        S = function() {},
        T = i = y.f,
        L = !! function() {
            try {
                var t = M.resolve(1),
                    e = (t.constructor = {})[n(28)("species")] = function(t) {
                        t(S, S)
                    };
                return (E || "function" == typeof PromiseRejectionEvent) && t.then(S) instanceof e
            } catch (t) {}
        }(),
        C = function(t) {
            var e;
            return !(!h(t) || "function" != typeof(e = t.then)) && e
        },
        P = function(t, e) {
            // console.log('notify 1');

            if (!t._n) {
                // console.log('notify 2');

                t._n = !0;
                var n = t._c;
                A(function() {
                    // console.log('notify 3');

                    for (var r = t._v, i = 1 == t._s, o = 0; n.length > o;) ! function(e) {
                        var n, o, a = i ? e.ok : e.fail,
                            s = e.resolve,
                            u = e.reject,
                            c = e.domain;
                        try {
                            a ? (i || (2 == t._h && O(t), t._h = 1), !0 === a ? n = r : (c && c.enter(), n = a(r), c && c.exit()), n === e.promise ? u(b("Promise-chain cycle")) : (o = C(n)) ? o.call(n, s, u) : s(n)) : u(r)
                        } catch (t) {
                            u(t)
                        }
                    }(n[o++]);
                    t._c = [], t._n = !1, e && !t._h && R(t)
                })
            }
        },
        R = function(t) {
            g.call(u, function() {
                var e, n, r, i = t._v,
                    o = D(t);
                if (o && (e = x(function() {
                        E ? w.emit("unhandledRejection", i, t) : (n = u.onunhandledrejection) ? n({
                            promise: t,
                            reason: i
                        }) : (r = u.console) && r.error && r.error("Unhandled promise rejection", i)
                    }), t._h = E || D(t) ? 2 : 1), t._a = void 0, o && e.e) throw e.v
            })
        },
        D = function(t) {
            if (1 == t._h) return !1;
            for (var e, n = t._a || t._c, r = 0; n.length > r;)
                if (e = n[r++], e.fail || !D(e.promise)) return !1;
            return !0
        },
        O = function(t) {
            g.call(u, function() {
                var e;
                E ? w.emit("rejectionHandled", t) : (e = u.onrejectionhandled) && e({
                    promise: t,
                    reason: t._v
                })
            })
        },
        I = function(t) {
            var e = this;
            e._d || (e._d = !0, e = e._w || e, e._v = t, e._s = 2, e._a || (e._a = e._c.slice()), P(e, !0))
        },
        B = function(t) {
            var e, n = this;
            if (!n._d) {
                n._d = !0, n = n._w || n;
                try {
                    if (n === t) throw b("Promise can't be resolved itself");
                    (e = C(t)) ? A(function() {
                        var r = {
                            _w: n,
                            _d: !1
                        };
                        try {
                            e.call(t, c(B, r, 1), c(I, r, 1))
                        } catch (t) {
                            I.call(r, t)
                        }
                    }): (n._v = t, n._s = 1, P(n, !1))
                } catch (t) {
                    I.call({
                        _w: n,
                        _d: !1
                    }, t)
                }
            }
        };
    L || (M = function(t) {
        // console.log('promise key', t);

        p(this, M, "Promise", "_h"), d(t), r.call(this);
        try {
            t(c(B, this, 1), c(I, this, 1))
        } catch (t) {
            I.call(this, t)
        }
    }, r = function(t) {
        this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1
    }, r.prototype = n(289)(M.prototype, {
        then: function(t, e) {
            var PC = v(this, M);

            // console.log('typeof', PC);

            var n = T(PC);
            n.ok = "function" != typeof t || t;
            n.fail = "function" == typeof e && e;
            n.domain = E ? w.domain : void 0;
            this._c.push(n);
            this._a && this._a.push(n);
            this._s && P(this, !1);
            return n.promise;
        },
        catch: function(t) {
            return this.then(void 0, t)
        }
    }), o = function() {
        var t = new r;
        this.promise = t, this.resolve = c(B, t, 1), this.reject = c(I, t, 1)
    }, y.f = T = function(t) {
        return t === M || t === a ? new o(t) : i(t)
    }), f(f.G + f.W + f.F * !L, {
        Promise: M
    }), n(103)(M, "Promise"), n(290)("Promise"), a = n(17).Promise, f(f.S + f.F * !L, "Promise", {
        reject: function(t) {
            var e = T(this);
            return (0, e.reject)(t), e.promise
        }
    }), f(f.S + f.F * (s || !L), "Promise", {
        resolve: function(t) {
            return _(s && this === a ? M : this, t)
        }
    }), f(f.S + f.F * !(L && n(291)(function(t) {
        M.all(t).catch(S)
    })), "Promise", {
        all: function(t) {
            var e = this,
                n = T(e),
                r = n.resolve,
                i = n.reject,
                o = x(function() {
                    var n = [],
                        o = 0,
                        a = 1;
                    m(t, !1, function(t) {
                        var s = o++,
                            u = !1;
                        n.push(void 0), a++, e.resolve(t).then(function(t) {
                            u || (u = !0, n[s] = t, --a || r(n))
                        }, i)
                    }), --a || r(n)
                });
            return o.e && i(o.v), n.promise
        },
        race: function(t) {
            var e = this,
                n = T(e),
                r = n.reject,
                i = x(function() {
                    m(t, !1, function(t) {
                        e.resolve(t).then(n.resolve, r)
                    })
                });
            return i.e && r(i.v), n.promise
        }
    })
}, function(t, e) {
    t.exports = function(t, e, n, r) {
        if (!(t instanceof e) || void 0 !== r && r in t) throw TypeError(n + ": incorrect invocation!");
        return t
    }
}, function(t, e, n) {
    var r = n(87),
        i = n(284),
        o = n(285),
        a = n(49),
        s = n(190),
        u = n(286),
        c = {},
        l = {},
        e = t.exports = function(t, e, n, f, h) {
            var d, p, m, v, g = h ? function() {
                    return t
                } : u(t),
                A = r(n, f, e ? 2 : 1),
                y = 0;
            if ("function" != typeof g) throw TypeError(t + " is not iterable!");
            if (o(g)) {
                for (d = s(t.length); d > y; y++)
                    if ((v = e ? A(a(p = t[y])[0], p[1]) : A(t[y])) === c || v === l) return v
            } else
                for (m = g.call(t); !(p = m.next()).done;)
                    if ((v = i(m, A, p.value, e)) === c || v === l) return v
        };
    e.BREAK = c, e.RETURN = l
}, function(t, e, n) {
    var r = n(49);
    t.exports = function(t, e, n, i) {
        try {
            return i ? e(r(n)[0], n[1]) : e(n)
        } catch (e) {
            var o = t.return;
            throw void 0 !== o && r(o.call(t)), e
        }
    }
}, function(t, e, n) {
    var r = n(88),
        i = n(28)("iterator"),
        o = Array.prototype;
    t.exports = function(t) {
        return void 0 !== t && (r.Array === t || o[i] === t)
    }
}, function(t, e, n) {
    var r = n(193),
        i = n(28)("iterator"),
        o = n(88);
    t.exports = n(17).getIteratorMethod = function(t) {
        if (void 0 != t) return t[i] || t["@@iterator"] || o[r(t)]
    }
}, function(t, e) {
    t.exports = function(t, e, n) {
        var r = void 0 === n;
        switch (e.length) {
            case 0:
                return r ? t() : t.call(n);
            case 1:
                return r ? t(e[0]) : t.call(n, e[0]);
            case 2:
                return r ? t(e[0], e[1]) : t.call(n, e[0], e[1]);
            case 3:
                return r ? t(e[0], e[1], e[2]) : t.call(n, e[0], e[1], e[2]);
            case 4:
                return r ? t(e[0], e[1], e[2], e[3]) : t.call(n, e[0], e[1], e[2], e[3])
        }
        return t.apply(n, e)
    }
}, function(t, e, n) {
    var r = n(27),
        i = n(195).set,
        o = r.MutationObserver || r.WebKitMutationObserver,
        a = r.process,
        s = r.Promise,
        u = "process" == n(89)(a);
    t.exports = function() {
        var t, e, n, c = function() {
            var r, i;
            for (u && (r = a.domain) && r.exit(); t;) {
                i = t.fn, t = t.next;
                try {
                    i()
                } catch (r) {
                    throw t ? n() : e = void 0, r
                }
            }
            e = void 0, r && r.enter()
        };
        if (u) {
          console.log('select 1');

          n = function() {
              a.nextTick(c)
          };
        } else if (o) {
            console.log('select 2', o);

            var l = !0,
                f = document.createTextNode("");
            new o(c).observe(f, {
                characterData: !0
            }), n = function() {
                f.data = l = !l
            }
        } else if (s && s.resolve) {
            console.log('select 3');

            var h = s.resolve();
            n = function() {
                h.then(c)
            }
        } else {
          console.log('select 4');

          n = function() {
              i.call(r, c)
          };
        }
        return function(r) {

            var i = {
                fn: r,
                next: void 0
            };
            e && (e.next = i), t || (t = i, n()), e = i
        }
    }
}, function(t, e, n) {
    var r = n(62);
    t.exports = function(t, e, n) {
        for (var i in e) n && t[i] ? t[i] = e[i] : r(t, i, e[i]);
        return t
    }
}, function(t, e, n) {
    "use strict";
    var r = n(27),
        i = n(17),
        o = n(57),
        a = n(51),
        s = n(28)("species");
    t.exports = function(t) {
        var e = "function" == typeof i[t] ? i[t] : r[t];
        a && e && !e[s] && o.f(e, s, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}, function(t, e, n) {
    var r = n(28)("iterator"),
        i = !1;
    try {
        var o = [7][r]();
        o.return = function() {
            i = !0
        }, Array.from(o, function() {
            throw 2
        })
    } catch (t) {}
    t.exports = function(t, e) {
        if (!e && !i) return !1;
        var n = !1;
        try {
            var o = [7],
                a = o[r]();
            a.next = function() {
                return {
                    done: n = !0
                }
            }, o[r] = function() {
                return a
            }, t(o)
        } catch (t) {}
        return n
    }
}, function(t, e, n) {
    "use strict";
    var r = n(24),
        i = n(17),
        o = n(27),
        a = n(194),
        s = n(197);
    r(r.P + r.R, "Promise", {
        finally: function(t) {
            var e = a(this, i.Promise || o.Promise),
                n = "function" == typeof t;
            return this.then(n ? function(n) {
                return s(e, t()).then(function() {
                    return n
                })
            } : t, n ? function(n) {
                return s(e, t()).then(function() {
                    throw n
                })
            } : t)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(24),
        i = n(138),
        o = n(196);
    r(r.S, "Promise", {
        try: function(t) {
            var e = i.f(this),
                n = o(t);
            return (n.e ? e.reject : e.resolve)(n.v), e.promise
        }
    })
}, function(t, e, n) {
    "use strict";
    (function(t) {
        function e(t, e, n) {
            t[e] || Object[r](t, e, {
                writable: !0,
                configurable: !0,
                value: n
            })
        }
        if (n(295), n(492), n(493), t._babelPolyfill) throw new Error("only one instance of babel-polyfill is allowed");
        t._babelPolyfill = !0;
        var r = "defineProperty";
        e(String.prototype, "padLeft", "".padStart), e(String.prototype, "padRight", "".padEnd), "pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t) {
            [][t] && e(Array, t, Function.call.bind([][t]))
        })
    }).call(e, n(97))
}, function(t, e, n) {
    n(296), n(298), n(299), n(300), n(301), n(302), n(303), n(304), n(305), n(306), n(307), n(308), n(309), n(310), n(311), n(312), n(314), n(315), n(316), n(317), n(318), n(319), n(320), n(321), n(322), n(323), n(324), n(325), n(326), n(327), n(328), n(329), n(330), n(331), n(332), n(333), n(334), n(335), n(336), n(337), n(338), n(339), n(340), n(341), n(342), n(343), n(344), n(345), n(346), n(347), n(348), n(349), n(350), n(351), n(352), n(353), n(354), n(355), n(356), n(357), n(358), n(359), n(360), n(361), n(362), n(363), n(364), n(365), n(366), n(367), n(368), n(369), n(370), n(371), n(372), n(373), n(374), n(376), n(377), n(379), n(380), n(381), n(382), n(383), n(384), n(385), n(387), n(388), n(389), n(390), n(391), n(392), n(393), n(394), n(395), n(396), n(397), n(398), n(399), n(160), n(400), n(401), n(216), n(402), n(403), n(404), n(405), n(406), n(219), n(221), n(222), n(407), n(408), n(409), n(410), n(411), n(412), n(413), n(414), n(415), n(416), n(417), n(418), n(419), n(420), n(421), n(422), n(423), n(424), n(425), n(426), n(427), n(428), n(429), n(430), n(431), n(432), n(433), n(434), n(435), n(436), n(437), n(438), n(439), n(440), n(441), n(442), n(443), n(444), n(445), n(446), n(447), n(448), n(449), n(450), n(451), n(452), n(453), n(454), n(455), n(456), n(457), n(458), n(459), n(460), n(461), n(462), n(463), n(464), n(465), n(466), n(467), n(468), n(469), n(470), n(471), n(472), n(473), n(474), n(475), n(476), n(477), n(478), n(479), n(480), n(481), n(482), n(483), n(484), n(485), n(486), n(487), n(488), n(489), n(490), n(491), t.exports = n(42)
}, function(t, e, n) {
    "use strict";
    var r = n(7),
        i = n(29),
        o = n(14),
        a = n(0),
        s = n(31),
        u = n(58).KEY,
        c = n(8),
        l = n(104),
        f = n(81),
        h = n(66),
        d = n(12),
        p = n(199),
        m = n(140),
        v = n(297),
        g = n(107),
        A = n(5),
        y = n(35),
        x = n(43),
        _ = n(65),
        b = n(70),
        w = n(202),
        M = n(36),
        E = n(15),
        S = n(68),
        T = M.f,
        L = E.f,
        C = w.f,
        P = r.Symbol,
        R = r.JSON,
        D = R && R.stringify,
        O = d("_hidden"),
        I = d("toPrimitive"),
        B = {}.propertyIsEnumerable,
        N = l("symbol-registry"),
        k = l("symbols"),
        F = l("op-symbols"),
        U = Object.prototype,
        z = "function" == typeof P,
        V = r.QObject,
        G = !V || !V.prototype || !V.prototype.findChild,
        H = o && c(function() {
            return 7 != b(L({}, "a", {
                get: function() {
                    return L(this, "a", {
                        value: 7
                    }).a
                }
            })).a
        }) ? function(t, e, n) {
            var r = T(U, e);
            r && delete U[e], L(t, e, n), r && t !== U && L(U, e, r)
        } : L,
        W = function(t) {
            var e = k[t] = b(P.prototype);
            return e._k = t, e
        },
        j = z && "symbol" == typeof P.iterator ? function(t) {
            return "symbol" == typeof t
        } : function(t) {
            return t instanceof P
        },
        Q = function(t, e, n) {
            return t === U && Q(F, e, n), A(t), e = x(e, !0), A(n), i(k, e) ? (n.enumerable ? (i(t, O) && t[O][e] && (t[O][e] = !1), n = b(n, {
                enumerable: _(0, !1)
            })) : (i(t, O) || L(t, O, _(1, {})), t[O][e] = !0), H(t, e, n)) : L(t, e, n)
        },
        q = function(t, e) {
            A(t);
            for (var n, r = v(e = y(e)), i = 0, o = r.length; o > i;) Q(t, n = r[i++], e[n]);
            return t
        },
        X = function(t, e) {
            return void 0 === e ? b(t) : q(b(t), e)
        },
        Y = function(t) {
            var e = B.call(this, t = x(t, !0));
            return !(this === U && i(k, t) && !i(F, t)) && (!(e || !i(this, t) || !i(k, t) || i(this, O) && this[O][t]) || e)
        },
        Z = function(t, e) {
            if (t = y(t), e = x(e, !0), t !== U || !i(k, e) || i(F, e)) {
                var n = T(t, e);
                return !n || !i(k, e) || i(t, O) && t[O][e] || (n.enumerable = !0), n
            }
        },
        J = function(t) {
            for (var e, n = C(y(t)), r = [], o = 0; n.length > o;) i(k, e = n[o++]) || e == O || e == u || r.push(e);
            return r
        },
        K = function(t) {
            for (var e, n = t === U, r = C(n ? F : y(t)), o = [], a = 0; r.length > a;) !i(k, e = r[a++]) || n && !i(U, e) || o.push(k[e]);
            return o
        };
    z || (P = function() {
        if (this instanceof P) throw TypeError("Symbol is not a constructor!");
        var t = h(arguments.length > 0 ? arguments[0] : void 0),
            e = function(n) {
                this === U && e.call(F, n), i(this, O) && i(this[O], t) && (this[O][t] = !1), H(this, t, _(1, n))
            };
        return o && G && H(U, t, {
            configurable: !0,
            set: e
        }), W(t)
    }, s(P.prototype, "toString", function() {
        return this._k
    }), M.f = Z, E.f = Q, n(71).f = w.f = J, n(91).f = Y, n(106).f = K, o && !n(67) && s(U, "propertyIsEnumerable", Y, !0), p.f = function(t) {
        return W(d(t))
    }), a(a.G + a.W + a.F * !z, {
        Symbol: P
    });
    for (var $ = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), tt = 0; $.length > tt;) d($[tt++]);
    for (var et = S(d.store), nt = 0; et.length > nt;) m(et[nt++]);
    a(a.S + a.F * !z, "Symbol", {
        for: function(t) {
            return i(N, t += "") ? N[t] : N[t] = P(t)
        },
        keyFor: function(t) {
            if (!j(t)) throw TypeError(t + " is not a symbol!");
            for (var e in N)
                if (N[e] === t) return e
        },
        useSetter: function() {
            G = !0
        },
        useSimple: function() {
            G = !1
        }
    }), a(a.S + a.F * !z, "Object", {
        create: X,
        defineProperty: Q,
        defineProperties: q,
        getOwnPropertyDescriptor: Z,
        getOwnPropertyNames: J,
        getOwnPropertySymbols: K
    }), R && a(a.S + a.F * (!z || c(function() {
        var t = P();
        return "[null]" != D([t]) || "{}" != D({
            a: t
        }) || "{}" != D(Object(t))
    })), "JSON", {
        stringify: function(t) {
            if (void 0 !== t && !j(t)) {
                for (var e, n, r = [t], i = 1; arguments.length > i;) r.push(arguments[i++]);
                return e = r[1], "function" == typeof e && (n = e), !n && g(e) || (e = function(t, e) {
                    if (n && (e = n.call(this, t, e)), !j(e)) return e
                }), r[1] = e, D.apply(R, r)
            }
        }
    }), P.prototype[I] || n(30)(P.prototype, I, P.prototype.valueOf), f(P, "Symbol"), f(Math, "Math", !0), f(r.JSON, "JSON", !0)
}, function(t, e, n) {
    var r = n(68),
        i = n(106),
        o = n(91);
    t.exports = function(t) {
        var e = r(t),
            n = i.f;
        if (n)
            for (var a, s = n(t), u = o.f, c = 0; s.length > c;) u.call(t, a = s[c++]) && e.push(a);
        return e
    }
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Object", {
        create: n(70)
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S + r.F * !n(14), "Object", {
        defineProperty: n(15).f
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S + r.F * !n(14), "Object", {
        defineProperties: n(201)
    })
}, function(t, e, n) {
    var r = n(35),
        i = n(36).f;
    n(46)("getOwnPropertyDescriptor", function() {
        return function(t, e) {
            return i(r(t), e)
        }
    })
}, function(t, e, n) {
    var r = n(21),
        i = n(37);
    n(46)("getPrototypeOf", function() {
        return function(t) {
            return i(r(t))
        }
    })
}, function(t, e, n) {
    var r = n(21),
        i = n(68);
    n(46)("keys", function() {
        return function(t) {
            return i(r(t))
        }
    })
}, function(t, e, n) {
    n(46)("getOwnPropertyNames", function() {
        return n(202).f
    })
}, function(t, e, n) {
    var r = n(9),
        i = n(58).onFreeze;
    n(46)("freeze", function(t) {
        return function(e) {
            return t && r(e) ? t(i(e)) : e
        }
    })
}, function(t, e, n) {
    var r = n(9),
        i = n(58).onFreeze;
    n(46)("seal", function(t) {
        return function(e) {
            return t && r(e) ? t(i(e)) : e
        }
    })
}, function(t, e, n) {
    var r = n(9),
        i = n(58).onFreeze;
    n(46)("preventExtensions", function(t) {
        return function(e) {
            return t && r(e) ? t(i(e)) : e
        }
    })
}, function(t, e, n) {
    var r = n(9);
    n(46)("isFrozen", function(t) {
        return function(e) {
            return !r(e) || !!t && t(e)
        }
    })
}, function(t, e, n) {
    var r = n(9);
    n(46)("isSealed", function(t) {
        return function(e) {
            return !r(e) || !!t && t(e)
        }
    })
}, function(t, e, n) {
    var r = n(9);
    n(46)("isExtensible", function(t) {
        return function(e) {
            return !!r(e) && (!t || t(e))
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S + r.F, "Object", {
        assign: n(203)
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Object", {
        is: n(313)
    })
}, function(t, e) {
    t.exports = Object.is || function(t, e) {
        return t === e ? 0 !== t || 1 / t == 1 / e : t != t && e != e
    }
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Object", {
        setPrototypeOf: n(144).set
    })
}, function(t, e, n) {
    "use strict";
    var r = n(92),
        i = {};
    i[n(12)("toStringTag")] = "z", i + "" != "[object z]" && n(31)(Object.prototype, "toString", function() {
        return "[object " + r(this) + "]"
    }, !0)
}, function(t, e, n) {
    var r = n(0);
    r(r.P, "Function", {
        bind: n(204)
    })
}, function(t, e, n) {
    var r = n(15).f,
        i = Function.prototype,
        o = /^\s*function ([^ (]*)/;
    "name" in i || n(14) && r(i, "name", {
        configurable: !0,
        get: function() {
            try {
                return ("" + this).match(o)[1]
            } catch (t) {
                return ""
            }
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(9),
        i = n(37),
        o = n(12)("hasInstance"),
        a = Function.prototype;
    o in a || n(15).f(a, o, {
        value: function(t) {
            if ("function" != typeof this || !r(t)) return !1;
            if (!r(this.prototype)) return t instanceof this;
            for (; t = i(t);)
                if (this.prototype === t) return !0;
            return !1
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(206);
    r(r.G + r.F * (parseInt != i), {
        parseInt: i
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(207);
    r(r.G + r.F * (parseFloat != i), {
        parseFloat: i
    })
}, function(t, e, n) {
    "use strict";
    var r = n(7),
        i = n(29),
        o = n(39),
        a = n(146),
        s = n(43),
        u = n(8),
        c = n(71).f,
        l = n(36).f,
        f = n(15).f,
        h = n(82).trim,
        d = r.Number,
        p = d,
        m = d.prototype,
        v = "Number" == o(n(70)(m)),
        g = "trim" in String.prototype,
        A = function(t) {
            var e = s(t, !1);
            if ("string" == typeof e && e.length > 2) {
                e = g ? e.trim() : h(e, 3);
                var n, r, i, o = e.charCodeAt(0);
                if (43 === o || 45 === o) {
                    if (88 === (n = e.charCodeAt(2)) || 120 === n) return NaN
                } else if (48 === o) {
                    switch (e.charCodeAt(1)) {
                        case 66:
                        case 98:
                            r = 2, i = 49;
                            break;
                        case 79:
                        case 111:
                            r = 8, i = 55;
                            break;
                        default:
                            return +e
                    }
                    for (var a, u = e.slice(2), c = 0, l = u.length; c < l; c++)
                        if ((a = u.charCodeAt(c)) < 48 || a > i) return NaN;
                    return parseInt(u, r)
                }
            }
            return +e
        };
    if (!d(" 0o1") || !d("0b1") || d("+0x1")) {
        d = function(t) {
            var e = arguments.length < 1 ? 0 : t,
                n = this;
            return n instanceof d && (v ? u(function() {
                m.valueOf.call(n)
            }) : "Number" != o(n)) ? a(new p(A(e)), n, d) : A(e)
        };
        for (var y, x = n(14) ? c(p) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), _ = 0; x.length > _; _++) i(p, y = x[_]) && !i(d, y) && f(d, y, l(p, y));
        d.prototype = m, m.constructor = d, n(31)(r, "Number", d)
    }
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(45),
        o = n(208),
        a = n(147),
        s = 1..toFixed,
        u = Math.floor,
        c = [0, 0, 0, 0, 0, 0],
        l = "Number.toFixed: incorrect invocation!",
        f = function(t, e) {
            for (var n = -1, r = e; ++n < 6;) r += t * c[n], c[n] = r % 1e7, r = u(r / 1e7)
        },
        h = function(t) {
            for (var e = 6, n = 0; --e >= 0;) n += c[e], c[e] = u(n / t), n = n % t * 1e7
        },
        d = function() {
            for (var t = 6, e = ""; --t >= 0;)
                if ("" !== e || 0 === t || 0 !== c[t]) {
                    var n = String(c[t]);
                    e = "" === e ? n : e + a.call("0", 7 - n.length) + n
                }
            return e
        },
        p = function(t, e, n) {
            return 0 === e ? n : e % 2 == 1 ? p(t, e - 1, n * t) : p(t * t, e / 2, n)
        },
        m = function(t) {
            for (var e = 0, n = t; n >= 4096;) e += 12, n /= 4096;
            for (; n >= 2;) e += 1, n /= 2;
            return e
        };
    r(r.P + r.F * (!!s && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !n(8)(function() {
        s.call({})
    })), "Number", {
        toFixed: function(t) {
            var e, n, r, s, u = o(this, l),
                c = i(t),
                v = "",
                g = "0";
            if (c < 0 || c > 20) throw RangeError(l);
            if (u != u) return "NaN";
            if (u <= -1e21 || u >= 1e21) return String(u);
            if (u < 0 && (v = "-", u = -u), u > 1e-21)
                if (e = m(u * p(2, 69, 1)) - 69, n = e < 0 ? u * p(2, -e, 1) : u / p(2, e, 1), n *= 4503599627370496, (e = 52 - e) > 0) {
                    for (f(0, n), r = c; r >= 7;) f(1e7, 0), r -= 7;
                    for (f(p(10, r, 1), 0), r = e - 1; r >= 23;) h(1 << 23), r -= 23;
                    h(1 << r), f(1, 1), h(2), g = d()
                } else f(0, n), f(1 << -e, 0), g = d() + a.call("0", c);
            return c > 0 ? (s = g.length, g = v + (s <= c ? "0." + a.call("0", c - s) + g : g.slice(0, s - c) + "." + g.slice(s - c))) : g = v + g, g
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(8),
        o = n(208),
        a = 1..toPrecision;
    r(r.P + r.F * (i(function() {
        return "1" !== a.call(1, void 0)
    }) || !i(function() {
        a.call({})
    })), "Number", {
        toPrecision: function(t) {
            var e = o(this, "Number#toPrecision: incorrect invocation!");
            return void 0 === t ? a.call(e) : a.call(e, t)
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        EPSILON: Math.pow(2, -52)
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(7).isFinite;
    r(r.S, "Number", {
        isFinite: function(t) {
            return "number" == typeof t && i(t)
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        isInteger: n(209)
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        isNaN: function(t) {
            return t != t
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(209),
        o = Math.abs;
    r(r.S, "Number", {
        isSafeInteger: function(t) {
            return i(t) && o(t) <= 9007199254740991
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        MAX_SAFE_INTEGER: 9007199254740991
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        MIN_SAFE_INTEGER: -9007199254740991
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(207);
    r(r.S + r.F * (Number.parseFloat != i), "Number", {
        parseFloat: i
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(206);
    r(r.S + r.F * (Number.parseInt != i), "Number", {
        parseInt: i
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(210),
        o = Math.sqrt,
        a = Math.acosh;
    r(r.S + r.F * !(a && 710 == Math.floor(a(Number.MAX_VALUE)) && a(1 / 0) == 1 / 0), "Math", {
        acosh: function(t) {
            return (t = +t) < 1 ? NaN : t > 94906265.62425156 ? Math.log(t) + Math.LN2 : i(t - 1 + o(t - 1) * o(t + 1))
        }
    })
}, function(t, e, n) {
    function r(t) {
        return isFinite(t = +t) && 0 != t ? t < 0 ? -r(-t) : Math.log(t + Math.sqrt(t * t + 1)) : t
    }
    var i = n(0),
        o = Math.asinh;
    i(i.S + i.F * !(o && 1 / o(0) > 0), "Math", {
        asinh: r
    })
}, function(t, e, n) {
    var r = n(0),
        i = Math.atanh;
    r(r.S + r.F * !(i && 1 / i(-0) < 0), "Math", {
        atanh: function(t) {
            return 0 == (t = +t) ? t : Math.log((1 + t) / (1 - t)) / 2
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(148);
    r(r.S, "Math", {
        cbrt: function(t) {
            return i(t = +t) * Math.pow(Math.abs(t), 1 / 3)
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        clz32: function(t) {
            return (t >>>= 0) ? 31 - Math.floor(Math.log(t + .5) * Math.LOG2E) : 32
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = Math.exp;
    r(r.S, "Math", {
        cosh: function(t) {
            return (i(t = +t) + i(-t)) / 2
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(149);
    r(r.S + r.F * (i != Math.expm1), "Math", {
        expm1: i
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        fround: n(211)
    })
}, function(t, e, n) {
    var r = n(0),
        i = Math.abs;
    r(r.S, "Math", {
        hypot: function(t, e) {
            for (var n, r, o = 0, a = 0, s = arguments.length, u = 0; a < s;) n = i(arguments[a++]), u < n ? (r = u / n, o = o * r * r + 1, u = n) : n > 0 ? (r = n / u, o += r * r) : o += n;
            return u === 1 / 0 ? 1 / 0 : u * Math.sqrt(o)
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = Math.imul;
    r(r.S + r.F * n(8)(function() {
        return -5 != i(4294967295, 5) || 2 != i.length
    }), "Math", {
        imul: function(t, e) {
            var n = +t,
                r = +e,
                i = 65535 & n,
                o = 65535 & r;
            return 0 | i * o + ((65535 & n >>> 16) * o + i * (65535 & r >>> 16) << 16 >>> 0)
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        log10: function(t) {
            return Math.log(t) * Math.LOG10E
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        log1p: n(210)
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        log2: function(t) {
            return Math.log(t) / Math.LN2
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        sign: n(148)
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(149),
        o = Math.exp;
    r(r.S + r.F * n(8)(function() {
        return -2e-17 != !Math.sinh(-2e-17)
    }), "Math", {
        sinh: function(t) {
            return Math.abs(t = +t) < 1 ? (i(t) - i(-t)) / 2 : (o(t - 1) - o(-t - 1)) * (Math.E / 2)
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(149),
        o = Math.exp;
    r(r.S, "Math", {
        tanh: function(t) {
            var e = i(t = +t),
                n = i(-t);
            return e == 1 / 0 ? 1 : n == 1 / 0 ? -1 : (e - n) / (o(t) + o(-t))
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        trunc: function(t) {
            return (t > 0 ? Math.floor : Math.ceil)(t)
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(69),
        o = String.fromCharCode,
        a = String.fromCodePoint;
    r(r.S + r.F * (!!a && 1 != a.length), "String", {
        fromCodePoint: function(t) {
            for (var e, n = [], r = arguments.length, a = 0; r > a;) {
                if (e = +arguments[a++], i(e, 1114111) !== e) throw RangeError(e + " is not a valid code point");
                n.push(e < 65536 ? o(e) : o(55296 + ((e -= 65536) >> 10), e % 1024 + 56320))
            }
            return n.join("")
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(35),
        o = n(16);
    r(r.S, "String", {
        raw: function(t) {
            for (var e = i(t.raw), n = o(e.length), r = arguments.length, a = [], s = 0; n > s;) a.push(String(e[s++])), s < r && a.push(String(arguments[s]));
            return a.join("")
        }
    })
}, function(t, e, n) {
    "use strict";
    n(82)("trim", function(t) {
        return function() {
            return t(this, 3)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(150)(!0);
    n(151)(String, "String", function(t) {
        this._t = String(t), this._i = 0
    }, function() {
        var t, e = this._t,
            n = this._i;
        return n >= e.length ? {
            value: void 0,
            done: !0
        } : (t = r(e, n), this._i += t.length, {
            value: t,
            done: !1
        })
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(150)(!1);
    r(r.P, "String", {
        codePointAt: function(t) {
            return i(this, t)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(16),
        o = n(153),
        a = "".endsWith;
    r(r.P + r.F * n(154)("endsWith"), "String", {
        endsWith: function(t) {
            var e = o(this, t, "endsWith"),
                n = arguments.length > 1 ? arguments[1] : void 0,
                r = i(e.length),
                s = void 0 === n ? r : Math.min(i(n), r),
                u = String(t);
            return a ? a.call(e, u, s) : e.slice(s - u.length, s) === u
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(153);
    r(r.P + r.F * n(154)("includes"), "String", {
        includes: function(t) {
            return !!~i(this, t, "includes").indexOf(t, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.P, "String", {
        repeat: n(147)
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(16),
        o = n(153),
        a = "".startsWith;
    r(r.P + r.F * n(154)("startsWith"), "String", {
        startsWith: function(t) {
            var e = o(this, t, "startsWith"),
                n = i(Math.min(arguments.length > 1 ? arguments[1] : void 0, e.length)),
                r = String(t);
            return a ? a.call(e, r, n) : e.slice(n, n + r.length) === r
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("anchor", function(t) {
        return function(e) {
            return t(this, "a", "name", e)
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("big", function(t) {
        return function() {
            return t(this, "big", "", "")
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("blink", function(t) {
        return function() {
            return t(this, "blink", "", "")
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("bold", function(t) {
        return function() {
            return t(this, "b", "", "")
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("fixed", function(t) {
        return function() {
            return t(this, "tt", "", "")
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("fontcolor", function(t) {
        return function(e) {
            return t(this, "font", "color", e)
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("fontsize", function(t) {
        return function(e) {
            return t(this, "font", "size", e)
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("italics", function(t) {
        return function() {
            return t(this, "i", "", "")
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("link", function(t) {
        return function(e) {
            return t(this, "a", "href", e)
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("small", function(t) {
        return function() {
            return t(this, "small", "", "")
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("strike", function(t) {
        return function() {
            return t(this, "strike", "", "")
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("sub", function(t) {
        return function() {
            return t(this, "sub", "", "")
        }
    })
}, function(t, e, n) {
    "use strict";
    n(32)("sup", function(t) {
        return function() {
            return t(this, "sup", "", "")
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Date", {
        now: function() {
            return (new Date).getTime()
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(21),
        o = n(43);
    r(r.P + r.F * n(8)(function() {
        return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
            toISOString: function() {
                return 1
            }
        })
    }), "Date", {
        toJSON: function(t) {
            var e = i(this),
                n = o(e);
            return "number" != typeof n || isFinite(n) ? e.toISOString() : null
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(375);
    r(r.P + r.F * (Date.prototype.toISOString !== i), "Date", {
        toISOString: i
    })
}, function(t, e, n) {
    "use strict";
    var r = n(8),
        i = Date.prototype.getTime,
        o = Date.prototype.toISOString,
        a = function(t) {
            return t > 9 ? t : "0" + t
        };
    t.exports = r(function() {
        return "0385-07-25T07:06:39.999Z" != o.call(new Date(-5e13 - 1))
    }) || !r(function() {
        o.call(new Date(NaN))
    }) ? function() {
        if (!isFinite(i.call(this))) throw RangeError("Invalid time value");
        var t = this,
            e = t.getUTCFullYear(),
            n = t.getUTCMilliseconds(),
            r = e < 0 ? "-" : e > 9999 ? "+" : "";
        return r + ("00000" + Math.abs(e)).slice(r ? -6 : -4) + "-" + a(t.getUTCMonth() + 1) + "-" + a(t.getUTCDate()) + "T" + a(t.getUTCHours()) + ":" + a(t.getUTCMinutes()) + ":" + a(t.getUTCSeconds()) + "." + (n > 99 ? n : "0" + a(n)) + "Z"
    } : o
}, function(t, e, n) {
    var r = Date.prototype,
        i = r.toString,
        o = r.getTime;
    new Date(NaN) + "" != "Invalid Date" && n(31)(r, "toString", function() {
        var t = o.call(this);
        return t === t ? i.call(this) : "Invalid Date"
    })
}, function(t, e, n) {
    var r = n(12)("toPrimitive"),
        i = Date.prototype;
    r in i || n(30)(i, r, n(378))
}, function(t, e, n) {
    "use strict";
    var r = n(5),
        i = n(43);
    t.exports = function(t) {
        if ("string" !== t && "number" !== t && "default" !== t) throw TypeError("Incorrect hint");
        return i(r(this), "number" != t)
    }
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Array", {
        isArray: n(107)
    })
}, function(t, e, n) {
    "use strict";
    var r = n(38),
        i = n(0),
        o = n(21),
        a = n(212),
        s = n(155),
        u = n(16),
        c = n(156),
        l = n(157);
    i(i.S + i.F * !n(109)(function(t) {
        Array.from(t)
    }), "Array", {
        from: function(t) {
            var e, n, i, f, h = o(t),
                d = "function" == typeof this ? this : Array,
                p = arguments.length,
                m = p > 1 ? arguments[1] : void 0,
                v = void 0 !== m,
                g = 0,
                A = l(h);
            if (v && (m = r(m, p > 2 ? arguments[2] : void 0, 2)), void 0 == A || d == Array && s(A))
                for (e = u(h.length), n = new d(e); e > g; g++) c(n, g, v ? m(h[g], g) : h[g]);
            else
                for (f = A.call(h), n = new d; !(i = f.next()).done; g++) c(n, g, v ? a(f, m, [i.value, g], !0) : i.value);
            return n.length = g, n
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(156);
    r(r.S + r.F * n(8)(function() {
        function t() {}
        return !(Array.of.call(t) instanceof t)
    }), "Array", { of: function() {
            for (var t = 0, e = arguments.length, n = new("function" == typeof this ? this : Array)(e); e > t;) i(n, t, arguments[t++]);
            return n.length = e, n
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(35),
        o = [].join;
    r(r.P + r.F * (n(90) != Object || !n(40)(o)), "Array", {
        join: function(t) {
            return o.call(i(this), void 0 === t ? "," : t)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(143),
        o = n(39),
        a = n(69),
        s = n(16),
        u = [].slice;
    r(r.P + r.F * n(8)(function() {
        i && u.call(i)
    }), "Array", {
        slice: function(t, e) {
            var n = s(this.length),
                r = o(this);
            if (e = void 0 === e ? n : e, "Array" == r) return u.call(this, t, e);
            for (var i = a(t, n), c = a(e, n), l = s(c - i), f = Array(l), h = 0; h < l; h++) f[h] = "String" == r ? this.charAt(i + h) : this[i + h];
            return f
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(25),
        o = n(21),
        a = n(8),
        s = [].sort,
        u = [1, 2, 3];
    r(r.P + r.F * (a(function() {
        u.sort(void 0)
    }) || !a(function() {
        u.sort(null)
    }) || !n(40)(s)), "Array", {
        sort: function(t) {
            return void 0 === t ? s.call(o(this)) : s.call(o(this), i(t))
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(47)(0),
        o = n(40)([].forEach, !0);
    r(r.P + r.F * !o, "Array", {
        forEach: function(t) {
            return i(this, t, arguments[1])
        }
    })
}, function(t, e, n) {
    var r = n(9),
        i = n(107),
        o = n(12)("species");
    t.exports = function(t) {
        var e;
        return i(t) && (e = t.constructor, "function" != typeof e || e !== Array && !i(e.prototype) || (e = void 0), r(e) && null === (e = e[o]) && (e = void 0)), void 0 === e ? Array : e
    }
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(47)(1);
    r(r.P + r.F * !n(40)([].map, !0), "Array", {
        map: function(t) {
            return i(this, t, arguments[1])
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(47)(2);
    r(r.P + r.F * !n(40)([].filter, !0), "Array", {
        filter: function(t) {
            return i(this, t, arguments[1])
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(47)(3);
    r(r.P + r.F * !n(40)([].some, !0), "Array", {
        some: function(t) {
            return i(this, t, arguments[1])
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(47)(4);
    r(r.P + r.F * !n(40)([].every, !0), "Array", {
        every: function(t) {
            return i(this, t, arguments[1])
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(213);
    r(r.P + r.F * !n(40)([].reduce, !0), "Array", {
        reduce: function(t) {
            return i(this, t, arguments.length, arguments[1], !1)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(213);
    r(r.P + r.F * !n(40)([].reduceRight, !0), "Array", {
        reduceRight: function(t) {
            return i(this, t, arguments.length, arguments[1], !0)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(105)(!1),
        o = [].indexOf,
        a = !!o && 1 / [1].indexOf(1, -0) < 0;
    r(r.P + r.F * (a || !n(40)(o)), "Array", {
        indexOf: function(t) {
            return a ? o.apply(this, arguments) || 0 : i(this, t, arguments[1])
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(35),
        o = n(45),
        a = n(16),
        s = [].lastIndexOf,
        u = !!s && 1 / [1].lastIndexOf(1, -0) < 0;
    r(r.P + r.F * (u || !n(40)(s)), "Array", {
        lastIndexOf: function(t) {
            if (u) return s.apply(this, arguments) || 0;
            var e = i(this),
                n = a(e.length),
                r = n - 1;
            for (arguments.length > 1 && (r = Math.min(r, o(arguments[1]))), r < 0 && (r = n + r); r >= 0; r--)
                if (r in e && e[r] === t) return r || 0;
            return -1
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.P, "Array", {
        copyWithin: n(214)
    }), n(59)("copyWithin")
}, function(t, e, n) {
    var r = n(0);
    r(r.P, "Array", {
        fill: n(159)
    }), n(59)("fill")
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(47)(5),
        o = !0;
    "find" in [] && Array(1).find(function() {
        o = !1
    }), r(r.P + r.F * o, "Array", {
        find: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), n(59)("find")
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(47)(6),
        o = "findIndex",
        a = !0;
    o in [] && Array(1)[o](function() {
        a = !1
    }), r(r.P + r.F * a, "Array", {
        findIndex: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), n(59)(o)
}, function(t, e, n) {
    n(72)("Array")
}, function(t, e, n) {
    var r = n(7),
        i = n(146),
        o = n(15).f,
        a = n(71).f,
        s = n(108),
        u = n(110),
        c = r.RegExp,
        l = c,
        f = c.prototype,
        h = /a/g,
        d = /a/g,
        p = new c(h) !== h;
    if (n(14) && (!p || n(8)(function() {
            return d[n(12)("match")] = !1, c(h) != h || c(d) == d || "/a/i" != c(h, "i")
        }))) {
        c = function(t, e) {
            var n = this instanceof c,
                r = s(t),
                o = void 0 === e;
            return !n && r && t.constructor === c && o ? t : i(p ? new l(r && !o ? t.source : t, e) : l((r = t instanceof c) ? t.source : t, r && o ? u.call(t) : e), n ? this : f, c)
        };
        for (var m = a(l), v = 0; m.length > v;) ! function(t) {
            t in c || o(c, t, {
                configurable: !0,
                get: function() {
                    return l[t]
                },
                set: function(e) {
                    l[t] = e
                }
            })
        }(m[v++]);
        f.constructor = c, c.prototype = f, n(31)(r, "RegExp", c)
    }
    n(72)("RegExp")
}, function(t, e, n) {
    "use strict";
    n(216);
    var r = n(5),
        i = n(110),
        o = n(14),
        a = /./.toString,
        s = function(t) {
            n(31)(RegExp.prototype, "toString", t, !0)
        };
    n(8)(function() {
        return "/a/b" != a.call({
            source: "a",
            flags: "b"
        })
    }) ? s(function() {
        var t = r(this);
        return "/".concat(t.source, "/", "flags" in t ? t.flags : !o && t instanceof RegExp ? i.call(t) : void 0)
    }) : "toString" != a.name && s(function() {
        return a.call(this)
    })
}, function(t, e, n) {
    n(111)("match", 1, function(t, e, n) {
        return [function(n) {
            "use strict";
            var r = t(this),
                i = void 0 == n ? void 0 : n[e];
            return void 0 !== i ? i.call(n, r) : new RegExp(n)[e](String(r))
        }, n]
    })
}, function(t, e, n) {
    n(111)("replace", 2, function(t, e, n) {
        return [function(r, i) {
            "use strict";
            var o = t(this),
                a = void 0 == r ? void 0 : r[e];
            return void 0 !== a ? a.call(r, o, i) : n.call(String(o), r, i)
        }, n]
    })
}, function(t, e, n) {
    n(111)("search", 1, function(t, e, n) {
        return [function(n) {
            "use strict";
            var r = t(this),
                i = void 0 == n ? void 0 : n[e];
            return void 0 !== i ? i.call(n, r) : new RegExp(n)[e](String(r))
        }, n]
    })
}, function(t, e, n) {
    n(111)("split", 2, function(t, e, r) {
        "use strict";
        var i = n(108),
            o = r,
            a = [].push,
            s = "length";
        if ("c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1)[s] || 2 != "ab".split(/(?:ab)*/)[s] || 4 != ".".split(/(.?)(.?)/)[s] || ".".split(/()()/)[s] > 1 || "".split(/.?/)[s]) {
            var u = void 0 === /()??/.exec("")[1];
            r = function(t, e) {
                var n = String(this);
                if (void 0 === t && 0 === e) return [];
                if (!i(t)) return o.call(n, t, e);
                var r, c, l, f, h, d = [],
                    p = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.unicode ? "u" : "") + (t.sticky ? "y" : ""),
                    m = 0,
                    v = void 0 === e ? 4294967295 : e >>> 0,
                    g = new RegExp(t.source, p + "g");
                for (u || (r = new RegExp("^" + g.source + "$(?!\\s)", p));
                    (c = g.exec(n)) && !((l = c.index + c[0][s]) > m && (d.push(n.slice(m, c.index)), !u && c[s] > 1 && c[0].replace(r, function() {
                        for (h = 1; h < arguments[s] - 2; h++) void 0 === arguments[h] && (c[h] = void 0)
                    }), c[s] > 1 && c.index < n[s] && a.apply(d, c.slice(1)), f = c[0][s], m = l, d[s] >= v));) g.lastIndex === c.index && g.lastIndex++;
                return m === n[s] ? !f && g.test("") || d.push("") : d.push(n.slice(m)), d[s] > v ? d.slice(0, v) : d
            }
        } else "0".split(void 0, 0)[s] && (r = function(t, e) {
            return void 0 === t && 0 === e ? [] : o.call(this, t, e)
        });
        return [function(n, i) {
            var o = t(this),
                a = void 0 == n ? void 0 : n[e];
            return void 0 !== a ? a.call(n, o, i) : r.call(String(o), n, i)
        }, r]
    })
}, function(t, e, n) {
    "use strict";
    var r, i, o, a, s = n(67),
        u = n(7),
        c = n(38),
        l = n(92),
        f = n(0),
        h = n(9),
        d = n(25),
        p = n(73),
        m = n(74),
        v = n(112),
        g = n(161).set,
        A = n(162)(),
        y = n(163),
        x = n(217),
        _ = n(218),
        b = u.TypeError,
        w = u.process,
        M = u.Promise,
        E = "process" == l(w),
        S = function() {},
        T = i = y.f,
        L = !! function() {
            try {
                var t = M.resolve(1),
                    e = (t.constructor = {})[n(12)("species")] = function(t) {
                        t(S, S)
                    };
                return (E || "function" == typeof PromiseRejectionEvent) && t.then(S) instanceof e
            } catch (t) {}
        }(),
        C = function(t) {
            var e;
            return !(!h(t) || "function" != typeof(e = t.then)) && e
        },
        P = function(t, e) {
            if (!t._n) {
                t._n = !0;
                var n = t._c;
                A(function() {
                    for (var r = t._v, i = 1 == t._s, o = 0; n.length > o;) ! function(e) {
                        var n, o, a = i ? e.ok : e.fail,
                            s = e.resolve,
                            u = e.reject,
                            c = e.domain;
                        try {
                            a ? (i || (2 == t._h && O(t), t._h = 1), !0 === a ? n = r : (c && c.enter(), n = a(r), c && c.exit()), n === e.promise ? u(b("Promise-chain cycle")) : (o = C(n)) ? o.call(n, s, u) : s(n)) : u(r)
                        } catch (t) {
                            u(t)
                        }
                    }(n[o++]);
                    t._c = [], t._n = !1, e && !t._h && R(t)
                })
            }
        },
        R = function(t) {
            g.call(u, function() {
                var e, n, r, i = t._v,
                    o = D(t);
                if (o && (e = x(function() {
                        E ? w.emit("unhandledRejection", i, t) : (n = u.onunhandledrejection) ? n({
                            promise: t,
                            reason: i
                        }) : (r = u.console) && r.error && r.error("Unhandled promise rejection", i)
                    }), t._h = E || D(t) ? 2 : 1), t._a = void 0, o && e.e) throw e.v
            })
        },
        D = function(t) {
            if (1 == t._h) return !1;
            for (var e, n = t._a || t._c, r = 0; n.length > r;)
                if (e = n[r++], e.fail || !D(e.promise)) return !1;
            return !0
        },
        O = function(t) {
            g.call(u, function() {
                var e;
                E ? w.emit("rejectionHandled", t) : (e = u.onrejectionhandled) && e({
                    promise: t,
                    reason: t._v
                })
            })
        },
        I = function(t) {
            var e = this;
            e._d || (e._d = !0, e = e._w || e, e._v = t, e._s = 2, e._a || (e._a = e._c.slice()), P(e, !0))
        },
        B = function(t) {
            var e, n = this;
            if (!n._d) {
                n._d = !0, n = n._w || n;
                try {
                    if (n === t) throw b("Promise can't be resolved itself");
                    (e = C(t)) ? A(function() {
                        var r = {
                            _w: n,
                            _d: !1
                        };
                        try {
                            e.call(t, c(B, r, 1), c(I, r, 1))
                        } catch (t) {
                            I.call(r, t)
                        }
                    }): (n._v = t, n._s = 1, P(n, !1))
                } catch (t) {
                    I.call({
                        _w: n,
                        _d: !1
                    }, t)
                }
            }
        };
    L || (M = function(t) {
        p(this, M, "Promise", "_h"), d(t), r.call(this);
        try {
            t(c(B, this, 1), c(I, this, 1))
        } catch (t) {
            I.call(this, t)
        }
    }, r = function(t) {
        this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1
    }, r.prototype = n(75)(M.prototype, {
        then: function(t, e) {
            var n = T(v(this, M));
            return n.ok = "function" != typeof t || t, n.fail = "function" == typeof e && e, n.domain = E ? w.domain : void 0, this._c.push(n), this._a && this._a.push(n), this._s && P(this, !1), n.promise
        },
        catch: function(t) {
            return this.then(void 0, t)
        }
    }), o = function() {
        var t = new r;
        this.promise = t, this.resolve = c(B, t, 1), this.reject = c(I, t, 1)
    }, y.f = T = function(t) {
        return t === M || t === a ? new o(t) : i(t)
    }), f(f.G + f.W + f.F * !L, {
        Promise: M
    }), n(81)(M, "Promise"), n(72)("Promise"), a = n(42).Promise, f(f.S + f.F * !L, "Promise", {
        reject: function(t) {
            var e = T(this);
            return (0, e.reject)(t), e.promise
        }
    }), f(f.S + f.F * (s || !L), "Promise", {
        resolve: function(t) {
            return _(s && this === a ? M : this, t)
        }
    }), f(f.S + f.F * !(L && n(109)(function(t) {
        M.all(t).catch(S)
    })), "Promise", {
        all: function(t) {
            var e = this,
                n = T(e),
                r = n.resolve,
                i = n.reject,
                o = x(function() {
                    var n = [],
                        o = 0,
                        a = 1;
                    m(t, !1, function(t) {
                        var s = o++,
                            u = !1;
                        n.push(void 0), a++, e.resolve(t).then(function(t) {
                            u || (u = !0, n[s] = t, --a || r(n))
                        }, i)
                    }), --a || r(n)
                });
            return o.e && i(o.v), n.promise
        },
        race: function(t) {
            var e = this,
                n = T(e),
                r = n.reject,
                i = x(function() {
                    m(t, !1, function(t) {
                        e.resolve(t).then(n.resolve, r)
                    })
                });
            return i.e && r(i.v), n.promise
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(223),
        i = n(84);
    n(113)("WeakSet", function(t) {
        return function() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function(t) {
            return r.def(i(this, "WeakSet"), t, !0)
        }
    }, r, !1, !0)
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(114),
        o = n(164),
        a = n(5),
        s = n(69),
        u = n(16),
        c = n(9),
        l = n(7).ArrayBuffer,
        f = n(112),
        h = o.ArrayBuffer,
        d = o.DataView,
        p = i.ABV && l.isView,
        m = h.prototype.slice,
        v = i.VIEW;
    r(r.G + r.W + r.F * (l !== h), {
        ArrayBuffer: h
    }), r(r.S + r.F * !i.CONSTR, "ArrayBuffer", {
        isView: function(t) {
            return p && p(t) || c(t) && v in t
        }
    }), r(r.P + r.U + r.F * n(8)(function() {
        return !new h(2).slice(1, void 0).byteLength
    }), "ArrayBuffer", {
        slice: function(t, e) {
            if (void 0 !== m && void 0 === e) return m.call(a(this), t);
            for (var n = a(this).byteLength, r = s(t, n), i = s(void 0 === e ? n : e, n), o = new(f(this, h))(u(i - r)), c = new d(this), l = new d(o), p = 0; r < i;) l.setUint8(p++, c.getUint8(r++));
            return o
        }
    }), n(72)("ArrayBuffer")
}, function(t, e, n) {
    var r = n(0);
    r(r.G + r.W + r.F * !n(114).ABV, {
        DataView: n(164).DataView
    })
}, function(t, e, n) {
    n(52)("Int8", 1, function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    })
}, function(t, e, n) {
    n(52)("Uint8", 1, function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    })
}, function(t, e, n) {
    n(52)("Uint8", 1, function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }, !0)
}, function(t, e, n) {
    n(52)("Int16", 2, function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    })
}, function(t, e, n) {
    n(52)("Uint16", 2, function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    })
}, function(t, e, n) {
    n(52)("Int32", 4, function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    })
}, function(t, e, n) {
    n(52)("Uint32", 4, function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    })
}, function(t, e, n) {
    n(52)("Float32", 4, function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    })
}, function(t, e, n) {
    n(52)("Float64", 8, function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(25),
        o = n(5),
        a = (n(7).Reflect || {}).apply,
        s = Function.apply;
    r(r.S + r.F * !n(8)(function() {
        a(function() {})
    }), "Reflect", {
        apply: function(t, e, n) {
            var r = i(t),
                u = o(n);
            return a ? a(r, e, u) : s.call(r, e, u)
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(70),
        o = n(25),
        a = n(5),
        s = n(9),
        u = n(8),
        c = n(204),
        l = (n(7).Reflect || {}).construct,
        f = u(function() {
            function t() {}
            return !(l(function() {}, [], t) instanceof t)
        }),
        h = !u(function() {
            l(function() {})
        });
    r(r.S + r.F * (f || h), "Reflect", {
        construct: function(t, e) {
            o(t), a(e);
            var n = arguments.length < 3 ? t : o(arguments[2]);
            if (h && !f) return l(t, e, n);
            if (t == n) {
                switch (e.length) {
                    case 0:
                        return new t;
                    case 1:
                        return new t(e[0]);
                    case 2:
                        return new t(e[0], e[1]);
                    case 3:
                        return new t(e[0], e[1], e[2]);
                    case 4:
                        return new t(e[0], e[1], e[2], e[3])
                }
                var r = [null];
                return r.push.apply(r, e), new(c.apply(t, r))
            }
            var u = n.prototype,
                d = i(s(u) ? u : Object.prototype),
                p = Function.apply.call(t, d, e);
            return s(p) ? p : d
        }
    })
}, function(t, e, n) {
    var r = n(15),
        i = n(0),
        o = n(5),
        a = n(43);
    i(i.S + i.F * n(8)(function() {
        Reflect.defineProperty(r.f({}, 1, {
            value: 1
        }), 1, {
            value: 2
        })
    }), "Reflect", {
        defineProperty: function(t, e, n) {
            o(t), e = a(e, !0), o(n);
            try {
                return r.f(t, e, n), !0
            } catch (t) {
                return !1
            }
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(36).f,
        o = n(5);
    r(r.S, "Reflect", {
        deleteProperty: function(t, e) {
            var n = i(o(t), e);
            return !(n && !n.configurable) && delete t[e]
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(5),
        o = function(t) {
            this._t = i(t), this._i = 0;
            var e, n = this._k = [];
            for (e in t) n.push(e)
        };
    n(152)(o, "Object", function() {
        var t, e = this,
            n = e._k;
        do {
            if (e._i >= n.length) return {
                value: void 0,
                done: !0
            }
        } while (!((t = n[e._i++]) in e._t));
        return {
            value: t,
            done: !1
        }
    }), r(r.S, "Reflect", {
        enumerate: function(t) {
            return new o(t)
        }
    })
}, function(t, e, n) {
    function r(t, e) {
        var n, s, l = arguments.length < 3 ? t : arguments[2];
        return c(t) === l ? t[e] : (n = i.f(t, e)) ? a(n, "value") ? n.value : void 0 !== n.get ? n.get.call(l) : void 0 : u(s = o(t)) ? r(s, e, l) : void 0
    }
    var i = n(36),
        o = n(37),
        a = n(29),
        s = n(0),
        u = n(9),
        c = n(5);
    s(s.S, "Reflect", {
        get: r
    })
}, function(t, e, n) {
    var r = n(36),
        i = n(0),
        o = n(5);
    i(i.S, "Reflect", {
        getOwnPropertyDescriptor: function(t, e) {
            return r.f(o(t), e)
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(37),
        o = n(5);
    r(r.S, "Reflect", {
        getPrototypeOf: function(t) {
            return i(o(t))
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Reflect", {
        has: function(t, e) {
            return e in t
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(5),
        o = Object.isExtensible;
    r(r.S, "Reflect", {
        isExtensible: function(t) {
            return i(t), !o || o(t)
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Reflect", {
        ownKeys: n(225)
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(5),
        o = Object.preventExtensions;
    r(r.S, "Reflect", {
        preventExtensions: function(t) {
            i(t);
            try {
                return o && o(t), !0
            } catch (t) {
                return !1
            }
        }
    })
}, function(t, e, n) {
    function r(t, e, n) {
        var u, h, d = arguments.length < 4 ? t : arguments[3],
            p = o.f(l(t), e);
        if (!p) {
            if (f(h = a(t))) return r(h, e, n, d);
            p = c(0)
        }
        return s(p, "value") ? !(!1 === p.writable || !f(d)) && (u = o.f(d, e) || c(0), u.value = n, i.f(d, e, u), !0) : void 0 !== p.set && (p.set.call(d, n), !0)
    }
    var i = n(15),
        o = n(36),
        a = n(37),
        s = n(29),
        u = n(0),
        c = n(65),
        l = n(5),
        f = n(9);
    u(u.S, "Reflect", {
        set: r
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(144);
    i && r(r.S, "Reflect", {
        setPrototypeOf: function(t, e) {
            i.check(t, e);
            try {
                return i.set(t, e), !0
            } catch (t) {
                return !1
            }
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(105)(!0);
    r(r.P, "Array", {
        includes: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), n(59)("includes")
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(226),
        o = n(21),
        a = n(16),
        s = n(25),
        u = n(158);
    r(r.P, "Array", {
        flatMap: function(t) {
            var e, n, r = o(this);
            return s(t), e = a(r.length), n = u(r, 0), i(n, r, r, e, 0, 1, t, arguments[1]), n
        }
    }), n(59)("flatMap")
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(226),
        o = n(21),
        a = n(16),
        s = n(45),
        u = n(158);
    r(r.P, "Array", {
        flatten: function() {
            var t = arguments[0],
                e = o(this),
                n = a(e.length),
                r = u(e, 0);
            return i(r, e, e, n, 0, void 0 === t ? 1 : s(t)), r
        }
    }), n(59)("flatten")
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(150)(!0);
    r(r.P, "String", {
        at: function(t) {
            return i(this, t)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(227);
    r(r.P, "String", {
        padStart: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0, !0)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(227);
    r(r.P, "String", {
        padEnd: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0, !1)
        }
    })
}, function(t, e, n) {
    "use strict";
    n(82)("trimLeft", function(t) {
        return function() {
            return t(this, 1)
        }
    }, "trimStart")
}, function(t, e, n) {
    "use strict";
    n(82)("trimRight", function(t) {
        return function() {
            return t(this, 2)
        }
    }, "trimEnd")
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(44),
        o = n(16),
        a = n(108),
        s = n(110),
        u = RegExp.prototype,
        c = function(t, e) {
            this._r = t, this._s = e
        };
    n(152)(c, "RegExp String", function() {
        var t = this._r.exec(this._s);
        return {
            value: t,
            done: null === t
        }
    }), r(r.P, "String", {
        matchAll: function(t) {
            if (i(this), !a(t)) throw TypeError(t + " is not a regexp!");
            var e = String(this),
                n = "flags" in u ? String(t.flags) : s.call(t),
                r = new RegExp(t.source, ~n.indexOf("g") ? n : "g" + n);
            return r.lastIndex = o(t.lastIndex), new c(r, e)
        }
    })
}, function(t, e, n) {
    n(140)("asyncIterator")
}, function(t, e, n) {
    n(140)("observable")
}, function(t, e, n) {
    var r = n(0),
        i = n(225),
        o = n(35),
        a = n(36),
        s = n(156);
    r(r.S, "Object", {
        getOwnPropertyDescriptors: function(t) {
            for (var e, n, r = o(t), u = a.f, c = i(r), l = {}, f = 0; c.length > f;) void 0 !== (n = u(r, e = c[f++])) && s(l, e, n);
            return l
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(228)(!1);
    r(r.S, "Object", {
        values: function(t) {
            return i(t)
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(228)(!0);
    r(r.S, "Object", {
        entries: function(t) {
            return i(t)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(21),
        o = n(25),
        a = n(15);
    n(14) && r(r.P + n(115), "Object", {
        __defineGetter__: function(t, e) {
            a.f(i(this), t, {
                get: o(e),
                enumerable: !0,
                configurable: !0
            })
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(21),
        o = n(25),
        a = n(15);
    n(14) && r(r.P + n(115), "Object", {
        __defineSetter__: function(t, e) {
            a.f(i(this), t, {
                set: o(e),
                enumerable: !0,
                configurable: !0
            })
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(21),
        o = n(43),
        a = n(37),
        s = n(36).f;
    n(14) && r(r.P + n(115), "Object", {
        __lookupGetter__: function(t) {
            var e, n = i(this),
                r = o(t, !0);
            do {
                if (e = s(n, r)) return e.get
            } while (n = a(n))
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(21),
        o = n(43),
        a = n(37),
        s = n(36).f;
    n(14) && r(r.P + n(115), "Object", {
        __lookupSetter__: function(t) {
            var e, n = i(this),
                r = o(t, !0);
            do {
                if (e = s(n, r)) return e.set
            } while (n = a(n))
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.P + r.R, "Map", {
        toJSON: n(229)("Map")
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.P + r.R, "Set", {
        toJSON: n(229)("Set")
    })
}, function(t, e, n) {
    n(116)("Map")
}, function(t, e, n) {
    n(116)("Set")
}, function(t, e, n) {
    n(116)("WeakMap")
}, function(t, e, n) {
    n(116)("WeakSet")
}, function(t, e, n) {
    n(117)("Map")
}, function(t, e, n) {
    n(117)("Set")
}, function(t, e, n) {
    n(117)("WeakMap")
}, function(t, e, n) {
    n(117)("WeakSet")
}, function(t, e, n) {
    var r = n(0);
    r(r.G, {
        global: n(7)
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "System", {
        global: n(7)
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(39);
    r(r.S, "Error", {
        isError: function(t) {
            return "Error" === i(t)
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        clamp: function(t, e, n) {
            return Math.min(n, Math.max(e, t))
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        DEG_PER_RAD: Math.PI / 180
    })
}, function(t, e, n) {
    var r = n(0),
        i = 180 / Math.PI;
    r(r.S, "Math", {
        degrees: function(t) {
            return t * i
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(231),
        o = n(211);
    r(r.S, "Math", {
        fscale: function(t, e, n, r, a) {
            return o(i(t, e, n, r, a))
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        iaddh: function(t, e, n, r) {
            var i = t >>> 0,
                o = e >>> 0,
                a = n >>> 0;
            return o + (r >>> 0) + ((i & a | (i | a) & ~(i + a >>> 0)) >>> 31) | 0
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        isubh: function(t, e, n, r) {
            var i = t >>> 0,
                o = e >>> 0,
                a = n >>> 0;
            return o - (r >>> 0) - ((~i & a | ~(i ^ a) & i - a >>> 0) >>> 31) | 0
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        imulh: function(t, e) {
            var n = +t,
                r = +e,
                i = 65535 & n,
                o = 65535 & r,
                a = n >> 16,
                s = r >> 16,
                u = (a * o >>> 0) + (i * o >>> 16);
            return a * s + (u >> 16) + ((i * s >>> 0) + (65535 & u) >> 16)
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        RAD_PER_DEG: 180 / Math.PI
    })
}, function(t, e, n) {
    var r = n(0),
        i = Math.PI / 180;
    r(r.S, "Math", {
        radians: function(t) {
            return t * i
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        scale: n(231)
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        umulh: function(t, e) {
            var n = +t,
                r = +e,
                i = 65535 & n,
                o = 65535 & r,
                a = n >>> 16,
                s = r >>> 16,
                u = (a * o >>> 0) + (i * o >>> 16);
            return a * s + (u >>> 16) + ((i * s >>> 0) + (65535 & u) >>> 16)
        }
    })
}, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        signbit: function(t) {
            return (t = +t) != t ? t : 0 == t ? 1 / t == 1 / 0 : t > 0
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(42),
        o = n(7),
        a = n(112),
        s = n(218);
    r(r.P + r.R, "Promise", {
        finally: function(t) {
            var e = a(this, i.Promise || o.Promise),
                n = "function" == typeof t;
            return this.then(n ? function(n) {
                return s(e, t()).then(function() {
                    return n
                })
            } : t, n ? function(n) {
                return s(e, t()).then(function() {
                    throw n
                })
            } : t)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(163),
        o = n(217);
    r(r.S, "Promise", {
        try: function(t) {
            var e = i.f(this),
                n = o(t);
            return (n.e ? e.reject : e.resolve)(n.v), e.promise
        }
    })
}, function(t, e, n) {
    var r = n(53),
        i = n(5),
        o = r.key,
        a = r.set;
    r.exp({
        defineMetadata: function(t, e, n, r) {
            a(t, e, i(n), o(r))
        }
    })
}, function(t, e, n) {
    var r = n(53),
        i = n(5),
        o = r.key,
        a = r.map,
        s = r.store;
    r.exp({
        deleteMetadata: function(t, e) {
            var n = arguments.length < 3 ? void 0 : o(arguments[2]),
                r = a(i(e), n, !1);
            if (void 0 === r || !r.delete(t)) return !1;
            if (r.size) return !0;
            var u = s.get(e);
            return u.delete(n), !!u.size || s.delete(e)
        }
    })
}, function(t, e, n) {
    var r = n(53),
        i = n(5),
        o = n(37),
        a = r.has,
        s = r.get,
        u = r.key,
        c = function(t, e, n) {
            if (a(t, e, n)) return s(t, e, n);
            var r = o(e);
            return null !== r ? c(t, r, n) : void 0
        };
    r.exp({
        getMetadata: function(t, e) {
            return c(t, i(e), arguments.length < 3 ? void 0 : u(arguments[2]))
        }
    })
}, function(t, e, n) {
    var r = n(221),
        i = n(230),
        o = n(53),
        a = n(5),
        s = n(37),
        u = o.keys,
        c = o.key,
        l = function(t, e) {
            var n = u(t, e),
                o = s(t);
            if (null === o) return n;
            var a = l(o, e);
            return a.length ? n.length ? i(new r(n.concat(a))) : a : n
        };
    o.exp({
        getMetadataKeys: function(t) {
            return l(a(t), arguments.length < 2 ? void 0 : c(arguments[1]))
        }
    })
}, function(t, e, n) {
    var r = n(53),
        i = n(5),
        o = r.get,
        a = r.key;
    r.exp({
        getOwnMetadata: function(t, e) {
            return o(t, i(e), arguments.length < 3 ? void 0 : a(arguments[2]))
        }
    })
}, function(t, e, n) {
    var r = n(53),
        i = n(5),
        o = r.keys,
        a = r.key;
    r.exp({
        getOwnMetadataKeys: function(t) {
            return o(i(t), arguments.length < 2 ? void 0 : a(arguments[1]))
        }
    })
}, function(t, e, n) {
    var r = n(53),
        i = n(5),
        o = n(37),
        a = r.has,
        s = r.key,
        u = function(t, e, n) {
            if (a(t, e, n)) return !0;
            var r = o(e);
            return null !== r && u(t, r, n)
        };
    r.exp({
        hasMetadata: function(t, e) {
            return u(t, i(e), arguments.length < 3 ? void 0 : s(arguments[2]))
        }
    })
}, function(t, e, n) {
    var r = n(53),
        i = n(5),
        o = r.has,
        a = r.key;
    r.exp({
        hasOwnMetadata: function(t, e) {
            return o(t, i(e), arguments.length < 3 ? void 0 : a(arguments[2]))
        }
    })
}, function(t, e, n) {
    var r = n(53),
        i = n(5),
        o = n(25),
        a = r.key,
        s = r.set;
    r.exp({
        metadata: function(t, e) {
            return function(n, r) {
                s(t, e, (void 0 !== r ? i : o)(n), a(r))
            }
        }
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(162)(),
        o = n(7).process,
        a = "process" == n(39)(o);
    r(r.G, {
        asap: function(t) {
            var e = a && o.domain;
            i(e ? e.bind(t) : t)
        }
    })
}, function(t, e, n) {
    "use strict";
    var r = n(0),
        i = n(7),
        o = n(42),
        a = n(162)(),
        s = n(12)("observable"),
        u = n(25),
        c = n(5),
        l = n(73),
        f = n(75),
        h = n(30),
        d = n(74),
        p = d.RETURN,
        m = function(t) {
            return null == t ? void 0 : u(t)
        },
        v = function(t) {
            var e = t._c;
            e && (t._c = void 0, e())
        },
        g = function(t) {
            return void 0 === t._o
        },
        A = function(t) {
            g(t) || (t._o = void 0, v(t))
        },
        y = function(t, e) {
            c(t), this._c = void 0, this._o = t, t = new x(this);
            try {
                var n = e(t),
                    r = n;
                null != n && ("function" == typeof n.unsubscribe ? n = function() {
                    r.unsubscribe()
                } : u(n), this._c = n)
            } catch (e) {
                return void t.error(e)
            }
            g(this) && v(this)
        };
    y.prototype = f({}, {
        unsubscribe: function() {
            A(this)
        }
    });
    var x = function(t) {
        this._s = t
    };
    x.prototype = f({}, {
        next: function(t) {
            var e = this._s;
            if (!g(e)) {
                var n = e._o;
                try {
                    var r = m(n.next);
                    if (r) return r.call(n, t)
                } catch (t) {
                    try {
                        A(e)
                    } finally {
                        throw t
                    }
                }
            }
        },
        error: function(t) {
            var e = this._s;
            if (g(e)) throw t;
            var n = e._o;
            e._o = void 0;
            try {
                var r = m(n.error);
                if (!r) throw t;
                t = r.call(n, t)
            } catch (t) {
                try {
                    v(e)
                } finally {
                    throw t
                }
            }
            return v(e), t
        },
        complete: function(t) {
            var e = this._s;
            if (!g(e)) {
                var n = e._o;
                e._o = void 0;
                try {
                    var r = m(n.complete);
                    t = r ? r.call(n, t) : void 0
                } catch (t) {
                    try {
                        v(e)
                    } finally {
                        throw t
                    }
                }
                return v(e), t
            }
        }
    });
    var _ = function(t) {
        l(this, _, "Observable", "_f")._f = u(t)
    };
    f(_.prototype, {
        subscribe: function(t) {
            return new y(t, this._f)
        },
        forEach: function(t) {
            var e = this;
            return new(o.Promise || i.Promise)(function(n, r) {
                u(t);
                var i = e.subscribe({
                    next: function(e) {
                        try {
                            return t(e)
                        } catch (t) {
                            r(t), i.unsubscribe()
                        }
                    },
                    error: r,
                    complete: n
                })
            })
        }
    }), f(_, {
        from: function(t) {
            var e = "function" == typeof this ? this : _,
                n = m(c(t)[s]);
            if (n) {
                var r = c(n.call(t));
                return r.constructor === e ? r : new e(function(t) {
                    return r.subscribe(t)
                })
            }
            return new e(function(e) {
                var n = !1;
                return a(function() {
                        if (!n) {
                            try {
                                if (d(t, !1, function(t) {
                                        if (e.next(t), n) return p
                                    }) === p) return
                            } catch (t) {
                                if (n) throw t;
                                return void e.error(t)
                            }
                            e.complete()
                        }
                    }),
                    function() {
                        n = !0
                    }
            })
        },
        of: function() {
            for (var t = 0, e = arguments.length, n = Array(e); t < e;) n[t] = arguments[t++];
            return new("function" == typeof this ? this : _)(function(t) {
                var e = !1;
                return a(function() {
                        if (!e) {
                            for (var r = 0; r < n.length; ++r)
                                if (t.next(n[r]), e) return;
                            t.complete()
                        }
                    }),
                    function() {
                        e = !0
                    }
            })
        }
    }), h(_.prototype, s, function() {
        return this
    }), r(r.G, {
        Observable: _
    }), n(72)("Observable")
}, function(t, e, n) {
    var r = n(7),
        i = n(0),
        o = r.navigator,
        a = [].slice,
        s = !!o && /MSIE .\./.test(o.userAgent),
        u = function(t) {
            return function(e, n) {
                var r = arguments.length > 2,
                    i = !!r && a.call(arguments, 2);
                return t(r ? function() {
                    ("function" == typeof e ? e : Function(e)).apply(this, i)
                } : e, n)
            }
        };
    i(i.G + i.B + i.F * s, {
        setTimeout: u(r.setTimeout),
        setInterval: u(r.setInterval)
    })
}, function(t, e, n) {
    var r = n(0),
        i = n(161);
    r(r.G + r.B, {
        setImmediate: i.set,
        clearImmediate: i.clear
    })
}, function(t, e, n) {
    for (var r = n(160), i = n(68), o = n(31), a = n(7), s = n(30), u = n(83), c = n(12), l = c("iterator"), f = c("toStringTag"), h = u.Array, d = {
            CSSRuleList: !0,
            CSSStyleDeclaration: !1,
            CSSValueList: !1,
            ClientRectList: !1,
            DOMRectList: !1,
            DOMStringList: !1,
            DOMTokenList: !0,
            DataTransferItemList: !1,
            FileList: !1,
            HTMLAllCollection: !1,
            HTMLCollection: !1,
            HTMLFormElement: !1,
            HTMLSelectElement: !1,
            MediaList: !0,
            MimeTypeArray: !1,
            NamedNodeMap: !1,
            NodeList: !0,
            PaintRequestList: !1,
            Plugin: !1,
            PluginArray: !1,
            SVGLengthList: !1,
            SVGNumberList: !1,
            SVGPathSegList: !1,
            SVGPointList: !1,
            SVGStringList: !1,
            SVGTransformList: !1,
            SourceBufferList: !1,
            StyleSheetList: !0,
            TextTrackCueList: !1,
            TextTrackList: !1,
            TouchList: !1
        }, p = i(d), m = 0; m < p.length; m++) {
        var v, g = p[m],
            A = d[g],
            y = a[g],
            x = y && y.prototype;
        if (x && (x[l] || s(x, l, h), x[f] || s(x, f, g), u[g] = h, A))
            for (v in r) x[v] || o(x, v, r[v], !0)
    }
}, function(t, e, n) {
    (function(e) {
        ! function(e) {
            "use strict";

            function n(t, e, n, r) {
                var o = e && e.prototype instanceof i ? e : i,
                    a = Object.create(o.prototype),
                    s = new d(r || []);
                return a._invoke = c(t, n, s), a
            }

            function r(t, e, n) {
                try {
                    return {
                        type: "normal",
                        arg: t.call(e, n)
                    }
                } catch (t) {
                    return {
                        type: "throw",
                        arg: t
                    }
                }
            }

            function i() {}

            function o() {}

            function a() {}

            function s(t) {
                ["next", "throw", "return"].forEach(function(e) {
                    t[e] = function(t) {
                        return this._invoke(e, t)
                    }
                })
            }

            function u(t) {
                function n(e, i, o, a) {
                    var s = r(t[e], t, i);
                    if ("throw" !== s.type) {
                        var u = s.arg,
                            c = u.value;
                        return c && "object" == typeof c && A.call(c, "__await") ? Promise.resolve(c.__await).then(function(t) {
                            n("next", t, o, a)
                        }, function(t) {
                            n("throw", t, o, a)
                        }) : Promise.resolve(c).then(function(t) {
                            u.value = t, o(u)
                        }, a)
                    }
                    a(s.arg)
                }

                function i(t, e) {
                    function r() {
                        return new Promise(function(r, i) {
                            n(t, e, r, i)
                        })
                    }
                    return o = o ? o.then(r, r) : r()
                }
                "object" == typeof e.process && e.process.domain && (n = e.process.domain.bind(n));
                var o;
                this._invoke = i
            }

            function c(t, e, n) {
                var i = E;
                return function(o, a) {
                    if (i === T) throw new Error("Generator is already running");
                    if (i === L) {
                        if ("throw" === o) throw a;
                        return m()
                    }
                    for (n.method = o, n.arg = a;;) {
                        var s = n.delegate;
                        if (s) {
                            var u = l(s, n);
                            if (u) {
                                if (u === C) continue;
                                return u
                            }
                        }
                        if ("next" === n.method) n.sent = n._sent = n.arg;
                        else if ("throw" === n.method) {
                            if (i === E) throw i = L, n.arg;
                            n.dispatchException(n.arg)
                        } else "return" === n.method && n.abrupt("return", n.arg);
                        i = T;
                        var c = r(t, e, n);
                        if ("normal" === c.type) {
                            if (i = n.done ? L : S, c.arg === C) continue;
                            return {
                                value: c.arg,
                                done: n.done
                            }
                        }
                        "throw" === c.type && (i = L, n.method = "throw", n.arg = c.arg)
                    }
                }
            }

            function l(t, e) {
                var n = t.iterator[e.method];
                if (n === v) {
                    if (e.delegate = null, "throw" === e.method) {
                        if (t.iterator.return && (e.method = "return", e.arg = v, l(t, e), "throw" === e.method)) return C;
                        e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method")
                    }
                    return C
                }
                var i = r(n, t.iterator, e.arg);
                if ("throw" === i.type) return e.method = "throw", e.arg = i.arg, e.delegate = null, C;
                var o = i.arg;
                return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = v), e.delegate = null, C) : o : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, C)
            }

            function f(t) {
                var e = {
                    tryLoc: t[0]
                };
                1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e)
            }

            function h(t) {
                var e = t.completion || {};
                e.type = "normal", delete e.arg, t.completion = e
            }

            function d(t) {
                this.tryEntries = [{
                    tryLoc: "root"
                }], t.forEach(f, this), this.reset(!0)
            }

            function p(t) {
                if (t) {
                    var e = t[x];
                    if (e) return e.call(t);
                    if ("function" == typeof t.next) return t;
                    if (!isNaN(t.length)) {
                        var n = -1,
                            r = function e() {
                                for (; ++n < t.length;)
                                    if (A.call(t, n)) return e.value = t[n], e.done = !1, e;
                                return e.value = v, e.done = !0, e
                            };
                        return r.next = r
                    }
                }
                return {
                    next: m
                }
            }

            function m() {
                return {
                    value: v,
                    done: !0
                }
            }
            var v, g = Object.prototype,
                A = g.hasOwnProperty,
                y = "function" == typeof Symbol ? Symbol : {},
                x = y.iterator || "@@iterator",
                _ = y.asyncIterator || "@@asyncIterator",
                b = y.toStringTag || "@@toStringTag",
                w = "object" == typeof t,
                M = e.regeneratorRuntime;
            if (M) return void(w && (t.exports = M));
            M = e.regeneratorRuntime = w ? t.exports : {}, M.wrap = n;
            var E = "suspendedStart",
                S = "suspendedYield",
                T = "executing",
                L = "completed",
                C = {},
                P = {};
            P[x] = function() {
                return this
            };
            var R = Object.getPrototypeOf,
                D = R && R(R(p([])));
            D && D !== g && A.call(D, x) && (P = D);
            var O = a.prototype = i.prototype = Object.create(P);
            o.prototype = O.constructor = a, a.constructor = o, a[b] = o.displayName = "GeneratorFunction", M.isGeneratorFunction = function(t) {
                var e = "function" == typeof t && t.constructor;
                return !!e && (e === o || "GeneratorFunction" === (e.displayName || e.name))
            }, M.mark = function(t) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(t, a) : (t.__proto__ = a, b in t || (t[b] = "GeneratorFunction")), t.prototype = Object.create(O), t
            }, M.awrap = function(t) {
                return {
                    __await: t
                }
            }, s(u.prototype), u.prototype[_] = function() {
                return this
            }, M.AsyncIterator = u, M.async = function(t, e, r, i) {
                var o = new u(n(t, e, r, i));
                return M.isGeneratorFunction(e) ? o : o.next().then(function(t) {
                    return t.done ? t.value : o.next()
                })
            }, s(O), O[b] = "Generator", O[x] = function() {
                return this
            }, O.toString = function() {
                return "[object Generator]"
            }, M.keys = function(t) {
                var e = [];
                for (var n in t) e.push(n);
                return e.reverse(),
                    function n() {
                        for (; e.length;) {
                            var r = e.pop();
                            if (r in t) return n.value = r, n.done = !1, n
                        }
                        return n.done = !0, n
                    }
            }, M.values = p, d.prototype = {
                constructor: d,
                reset: function(t) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = v, this.done = !1, this.delegate = null, this.method = "next", this.arg = v, this.tryEntries.forEach(h), !t)
                        for (var e in this) "t" === e.charAt(0) && A.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = v)
                },
                stop: function() {
                    this.done = !0;
                    var t = this.tryEntries[0],
                        e = t.completion;
                    if ("throw" === e.type) throw e.arg;
                    return this.rval
                },
                dispatchException: function(t) {
                    function e(e, r) {
                        return o.type = "throw", o.arg = t, n.next = e, r && (n.method = "next", n.arg = v), !!r
                    }
                    if (this.done) throw t;
                    for (var n = this, r = this.tryEntries.length - 1; r >= 0; --r) {
                        var i = this.tryEntries[r],
                            o = i.completion;
                        if ("root" === i.tryLoc) return e("end");
                        if (i.tryLoc <= this.prev) {
                            var a = A.call(i, "catchLoc"),
                                s = A.call(i, "finallyLoc");
                            if (a && s) {
                                if (this.prev < i.catchLoc) return e(i.catchLoc, !0);
                                if (this.prev < i.finallyLoc) return e(i.finallyLoc)
                            } else if (a) {
                                if (this.prev < i.catchLoc) return e(i.catchLoc, !0)
                            } else {
                                if (!s) throw new Error("try statement without catch or finally");
                                if (this.prev < i.finallyLoc) return e(i.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(t, e) {
                    for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                        var r = this.tryEntries[n];
                        if (r.tryLoc <= this.prev && A.call(r, "finallyLoc") && this.prev < r.finallyLoc) {
                            var i = r;
                            break
                        }
                    }
                    i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
                    var o = i ? i.completion : {};
                    return o.type = t, o.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, C) : this.complete(o)
                },
                complete: function(t, e) {
                    if ("throw" === t.type) throw t.arg;
                    return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), C
                },
                finish: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var n = this.tryEntries[e];
                        if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), h(n), C
                    }
                },
                catch: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var n = this.tryEntries[e];
                        if (n.tryLoc === t) {
                            var r = n.completion;
                            if ("throw" === r.type) {
                                var i = r.arg;
                                h(n)
                            }
                            return i
                        }
                    }
                    throw new Error("illegal catch attempt")
                },
                delegateYield: function(t, e, n) {
                    return this.delegate = {
                        iterator: p(t),
                        resultName: e,
                        nextLoc: n
                    }, "next" === this.method && (this.arg = v), C
                }
            }
        }("object" == typeof e ? e : "object" == typeof window ? window : "object" == typeof self ? self : this)
    }).call(e, n(97))
}, function(t, e, n) {
    n(494), t.exports = n(42).RegExp.escape
}, function(t, e, n) {
    var r = n(0),
        i = n(495)(/[\\^$*+?.()|[\]{}]/g, "\\$&");
    r(r.S, "RegExp", {
        escape: function(t) {
            return i(t)
        }
    })
}, function(t, e) {
    t.exports = function(t, e) {
        var n = e === Object(e) ? function(t) {
            return e[t]
        } : e;
        return function(e) {
            return String(e).replace(t, n)
        }
    }
}, function(t, e) {}, function(t, e, n) {
    t.exports = {
        default: n(498),
        __esModule: !0
    }
}, function(t, e, n) {
    n(499), t.exports = n(17).Object.freeze
}, function(t, e, n) {
    var r = n(50),
        i = n(232).onFreeze;
    n(233)("freeze", function(t) {
        return function(e) {
            return t && r(e) ? t(i(e)) : e
        }
    })
}, function(t, e, n) {
    var r = n(17),
        i = r.JSON || (r.JSON = {
            stringify: JSON.stringify
        });
    t.exports = function(t) {
        return i.stringify.apply(i, arguments)
    }
}, function(t, e, n) {
    n(502);
    var r = n(17).Object;
    t.exports = function(t, e) {
        return r.create(t, e)
    }
}, function(t, e, n) {
    var r = n(24);
    r(r.S, "Object", {
        create: n(133)
    })
}, function(t, e, n) {
    t.exports = {
        default: n(504),
        __esModule: !0
    }
}, function(t, e, n) {
    n(505);
    var r = n(17).Object;
    t.exports = function(t, e) {
        return r.defineProperties(t, e)
    }
}, function(t, e, n) {
    var r = n(24);
    r(r.S + r.F * !n(51), "Object", {
        defineProperties: n(187)
    })
}, function(t, e, n) {
    n(507), t.exports = n(17).Object.assign
}, function(t, e, n) {
    var r = n(24);
    r(r.S + r.F, "Object", {
        assign: n(508)
    })
}, function(t, e, n) {
    "use strict";
    var r = n(80),
        i = n(166),
        o = n(93),
        a = n(137),
        s = n(189),
        u = Object.assign;
    t.exports = !u || n(79)(function() {
        var t = {},
            e = {},
            n = Symbol(),
            r = "abcdefghijklmnopqrst";
        return t[n] = 7, r.split("").forEach(function(t) {
            e[t] = t
        }), 7 != u({}, t)[n] || Object.keys(u({}, e)).join("") != r
    }) ? function(t, e) {
        for (var n = a(t), u = arguments.length, c = 1, l = i.f, f = o.f; u > c;)
            for (var h, d = s(arguments[c++]), p = l ? r(d).concat(l(d)) : r(d), m = p.length, v = 0; m > v;) f.call(d, h = p[v++]) && (n[h] = d[h]);
        return n
    } : u
}, function(t, e, n) {
    t.exports = {
        default: n(510),
        __esModule: !0
    }
}, function(t, e, n) {
    n(511), t.exports = n(17).Math.sign
}, function(t, e, n) {
    var r = n(24);
    r(r.S, "Math", {
        sign: n(512)
    })
}, function(t, e) {
    t.exports = Math.sign || function(t) {
        return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
    }
}, function(t, e, n) {
    t.exports = {
        default: n(514),
        __esModule: !0
    }
}, function(t, e, n) {
    n(515), t.exports = n(17).Number.isInteger
}, function(t, e, n) {
    var r = n(24);
    r(r.S, "Number", {
        isInteger: n(516)
    })
}, function(t, e, n) {
    var r = n(50),
        i = Math.floor;
    t.exports = function(t) {
        return !r(t) && isFinite(t) && i(t) === t
    }
}, function(t, e, n) {
    t.exports = {
        default: n(518),
        __esModule: !0
    }
}, function(t, e, n) {
    n(519), t.exports = Math.pow(2, -52)
}, function(t, e, n) {
    var r = n(24);
    r(r.S, "Number", {
        EPSILON: Math.pow(2, -52)
    })
}, function(t, e, n) {
    (function(n) {
        (function(r) {
            function i(t) {
                "use strict";
                var e = this;
                return this.events = {}, this.state = null, this.options = t || {}, this.options.env = this.options.env || (0 === Object.keys(r).length && n && !0 !== n.browser ? "server" : "client"), this.options.mode = this.options.mode || ("server" !== this.options.env && this.options.pushState && r.history && r.history.pushState ? "pushState" : "hashchange"), this.version = "0.6.4", "function" == typeof r.addEventListener && (r.addEventListener("hashchange", function() {
                    e.trigger("hashchange")
                }), r.addEventListener("popstate", function(t) {
                    if (e.state && null === e.state.previousState) return !1;
                    e.trigger("navigate")
                })), this
            }

            function o(t, e) {
                this.stack = o.global.slice(0), this.router = t, this.runCallback = !0, this.callbackRan = !1, this.propagateEvent = !0, this.value = t.path();
                for (var n in e) this[n] = e[n];
                return this
            }

            function a(t) {
                this.route = t, this.keys = [], this.regex = i.regexRoute(t, this.keys)
            }
            i.regexRoute = function(t, e, n, r) {
                return t instanceof RegExp ? t : (t instanceof Array && (t = "(" + t.join("|") + ")"), t = t.concat(r ? "" : "/?").replace(/\/\(/g, "(?:/").replace(/\+/g, "__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function(t, n, r, i, o, a) {
                    return e.push({
                        name: i,
                        optional: !!a
                    }), n = n || "", (a ? "" : n) + "(?:" + (a ? n : "") + (r || "") + (o || r && "([^/.]+?)" || "([^/]+?)") + ")" + (a || "")
                }).replace(/([\/.])/g, "\\$1").replace(/__plus__/g, "(.+)").replace(/\*/g, "(.*)"), new RegExp("^" + t + "$", n ? "" : "i"))
            }, i._forEach = function(t, e) {
                return "function" == typeof Array.prototype.forEach ? Array.prototype.forEach.call(t, e) : function(t, e) {
                    for (var n = 0, r = this.length; n < r; ++n) t.call(e, this[n], n, this)
                }.call(t, e)
            }, i.prototype.get = i.prototype.add = function(t) {
                var e = this,
                    n = Array.prototype.slice.call(arguments, 1, -1),
                    r = Array.prototype.slice.call(arguments, -1)[0],
                    i = new a(t),
                    s = function() {
                        var a = i.parse(e.path());
                        if (a.match) {
                            var s = {
                                    route: t,
                                    params: a.params,
                                    req: a,
                                    regex: a.match
                                },
                                u = new o(e, s).enqueue(n.concat(r));
                            if (e.trigger("match", u, a), !u.runCallback) return e;
                            if (u.previousState = e.state, e.state = u, u.parent() && !1 === u.parent().propagateEvent) return u.propagateEvent = !1, e;
                            u.callback()
                        }
                        return e
                    },
                    u = "pushState" !== e.options.mode && "server" !== e.options.env ? "hashchange" : "navigate";
                return s().on(u, s)
            }, i.prototype.trigger = function(t) {
                var e = this,
                    n = Array.prototype.slice.call(arguments, 1);
                return this.events[t] && i._forEach(this.events[t], function(t) {
                    t.apply(e, n)
                }), this
            }, i.prototype.on = i.prototype.bind = function(t, e) {
                var n = this,
                    r = t.split(" ");
                return i._forEach(r, function(t) {
                    n.events[t] ? n.events[t].push(e) : n.events[t] = [e]
                }), this
            }, i.prototype.once = function(t, e) {
                var n = !1;
                return this.on(t, function() {
                    return !n && (n = !0, e.apply(this, arguments), e = null, !0)
                })
            }, i.prototype.context = function(t) {
                var e = this,
                    n = Array.prototype.slice.call(arguments, 1);
                return function() {
                    var r = arguments[0],
                        i = arguments.length > 2 ? Array.prototype.slice.call(arguments, 1, -1) : [],
                        o = Array.prototype.slice.call(arguments, -1)[0],
                        a = "/" !== t.slice(-1) && "/" !== r && "" !== r ? t + "/" : t,
                        s = "/" !== r.substr(0, 1) ? r : r.substr(1),
                        u = a + s;
                    return e.add.apply(e, [u].concat(n).concat(i).concat([o]))
                }
            }, i.prototype.navigate = function(t) {
                return this.path(t).trigger("navigate")
            }, i.prototype.path = function(t) {
                var e, n = this;
                return "string" == typeof t ? ("pushState" === n.options.mode ? (e = n.options.root ? n.options.root + t : t, r.history.pushState({}, null, e)) : r.location ? r.location.hash = (n.options.hashBang ? "!" : "") + t : r._pathname = t || "", this) : void 0 === t ? e = "pushState" === n.options.mode ? r.location.pathname.replace(n.options.root, "") : "pushState" !== n.options.mode && r.location ? r.location.hash ? r.location.hash.split(n.options.hashBang ? "#!" : "#")[1] : "" : r._pathname || "" : !1 === t ? ("pushState" === n.options.mode ? r.history.pushState({}, null, n.options.root || "/") : r.location && (r.location.hash = n.options.hashBang ? "!" : ""), n) : void 0
            }, i.listen = function() {
                var t, e;
                return arguments[0] && arguments[1] ? (t = arguments[0], e = arguments[1]) : e = arguments[0],
                    function() {
                        for (var t in e) this.add.call(this, t, e[t]);
                        return this
                    }.call(new i(t || {}))
            }, o.global = [], o.prototype.preventDefault = function() {
                this.runCallback = !1
            }, o.prototype.stopPropagation = function() {
                this.propagateEvent = !1
            }, o.prototype.parent = function() {
                return !(!this.previousState || !this.previousState.value || this.previousState.value != this.value) && this.previousState
            }, o.prototype.callback = function() {
                this.callbackRan = !0, this.timeStamp = Date.now(), this.next()
            }, o.prototype.enqueue = function(t, e) {
                for (var n = Array.isArray(t) ? e < t.length ? t.reverse() : t : [t]; n.length;) this.stack.splice(e || this.stack.length + 1, 0, n.shift());
                return this
            }, o.prototype.next = function() {
                var t = this;
                return this.stack.shift().call(this.router, this.req, this, function() {
                    t.next.call(t)
                })
            }, a.prototype.parse = function(t) {
                var e = t.match(this.regex),
                    n = this,
                    r = {
                        params: {},
                        keys: this.keys,
                        matches: (e || []).slice(1),
                        match: e
                    };
                return i._forEach(r.matches, function(t, e) {
                    var i = n.keys[e] && n.keys[e].name ? n.keys[e].name : e;
                    r.params[i] = t ? decodeURIComponent(t) : void 0
                }), r
            }, i.CallStack = o, i.Request = a, "function" != typeof r.define || r.define.amd.grapnel ? "object" == typeof t && "object" == typeof t.exports ? t.exports = e = i : r.Grapnel = i : r.define(function(t, e, n) {
                return r.define.amd.grapnel = !0, i
            })
        }).call({}, "object" == typeof window ? window : this)
    }).call(e, n(167))
}, function(t, e, n) {
    n(522), t.exports = n(17).Object.keys
}, function(t, e, n) {
    var r = n(137),
        i = n(80);
    n(233)("keys", function() {
        return function(t) {
            return i(r(t))
        }
    })
}, function(t, e, n) {
    "use strict";
    t.exports = function(t) {
        t.OBJLoader = function(e) {
            this.manager = void 0 !== e ? e : t.DefaultLoadingManager, this.materials = null, this.regexp = {
                vertex_pattern: /^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,
                normal_pattern: /^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,
                uv_pattern: /^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,
                face_vertex: /^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,
                face_vertex_uv: /^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,
                face_vertex_uv_normal: /^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,
                face_vertex_normal: /^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,
                object_pattern: /^[og]\s*(.+)?/,
                smoothing_pattern: /^s\s+(\d+|on|off)/,
                material_library_pattern: /^mtllib /,
                material_use_pattern: /^usemtl /
            }
        }, t.OBJLoader.prototype = {
            constructor: t.OBJLoader,
            load: function(e, n, r, i) {
                var o = this,
                    a = new t.FileLoader(o.manager);
                a.setPath(this.path), a.load(e, function(t) {
                    n(o.parse(t))
                }, r, i)
            },
            setPath: function(t) {
                this.path = t
            },
            setMaterials: function(t) {
                this.materials = t
            },
            _createParserState: function() {
                var t = {
                    objects: [],
                    object: {},
                    vertices: [],
                    normals: [],
                    uvs: [],
                    materialLibraries: [],
                    startObject: function(t, e) {
                        if (this.object && !1 === this.object.fromDeclaration) return this.object.name = t, void(this.object.fromDeclaration = !1 !== e);
                        var n = this.object && "function" == typeof this.object.currentMaterial ? this.object.currentMaterial() : void 0;
                        if (this.object && "function" == typeof this.object._finalize && this.object._finalize(!0), this.object = {
                                name: t || "",
                                fromDeclaration: !1 !== e,
                                geometry: {
                                    vertices: [],
                                    normals: [],
                                    uvs: []
                                },
                                materials: [],
                                smooth: !0,
                                startMaterial: function(t, e) {
                                    var n = this._finalize(!1);
                                    n && (n.inherited || n.groupCount <= 0) && this.materials.splice(n.index, 1);
                                    var r = {
                                        index: this.materials.length,
                                        name: t || "",
                                        mtllib: Array.isArray(e) && e.length > 0 ? e[e.length - 1] : "",
                                        smooth: void 0 !== n ? n.smooth : this.smooth,
                                        groupStart: void 0 !== n ? n.groupEnd : 0,
                                        groupEnd: -1,
                                        groupCount: -1,
                                        inherited: !1,
                                        clone: function(t) {
                                            var e = {
                                                index: "number" == typeof t ? t : this.index,
                                                name: this.name,
                                                mtllib: this.mtllib,
                                                smooth: this.smooth,
                                                groupStart: 0,
                                                groupEnd: -1,
                                                groupCount: -1,
                                                inherited: !1
                                            };
                                            return e.clone = this.clone.bind(e), e
                                        }
                                    };
                                    return this.materials.push(r), r
                                },
                                currentMaterial: function() {
                                    if (this.materials.length > 0) return this.materials[this.materials.length - 1]
                                },
                                _finalize: function(t) {
                                    var e = this.currentMaterial();
                                    if (e && -1 === e.groupEnd && (e.groupEnd = this.geometry.vertices.length / 3, e.groupCount = e.groupEnd - e.groupStart, e.inherited = !1), t && this.materials.length > 1)
                                        for (var n = this.materials.length - 1; n >= 0; n--) this.materials[n].groupCount <= 0 && this.materials.splice(n, 1);
                                    return t && 0 === this.materials.length && this.materials.push({
                                        name: "",
                                        smooth: this.smooth
                                    }), e
                                }
                            }, n && n.name && "function" == typeof n.clone) {
                            var r = n.clone(0);
                            r.inherited = !0, this.object.materials.push(r)
                        }
                        this.objects.push(this.object)
                    },
                    finalize: function() {
                        this.object && "function" == typeof this.object._finalize && this.object._finalize(!0)
                    },
                    parseVertexIndex: function(t, e) {
                        var n = parseInt(t, 10);
                        return 3 * (n >= 0 ? n - 1 : n + e / 3)
                    },
                    parseNormalIndex: function(t, e) {
                        var n = parseInt(t, 10);
                        return 3 * (n >= 0 ? n - 1 : n + e / 3)
                    },
                    parseUVIndex: function(t, e) {
                        var n = parseInt(t, 10);
                        return 2 * (n >= 0 ? n - 1 : n + e / 2)
                    },
                    addVertex: function(t, e, n) {
                        var r = this.vertices,
                            i = this.object.geometry.vertices;
                        i.push(r[t + 0]), i.push(r[t + 1]), i.push(r[t + 2]), i.push(r[e + 0]), i.push(r[e + 1]), i.push(r[e + 2]), i.push(r[n + 0]), i.push(r[n + 1]), i.push(r[n + 2])
                    },
                    addVertexLine: function(t) {
                        var e = this.vertices,
                            n = this.object.geometry.vertices;
                        n.push(e[t + 0]), n.push(e[t + 1]), n.push(e[t + 2])
                    },
                    addNormal: function(t, e, n) {
                        var r = this.normals,
                            i = this.object.geometry.normals;
                        i.push(r[t + 0]), i.push(r[t + 1]), i.push(r[t + 2]), i.push(r[e + 0]), i.push(r[e + 1]), i.push(r[e + 2]), i.push(r[n + 0]), i.push(r[n + 1]), i.push(r[n + 2])
                    },
                    addUV: function(t, e, n) {
                        var r = this.uvs,
                            i = this.object.geometry.uvs;
                        i.push(r[t + 0]), i.push(r[t + 1]), i.push(r[e + 0]), i.push(r[e + 1]), i.push(r[n + 0]), i.push(r[n + 1])
                    },
                    addUVLine: function(t) {
                        var e = this.uvs,
                            n = this.object.geometry.uvs;
                        n.push(e[t + 0]), n.push(e[t + 1])
                    },
                    addFace: function(t, e, n, r, i, o, a, s, u, c, l, f) {
                        var h, d = this.vertices.length,
                            p = this.parseVertexIndex(t, d),
                            m = this.parseVertexIndex(e, d),
                            v = this.parseVertexIndex(n, d);
                        if (void 0 === r ? this.addVertex(p, m, v) : (h = this.parseVertexIndex(r, d), this.addVertex(p, m, h), this.addVertex(m, v, h)), void 0 !== i) {
                            var g = this.uvs.length;
                            p = this.parseUVIndex(i, g), m = this.parseUVIndex(o, g), v = this.parseUVIndex(a, g), void 0 === r ? this.addUV(p, m, v) : (h = this.parseUVIndex(s, g), this.addUV(p, m, h), this.addUV(m, v, h))
                        }
                        if (void 0 !== u) {
                            var A = this.normals.length;
                            p = this.parseNormalIndex(u, A), m = u === c ? p : this.parseNormalIndex(c, A), v = u === l ? p : this.parseNormalIndex(l, A), void 0 === r ? this.addNormal(p, m, v) : (h = this.parseNormalIndex(f, A), this.addNormal(p, m, h), this.addNormal(m, v, h))
                        }
                    },
                    addLineGeometry: function(t, e) {
                        this.object.geometry.type = "Line";
                        for (var n = this.vertices.length, r = this.uvs.length, i = 0, o = t.length; i < o; i++) this.addVertexLine(this.parseVertexIndex(t[i], n));
                        for (var a = 0, o = e.length; a < o; a++) this.addUVLine(this.parseUVIndex(e[a], r))
                    }
                };
                return t.startObject("", !1), t
            },
            parse: function(e) {
                var n = this._createParserState(); - 1 !== e.indexOf("\r\n") && (e = e.replace(/\r\n/g, "\n")), -1 !== e.indexOf("\\\n") && (e = e.replace(/\\\n/g, ""));
                for (var r = e.split("\n"), i = "", o = "", a = "", s = [], u = "function" == typeof "".trimLeft, c = 0, l = r.length; c < l; c++)
                    if (i = r[c], i = u ? i.trimLeft() : i.trim(), 0 !== i.length && "#" !== (o = i.charAt(0)))
                        if ("v" === o)
                            if (" " === (a = i.charAt(1)) && null !== (s = this.regexp.vertex_pattern.exec(i))) n.vertices.push(parseFloat(s[1]), parseFloat(s[2]), parseFloat(s[3]));
                            else if ("n" === a && null !== (s = this.regexp.normal_pattern.exec(i))) n.normals.push(parseFloat(s[1]), parseFloat(s[2]), parseFloat(s[3]));
                else {
                    if ("t" !== a || null === (s = this.regexp.uv_pattern.exec(i))) throw new Error("Unexpected vertex/normal/uv line: '" + i + "'");
                    n.uvs.push(parseFloat(s[1]), parseFloat(s[2]))
                } else if ("f" === o)
                    if (null !== (s = this.regexp.face_vertex_uv_normal.exec(i))) n.addFace(s[1], s[4], s[7], s[10], s[2], s[5], s[8], s[11], s[3], s[6], s[9], s[12]);
                    else if (null !== (s = this.regexp.face_vertex_uv.exec(i))) n.addFace(s[1], s[3], s[5], s[7], s[2], s[4], s[6], s[8]);
                else if (null !== (s = this.regexp.face_vertex_normal.exec(i))) n.addFace(s[1], s[3], s[5], s[7], void 0, void 0, void 0, void 0, s[2], s[4], s[6], s[8]);
                else {
                    if (null === (s = this.regexp.face_vertex.exec(i))) throw new Error("Unexpected face line: '" + i + "'");
                    n.addFace(s[1], s[2], s[3], s[4])
                } else if ("l" === o) {
                    var f = i.substring(1).trim().split(" "),
                        h = [],
                        d = [];
                    if (-1 === i.indexOf("/")) h = f;
                    else
                        for (var p = 0, m = f.length; p < m; p++) {
                            var v = f[p].split("/");
                            "" !== v[0] && h.push(v[0]), "" !== v[1] && d.push(v[1])
                        }
                    n.addLineGeometry(h, d)
                } else if (null !== (s = this.regexp.object_pattern.exec(i))) {
                    var g = (" " + s[0].substr(1).trim()).substr(1);
                    n.startObject(g)
                } else if (this.regexp.material_use_pattern.test(i)) n.object.startMaterial(i.substring(7).trim(), n.materialLibraries);
                else if (this.regexp.material_library_pattern.test(i)) n.materialLibraries.push(i.substring(7).trim());
                else {
                    if (null === (s = this.regexp.smoothing_pattern.exec(i))) {
                        if ("\0" === i) continue;
                        throw new Error("Unexpected line: '" + i + "'")
                    }
                    var A = s[1].trim().toLowerCase();
                    n.object.smooth = "1" === A || "on" === A;
                    var y = n.object.currentMaterial();
                    y && (y.smooth = n.object.smooth)
                }
                n.finalize();
                var x = new t.Group;
                x.materialLibraries = [].concat(n.materialLibraries);
                for (var c = 0, l = n.objects.length; c < l; c++) {
                    var _ = n.objects[c],
                        b = _.geometry,
                        w = _.materials,
                        M = "Line" === b.type;
                    if (0 !== b.vertices.length) {
                        var E = new t.BufferGeometry;
                        E.addAttribute("position", new t.BufferAttribute(new Float32Array(b.vertices), 3)), b.normals.length > 0 ? E.addAttribute("normal", new t.BufferAttribute(new Float32Array(b.normals), 3)) : E.computeVertexNormals(), b.uvs.length > 0 && E.addAttribute("uv", new t.BufferAttribute(new Float32Array(b.uvs), 2));
                        for (var S = [], T = 0, L = w.length; T < L; T++) {
                            var C = w[T],
                                y = void 0;
                            if (null !== this.materials && (y = this.materials.create(C.name), M && y && !(y instanceof t.LineBasicMaterial))) {
                                var P = new t.LineBasicMaterial;
                                P.copy(y), y = P
                            }
                            y || (y = M ? new t.LineBasicMaterial : new t.MeshPhongMaterial, y.name = C.name), y.shading = C.smooth ? t.SmoothShading : t.FlatShading, S.push(y)
                        }
                        var R;
                        if (S.length > 1) {
                            for (var T = 0, L = w.length; T < L; T++) {
                                var C = w[T];
                                E.addGroup(C.groupStart, C.groupCount, T)
                            }
                            var D = new t.MultiMaterial(S);
                            R = M ? new t.LineSegments(E, D) : new t.Mesh(E, D)
                        } else R = M ? new t.LineSegments(E, S[0]) : new t.Mesh(E, S[0]);
                        R.name = _.name, x.add(R)
                    }
                }
                return x
            }
        }
    }
}, function(t, e, n) {
    t.exports = n.p + "585d7c6179a715e22464889f1e0578b5.obj"
}, function(t, e, n) {
    t.exports = n.p + "f40c1da88f99d420773ae06216d3e4c2.obj"
}, function(t, e, n) {
    t.exports = n.p + "797eff5e9956678b0025e371c3ba1947.obj"
}, function(t, e, n) {
    t.exports = n.p + "755373e360f62d063dec97eae55a1542.obj"
}, function(t, e, n) {
    t.exports = n.p + "2c1aaec8094c466c3b1aa67c4c72f974.obj"
}, function(t, e, n) {
    t.exports = n.p + "ba35d06d9f0686bc1074241cbb9d1eb6.jpg"
}, function(t, e, n) {
    t.exports = n.p + "7e43f21d21f2dd2626318e9ba84ee35e.png"
}, function(t, e, n) {
    t.exports = n.p + "8142531b017e48503814bd266d351703.png"
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(168),
        s = r(a),
        u = n(2),
        c = r(u),
        l = n(3),
        f = r(l),
        h = n(4),
        d = r(h),
        p = n(1),
        m = n(41),
        v = r(m),
        g = n(11),
        A = r(g),
        y = n(13),
        x = r(y),
        _ = n(236),
        b = r(_),
        w = n(173),
        M = r(w),
        E = n(6),
        S = r(E),
        T = n(60),
        L = r(T),
        C = n(56),
        P = r(C),
        R = n(10),
        D = (r(R), n(576)),
        O = r(D),
        I = n(581),
        B = r(I),
        N = n(587).default;
    N["/*"] = O.default;
    var k = !1,
        F = function(t) {
            t.roomId && (t.roomId = parseInt(t.roomId, 10)), t.hideHead && (t.hideHead = /no/.test(t.hideHead))
        },
        U = function(t) {
            function e() {
                (0, c.default)(this, e);
                var n = (0, f.default)(this, t.call(this));
                return n.state = {
                    needsFillPool: x.default.isMobile || x.default.isSafari,
                    presenting: S.default.vrEffect.isPresenting
                }, n.setNotFound = n.setNotFound.bind(n), n.performFillPool = n.performFillPool.bind(n), n.onRouteChanged = n.onRouteChanged.bind(n), n.setPresenting = n.setPresenting.bind(n), n
            }
            return (0, d.default)(e, t), e.prototype.getChildContext = function() {
                return {
                    presenting: this.state.presenting
                }
            }, e.prototype.componentWillMount = function() {
                var t = this;
                S.default.on("vr-present-change", this.setPresenting), (0, s.default)(N).forEach(function(e) {
                    return v.default.get(e, t.onRouteChanged)
                })
            }, e.prototype.onRouteChanged = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = arguments[1],
                    n = t.params;
                if (!e || !e.parent()) {
                    L.default.exit(), F(n), this.state.route && A.default.fadeOut();
                    var r = void 0,
                        i = n.roomId;
                    void 0 === i || -1 !== P.default.playlistIndexToMegaGridIndex(i - 1) && !P.default.insideMegaGrid(P.default.playlistIndexToMegaGridIndex(i - 1)) || (r = "The selected room id is invalid."), this.setState({
                        route: e.route,
                        params: n,
                        notFound: r
                    })
                }
            }, e.prototype.setPresenting = function(t) {
                this.setState({
                    presenting: t
                })
            }, e.prototype.setNotFound = function(t) {
                this.setState({
                    notFound: t
                })
            }, e.prototype.performFillPool = function() {
                M.default.enable(), b.default.fill(), this.setState({
                    needsFillPool: !1
                })
            }, e.prototype.render = function(t, e) {
                var n = e.route,
                    r = e.params,
                    i = e.notFound,
                    a = e.needsFillPool;
                k || a || (S.default.startAnimating(), k = !0);
                var s = N[n];
                return a ? (0, p.h)(B.default, {
                    onClick: this.performFillPool
                }) : i ? (0, p.h)(O.default, {
                    error: i
                }) : (0, p.h)(s, (0, o.default)({}, r, {
                    onNotFound: this.setNotFound
                }))
            }, e
        }(p.Component);
    e.default = U
}, function(t, e, n) {
    t.exports = {
        default: n(534),
        __esModule: !0
    }
}, function(t, e, n) {
    n(183), n(192), t.exports = n(171).f("iterator")
}, function(t, e, n) {
    t.exports = {
        default: n(536),
        __esModule: !0
    }
}, function(t, e, n) {
    n(537), n(182), n(541), n(542), t.exports = n(17).Symbol
}, function(t, e, n) {
    "use strict";
    var r = n(27),
        i = n(63),
        o = n(51),
        a = n(24),
        s = n(186),
        u = n(232).KEY,
        c = n(79),
        l = n(135),
        f = n(103),
        h = n(102),
        d = n(28),
        p = n(171),
        m = n(172),
        v = n(538),
        g = n(539),
        A = n(49),
        y = n(64),
        x = n(132),
        _ = n(101),
        b = n(133),
        w = n(540),
        M = n(235),
        E = n(57),
        S = n(80),
        T = M.f,
        L = E.f,
        C = w.f,
        P = r.Symbol,
        R = r.JSON,
        D = R && R.stringify,
        O = d("_hidden"),
        I = d("toPrimitive"),
        B = {}.propertyIsEnumerable,
        N = l("symbol-registry"),
        k = l("symbols"),
        F = l("op-symbols"),
        U = Object.prototype,
        z = "function" == typeof P,
        V = r.QObject,
        G = !V || !V.prototype || !V.prototype.findChild,
        H = o && c(function() {
            return 7 != b(L({}, "a", {
                get: function() {
                    return L(this, "a", {
                        value: 7
                    }).a
                }
            })).a
        }) ? function(t, e, n) {
            var r = T(U, e);
            r && delete U[e], L(t, e, n), r && t !== U && L(U, e, r)
        } : L,
        W = function(t) {
            var e = k[t] = b(P.prototype);
            return e._k = t, e
        },
        j = z && "symbol" == typeof P.iterator ? function(t) {
            return "symbol" == typeof t
        } : function(t) {
            return t instanceof P
        },
        Q = function(t, e, n) {
            return t === U && Q(F, e, n), A(t), e = x(e, !0), A(n), i(k, e) ? (n.enumerable ? (i(t, O) && t[O][e] && (t[O][e] = !1), n = b(n, {
                enumerable: _(0, !1)
            })) : (i(t, O) || L(t, O, _(1, {})), t[O][e] = !0), H(t, e, n)) : L(t, e, n)
        },
        q = function(t, e) {
            A(t);
            for (var n, r = v(e = y(e)), i = 0, o = r.length; o > i;) Q(t, n = r[i++], e[n]);
            return t
        },
        X = function(t, e) {
            return void 0 === e ? b(t) : q(b(t), e)
        },
        Y = function(t) {
            var e = B.call(this, t = x(t, !0));
            return !(this === U && i(k, t) && !i(F, t)) && (!(e || !i(this, t) || !i(k, t) || i(this, O) && this[O][t]) || e)
        },
        Z = function(t, e) {
            if (t = y(t), e = x(e, !0), t !== U || !i(k, e) || i(F, e)) {
                var n = T(t, e);
                return !n || !i(k, e) || i(t, O) && t[O][e] || (n.enumerable = !0), n
            }
        },
        J = function(t) {
            for (var e, n = C(y(t)), r = [], o = 0; n.length > o;) i(k, e = n[o++]) || e == O || e == u || r.push(e);
            return r
        },
        K = function(t) {
            for (var e, n = t === U, r = C(n ? F : y(t)), o = [], a = 0; r.length > a;) !i(k, e = r[a++]) || n && !i(U, e) || o.push(k[e]);
            return o
        };
    z || (P = function() {
        if (this instanceof P) throw TypeError("Symbol is not a constructor!");
        var t = h(arguments.length > 0 ? arguments[0] : void 0),
            e = function(n) {
                this === U && e.call(F, n), i(this, O) && i(this[O], t) && (this[O][t] = !1), H(this, t, _(1, n))
            };
        return o && G && H(U, t, {
            configurable: !0,
            set: e
        }), W(t)
    }, s(P.prototype, "toString", function() {
        return this._k
    }), M.f = Z, E.f = Q, n(234).f = w.f = J, n(93).f = Y, n(166).f = K, o && !n(99) && s(U, "propertyIsEnumerable", Y, !0), p.f = function(t) {
        return W(d(t))
    }), a(a.G + a.W + a.F * !z, {
        Symbol: P
    });
    for (var $ = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), tt = 0; $.length > tt;) d($[tt++]);
    for (var et = S(d.store), nt = 0; et.length > nt;) m(et[nt++]);
    a(a.S + a.F * !z, "Symbol", {
        for: function(t) {
            return i(N, t += "") ? N[t] : N[t] = P(t)
        },
        keyFor: function(t) {
            if (!j(t)) throw TypeError(t + " is not a symbol!");
            for (var e in N)
                if (N[e] === t) return e
        },
        useSetter: function() {
            G = !0
        },
        useSimple: function() {
            G = !1
        }
    }), a(a.S + a.F * !z, "Object", {
        create: X,
        defineProperty: Q,
        defineProperties: q,
        getOwnPropertyDescriptor: Z,
        getOwnPropertyNames: J,
        getOwnPropertySymbols: K
    }), R && a(a.S + a.F * (!z || c(function() {
        var t = P();
        return "[null]" != D([t]) || "{}" != D({
            a: t
        }) || "{}" != D(Object(t))
    })), "JSON", {
        stringify: function(t) {
            if (void 0 !== t && !j(t)) {
                for (var e, n, r = [t], i = 1; arguments.length > i;) r.push(arguments[i++]);
                return e = r[1], "function" == typeof e && (n = e), !n && g(e) || (e = function(t, e) {
                    if (n && (e = n.call(this, t, e)), !j(e)) return e
                }), r[1] = e, D.apply(R, r)
            }
        }
    }), P.prototype[I] || n(62)(P.prototype, I, P.prototype.valueOf), f(P, "Symbol"), f(Math, "Math", !0), f(r.JSON, "JSON", !0)
}, function(t, e, n) {
    var r = n(80),
        i = n(166),
        o = n(93);
    t.exports = function(t) {
        var e = r(t),
            n = i.f;
        if (n)
            for (var a, s = n(t), u = o.f, c = 0; s.length > c;) u.call(t, a = s[c++]) && e.push(a);
        return e
    }
}, function(t, e, n) {
    var r = n(89);
    t.exports = Array.isArray || function(t) {
        return "Array" == r(t)
    }
}, function(t, e, n) {
    var r = n(64),
        i = n(234).f,
        o = {}.toString,
        a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
        s = function(t) {
            try {
                return i(t)
            } catch (t) {
                return a.slice()
            }
        };
    t.exports.f = function(t) {
        return a && "[object Window]" == o.call(t) ? s(t) : i(r(t))
    }
}, function(t, e, n) {
    n(172)("asyncIterator")
}, function(t, e, n) {
    n(172)("observable")
}, function(t, e, n) {
    t.exports = {
        default: n(544),
        __esModule: !0
    }
}, function(t, e, n) {
    n(545), t.exports = n(17).Object.setPrototypeOf
}, function(t, e, n) {
    var r = n(24);
    r(r.S, "Object", {
        setPrototypeOf: n(546).set
    })
}, function(t, e, n) {
    var r = n(50),
        i = n(49),
        o = function(t, e) {
            if (i(t), !r(e) && null !== e) throw TypeError(e + ": can't set as prototype!")
        };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__" in {} ? function(t, e, r) {
            try {
                r = n(87)(Function.call, n(235).f(Object.prototype, "__proto__").set, 2), r(t, []), e = !(t instanceof Array)
            } catch (t) {
                e = !0
            }
            return function(t, n) {
                return o(t, n), e ? t.__proto__ = n : r(t, n), t
            }
        }({}, !1) : void 0),
        check: o
    }
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(86),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        o = (0, i.default)(),
        a = ["webkit", "moz", "ms", "o"],
        s = function() {
            if ("hidden" in document) return "hidden";
            for (var t = 0; t < a.length; t++) {
                var e = a[t] + "Hidden";
                if (e in document) return e
            }
            return null
        }();
    if (s) {
        var u = s.replace(/hidden/i, "") + "visibilitychange";
        document.addEventListener(u, function() {
            o.emit("change", !document[s])
        }, !1)
    }
    e.default = o
}, function(t, e, n) {
    t.exports = {
        default: n(549),
        __esModule: !0
    }
}, function(t, e, n) {
    n(550), t.exports = n(17).Object.values
}, function(t, e, n) {
    var r = n(24),
        i = n(551)(!1);
    r(r.S, "Object", {
        values: function(t) {
            return i(t)
        }
    })
}, function(t, e, n) {
    var r = n(80),
        i = n(64),
        o = n(93).f;
    t.exports = function(t) {
        return function(e) {
            for (var n, a = i(e), s = r(a), u = s.length, c = 0, l = []; u > c;) o.call(a, n = s[c++]) && l.push(t ? [n, a[n]] : a[n]);
            return l
        }
    }
}, function(t, e, n) {
    "use strict";
    var r = n(20),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    t.exports = function(t) {
        t.VREffect = function(e, n) {
            function r(t) {
                h = t, t.length > 0 ? f = t[0] : n && n("HMD not available")
            }

            function o() {
                var t = b.isPresenting;
                if (b.isPresenting = void 0 !== f && f.isPresenting, b.isPresenting) {
                    var n = f.getEyeParameters("left"),
                        r = n.renderWidth,
                        i = n.renderHeight;
                    t || (E = e.getPixelRatio(), w = e.getSize(), 1 !== E && e.setPixelRatio(1), e.setSize(2 * r * C, i * C, !1), b.setVRResolutionRatio(C))
                } else t && (e.setPixelRatio(E), e.setSize(w.width, w.height, M))
            }

            function a() {
                if (x) {
                    var t = f.getEyeParameters("left");
                    console.log("VR Effect vrResolutionRatio: ", C, " ", t.renderWidth * C, "x", t.renderHeight * C)
                }
                return f.requestPresent([{
                    source: S
                }])
            }

            function s(t) {
                t.pose.orientation ? (O.fromArray(t.pose.orientation), g.makeRotationFromQuaternion(O)) : g.identity(), t.pose.position && (I.fromArray(t.pose.position), g.setPosition(I)), A.fromArray(t.leftViewMatrix), A.multiply(g), y.fromArray(t.rightViewMatrix), y.multiply(g), A.getInverse(A), y.getInverse(y)
            }

            function u(t) {
                var e = 2 / (t.leftTan + t.rightTan),
                    n = (t.leftTan - t.rightTan) * e * .5,
                    r = 2 / (t.upTan + t.downTan);
                return {
                    scale: [e, r],
                    offset: [n, (t.upTan - t.downTan) * r * .5]
                }
            }

            function c(e, n, r, i) {
                n = void 0 === n || n, r = void 0 === r ? .01 : r, i = void 0 === i ? 1e4 : i;
                var o = n ? -1 : 1,
                    a = new t.Matrix4,
                    s = a.elements,
                    c = u(e);
                return s[0] = c.scale[0], s[1] = 0, s[2] = c.offset[0] * o, s[3] = 0, s[4] = 0, s[5] = c.scale[1], s[6] = -c.offset[1] * o, s[7] = 0, s[8] = 0, s[9] = 0, s[10] = i / (r - i) * -o, s[11] = i * r / (r - i), s[12] = 0, s[13] = 0, s[14] = o, s[15] = 0, a.transpose(), a
            }

            function l(t, e, n, r) {
                var i = Math.PI / 180;
                return c({
                    upTan: Math.tan(t.upDegrees * i),
                    downTan: Math.tan(t.downDegrees * i),
                    leftTan: Math.tan(t.leftDegrees * i),
                    rightTan: Math.tan(t.rightDegrees * i)
                }, e, n, r)
            }
            var f, h, d, p, m = new t.Vector3,
                v = new t.Vector3,
                g = new t.Matrix4,
                A = new t.Matrix4,
                y = new t.Matrix4,
                x = !1,
                _ = null;
            "VRFrameData" in window && (_ = new window.VRFrameData), navigator.getVRDisplays && navigator.getVRDisplays().then(r).catch(function() {
                console.warn("THREE.VREffect: Unable to get VR Displays")
            }), this.isPresenting = !1;
            var b = this,
                w = e.getSize(),
                M = !1,
                E = e.getPixelRatio();
            this.getVRDisplay = function() {
                return f
            }, this.setVRDisplay = function(t) {
                f = t
            }, this.getVRDisplays = function() {
                return console.warn("THREE.VREffect: getVRDisplays() is being deprecated."), h
            }, this.setSize = function(t, n, r) {
                if (w = {
                        width: t,
                        height: n
                    }, M = r, b.isPresenting) {
                    var i = f.getEyeParameters("left");
                    1 !== e.getPixelRatio() && e.setPixelRatio(1), e.setSize(2 * i.renderWidth * C, i.renderHeight * C, !1)
                } else e.setPixelRatio(E), e.setSize(t, n, r)
            };
            var S = e.domElement,
                T = [0, 0, .5, 1],
                L = [.5, 0, .5, 1],
                C = 1,
                P = 1;
            window.addEventListener("vrdisplaypresentchange", o, !1), this.setVRResolutionRatio = function(n) {
                if (C = t.Math.clamp(n, 0, 1), void 0 !== f && f.isPresenting) {
                    if (b.isPresenting) {
                        var r = f.getEyeParameters("left"),
                            i = r.renderWidth,
                            o = r.renderHeight;
                        e.setSize(2 * i * C, o * C, !1)
                    }
                    a()
                }
            }, this.getVRResolutionRatio = function() {
                return C
            }, this.setFOVRenderRatio = function(e) {
                P = t.Math.clamp(e, 0, 1)
            }, this.getFOVRenderRatio = function() {
                return P
            }, this.setFullScreen = function(t) {
                return new i.default(function(e, n) {
                    if (void 0 === f) return void n(new Error("No VR hardware found."));
                    if (b.isPresenting === t) return void e();
                    if (t) e(a());
                    else {
                        if (!f.isPresenting) return void e();
                        e(f.exitPresent())
                    }
                })
            }, this.requestPresent = function() {
                return this.setFullScreen(!0)
            }, this.exitPresent = function() {
                return this.setFullScreen(!1)
            }, this.requestAnimationFrame = function(t) {
                return void 0 !== f ? f.requestAnimationFrame(t) : window.requestAnimationFrame(t)
            }, this.cancelAnimationFrame = function(t) {
                void 0 !== f ? f.cancelAnimationFrame(t) : window.cancelAnimationFrame(t)
            }, this.submitFrame = function() {
                void 0 !== f && f.isPresenting && f.submitFrame()
            }, this.autoSubmitFrame = !0;
            var R = new t.PerspectiveCamera;
            R.layers.enable(1);
            var D = new t.PerspectiveCamera;
            D.layers.enable(2), this.render = function(t, n, r, i) {
                if (f && b.isPresenting) {
                    var o = t.autoUpdate;
                    o && (t.updateMatrixWorld(), t.autoUpdate = !1), Array.isArray(t) && (console.warn("THREE.VREffect.render() no longer supports arrays. Use object.layers instead."), t = t[0]), (e.autoClear || i) && e.clear();
                    var a = e.autoClear;
                    e.autoClear = !1;
                    var u, c, h = e.getSize(),
                        g = f.getLayers();
                    if (g.length) {
                        var x = g[0];
                        u = null !== x.leftBounds && 4 === x.leftBounds.length ? x.leftBounds : T, c = null !== x.rightBounds && 4 === x.rightBounds.length ? x.rightBounds : L
                    } else u = T, c = L;
                    if (d = {
                            x: Math.round(h.width * u[0]),
                            y: Math.round(h.height * u[1]),
                            width: Math.round(h.width * u[2]),
                            height: Math.round(h.height * u[3])
                        }, p = {
                            x: Math.round(h.width * c[0]),
                            y: Math.round(h.height * c[1]),
                            width: Math.round(h.width * c[2]),
                            height: Math.round(h.height * c[3])
                        }, r ? (e.setRenderTarget(r), r.scissorTest = !0) : (e.setRenderTarget(null), e.setScissorTest(!0)), null === n.parent && n.updateMatrixWorld(), n.matrixWorld.decompose(R.position, R.quaternion, R.scale), D.position.copy(R.position), D.quaternion.copy(R.quaternion), D.scale.copy(R.scale), f.getFrameData) f.depthNear = n.near, f.depthFar = n.far, f.getFrameData(_), R.projectionMatrix.elements = _.leftProjectionMatrix, D.projectionMatrix.elements = _.rightProjectionMatrix, s(_), R.updateMatrix(), R.matrix.multiply(A), R.matrix.decompose(R.position, R.quaternion, R.scale), D.updateMatrix(), D.matrix.multiply(y), D.matrix.decompose(D.position, D.quaternion, D.scale);
                    else {
                        var w = f.getEyeParameters("left"),
                            M = f.getEyeParameters("right");
                        R.projectionMatrix = l(w.fieldOfView, !0, n.near, n.far), D.projectionMatrix = l(M.fieldOfView, !0, n.near, n.far), m.fromArray(w.offset), v.fromArray(M.offset), R.translateOnAxis(m, R.scale.x), D.translateOnAxis(v, D.scale.x)
                    }
                    var E = d.width * (1 - P) * .5,
                        S = d.height * (1 - P) * .5,
                        C = [d.x + E, d.y + S, d.width - 2 * E, d.height - 2 * S];
                    r ? (r.viewport.set(d.x, d.y, d.width, d.height), r.scissor.set(C[0], C[1], C[2], C[3])) : (e.setViewport(d.x, d.y, d.width, d.height), e.setScissor(C[0], C[1], C[2], C[3])), e.render(t, R, r);
                    var O = p.width * (1 - P) * .5,
                        I = p.height * (1 - P) * .5,
                        B = [p.x + O, p.y + I, p.width - 2 * O, p.height - 2 * I];
                    return r ? (r.viewport.set(p.x, p.y, p.width, p.height), r.scissor.set(B[0], B[1], B[2], B[3])) : (e.setViewport(p.x, p.y, p.width, p.height), e.setScissor(B[0], B[1], B[2], B[3])), e.render(t, D, r), r ? (r.viewport.set(0, 0, h.width, h.height), r.scissor.set(0, 0, h.width, h.height), r.scissorTest = !1, e.setRenderTarget(null)) : (e.setViewport(0, 0, h.width, h.height), e.setScissorTest(!1)), o && (t.autoUpdate = !0), b.autoSubmitFrame && b.submitFrame(), void(e.autoClear = a)
                }
                e.render(t, n, r, i)
            }, this.dispose = function() {
                window.removeEventListener("vrdisplaypresentchange", o, !1)
            }, this.setLogging = function(t) {
                x = t
            };
            var O = new t.Quaternion,
                I = new t.Vector3
        }
    }
}, function(t, e, n) {
    "use strict";
    (function(e) {
        function n(t) {
            for (var e = 0; e < t.length; e++)
                if (t[e] !== a[e]) return !1;
            return !0
        }
        t.exports = function(t) {
            t.VRControls = function(e, r) {
                function i(t) {
                    s = t, t.length > 0 ? a = t[0] : r && r("VR input not available.")
                }
                var a, s, u = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                        position: !0
                    },
                    c = this,
                    l = new t.Matrix4,
                    f = null;
                "VRFrameData" in window && (f = new VRFrameData), navigator.getVRDisplays && navigator.getVRDisplays().then(i).catch(function() {
                    console.warn("THREE.VRControls: Unable to get VR Displays")
                }), this.scale = 1, this.standing = !1, this.userHeight = 1.6, this.getVRDisplay = function() {
                    return a
                }, this.setVRDisplay = function(t) {
                    a = t
                }, this.getVRDisplays = function() {
                    return console.warn("THREE.VRControls: getVRDisplays() is being deprecated."), s
                }, this.getStandingMatrix = function() {
                    return l
                }, this.update = function() {
                    if (a) {
                        var t;
                        if (a.getFrameData ? (a.getFrameData(f), t = f.pose) : a.getPose && (t = a.getPose()), null !== t.orientation && e.quaternion.fromArray(t.orientation), u.position && (u.position && null !== t.position ? e.position.fromArray(t.position) : e.position.set(0, 0, 0)), this.standing && u.position)
                            if (a.stageParameters) {
                                e.updateMatrix();
                                var r = a.stageParameters.sittingToStandingTransform;
                                n(r) ? (e.matrix.identity(), e.applyMatrix(o)) : (l.fromArray(r), e.applyMatrix(l))
                            } else e.position.setY(e.position.y + this.userHeight);
                        e.position.multiplyScalar(c.scale)
                    }
                }, this.resetPose = function() {
                    a && a.resetPose()
                }, this.resetSensor = function() {
                    console.warn("THREE.VRControls: .resetSensor() is now .resetPose()."), this.resetPose()
                }, this.zeroSensor = function() {
                    console.warn("THREE.VRControls: .zeroSensor() is now .resetPose()."), this.resetPose()
                }, this.dispose = function() {
                    a = null
                }
            }
        };
        var r = (new e.Matrix4).makeTranslation(0, 1.6, 0),
            i = (new e.Matrix4).makeRotationY(0),
            o = (new e.Matrix4).multiplyMatrices(r, i),
            a = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]
    }).call(e, n(18))
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var i = n(34),
        o = r(i),
        a = n(165),
        s = r(a);
    t.exports = function(t) {
        function e() {
            this.isLeftHanded = !1, this.controllerQ = new t.Quaternion, this.lastControllerQ = new t.Quaternion, this.headQ = new t.Quaternion, this.headPos = new t.Vector3, this.elbowPos = new t.Vector3, this.wristPos = new t.Vector3, this.time = null, this.lastTime = null, this.rootQ = new t.Quaternion, this.pose = {
                orientation: new t.Quaternion,
                position: new t.Vector3
            }
        }
        t.VRController = function(e) {
            var n, r, i, o = [],
                a = [0, 0],
                s = [],
                u = "";
            t.Object3D.call(this), this.matrixAutoUpdate = !1, this.standingMatrix = new t.Matrix4, this.head = {
                position: new t.Vector3,
                quaternion: new t.Quaternion
            }, n = t.VRController.supported[e.id], void 0 !== n && (r = n.style, o = n.buttons, i = n.primary), this.gamepad = e, this.gamepadStyle = r, this.gamepadDOF = 3 * (+e.pose.hasOrientation + +e.pose.hasPosition), this.name = e.id, e.buttons.forEach(function(t, e) {
                s[e] = {
                    name: void 0 !== o[e] ? o[e] : "button_" + e,
                    value: t.value,
                    isTouched: t.touched,
                    isPressed: t.pressed
                }
            }), this.listenForButtonEvents = function() {
                var n = t.VRController.verbosity,
                    r = this,
                    o = "> #" + r.gamepad.index + " " + r.gamepad.id + " (" + r.gamepad.hand + ") ";
                u !== r.gamepad.hand && (n >= .5 && console.log(o + 'hand changed from "' + u + '" to "' + r.gamepad.hand + '"'), u = r.gamepad.hand, r.dispatchEvent({
                    type: "hand changed",
                    hand: u
                })), a[0] === e.axes[0] && a[1] === e.axes[1] || (a[0] = e.axes[0], a[1] = e.axes[1], n >= .5 && console.log(o + "axes changed", a), r.dispatchEvent({
                    type: "axes changed",
                    axes: a
                })), s.forEach(function(t, a) {
                    var s, u = o + t.name + " ",
                        c = t.name === i ? " isPrimary!" : "";
                    t.value !== e.buttons[a].value && (t.value = e.buttons[a].value, n >= .5 && console.log(u + "value changed" + c, t.value), r.dispatchEvent({
                        type: t.name + " value changed",
                        value: t.value
                    }), "" !== c && r.dispatchEvent({
                        type: "primary value changed",
                        value: t.value
                    })), t.isTouched !== e.buttons[a].touched && (t.isTouched = e.buttons[a].touched, s = " " + (t.isTouched ? "began" : "ended"), n >= .5 && console.log(u + "touch" + s + c), r.dispatchEvent({
                        type: t.name + " touch" + s
                    }), "" !== c && r.dispatchEvent({
                        type: "primary touch" + s
                    })), t.isPressed !== e.buttons[a].pressed && (t.isPressed = e.buttons[a].pressed, s = " " + (t.isPressed ? "began" : "ended"), n >= .5 && console.log(u + "press" + s + c), r.dispatchEvent({
                        type: t.name + " press" + s
                    }), "" !== c && r.dispatchEvent({
                        type: "primary press" + s
                    }))
                })
            }, this.getButton = function(t) {
                return "number" == typeof t ? s[t] : "string" == typeof t ? s.find(function(e) {
                    return e.name === t
                }) : void 0
            }, this.getButtonState = function(t) {
                return s.find(function(e) {
                    return e.name === t
                })
            }
        }, t.VRController.prototype = (0, s.default)(t.Object3D.prototype), t.VRController.prototype.constructor = t.VRController, t.VRController.prototype.update = function() {
            var n = this.gamepad,
                r = n.pose;
            null !== r.orientation && this.quaternion.fromArray(r.orientation), null !== r.position ? (this.position.fromArray(r.position), this.matrix.compose(this.position, this.quaternion, this.scale)) : (void 0 === this.armModel && (this.armModel = new e), this.armModel.setHeadPosition(this.head.position), this.armModel.setHeadOrientation(this.head.quaternion), this.armModel.setControllerOrientation((new t.Quaternion).fromArray(r.orientation)), this.armModel.update(), this.matrix.compose(this.armModel.getPose().position, this.armModel.getPose().orientation, this.scale)), this.matrix.multiplyMatrices(this.standingMatrix, this.matrix), this.matrixWorldNeedsUpdate = !0, this.listenForButtonEvents()
        }, t.VRController.verbosity = 0, t.VRController.controllers = {}, t.VRController.onGamepadConnect = function(e) {
            var n = t.VRController,
                r = new n(e);
            n.controllers[e.index] = r, n.verbosity >= .5 && console.log("vr controller connected", r), window.setTimeout(function() {
                window.dispatchEvent(new CustomEvent("vr controller connected", {
                    detail: r
                }))
            }, 500)
        }, t.VRController.onGamepadDisconnect = function(e) {
            var n = t.VRController,
                r = n.controllers[e.index];
            n.verbosity >= .5 && console.log("vr controller disconnected", r), r.dispatchEvent({
                type: "disconnected",
                controller: r
            }), n.controllers[e.index] = void 0
        }, t.VRController.update = function() {
            if (void 0 !== navigator.getGamepads) {
                var e, n, r = navigator.getGamepads();
                for (n = 0; n < r.length; n++) void 0 !== (e = r[n]) && null !== e && void 0 !== e.pose && null !== e.pose && (null !== e.pose.orientation || null !== e.pose.position ? (void 0 === this.controllers[n] && t.VRController.onGamepadConnect(e), this.controllers[n].update()) : void 0 !== this.controllers[n] && t.VRController.onGamepadDisconnect(e))
            }
        }, t.VRController.supported = {
            "Daydream Controller": {
                style: "daydream",
                buttons: ["thumbpad"],
                primary: "thumbpad"
            },
            "OpenVR Gamepad": {
                style: "vive",
                buttons: ["thumbpad", "trigger", "grips", "menu"],
                primary: "trigger"
            },
            "Oculus Touch (Right)": {
                style: "oculus",
                buttons: ["thumbstick", "trigger", "grip", "A", "B", "thumbrest"],
                primary: "trigger"
            },
            "Oculus Touch (Left)": {
                style: "oculus",
                buttons: ["thumbstick", "trigger", "grip", "X", "Y", "thumbrest"],
                primary: "trigger"
            }
        }, (0, o.default)(e, {
            HEAD_ELBOW_OFFSET: new t.Vector3(.155, -.465, -.15),
            ELBOW_WRIST_OFFSET: new t.Vector3(0, 0, -.25),
            WRIST_CONTROLLER_OFFSET: new t.Vector3(0, 0, .05),
            ARM_EXTENSION_OFFSET: new t.Vector3(-.08, .14, .08),
            ELBOW_BEND_RATIO: .4,
            EXTENSION_RATIO_WEIGHT: .4,
            MIN_ANGULAR_SPEED: .61
        }), e.prototype.setControllerOrientation = function(t) {
            this.lastControllerQ.copy(this.controllerQ), this.controllerQ.copy(t)
        }, e.prototype.setHeadOrientation = function(t) {
            this.headQ.copy(t)
        }, e.prototype.setHeadPosition = function(t) {
            this.headPos.copy(t)
        }, e.prototype.setLeftHanded = function(t) {
            this.isLeftHanded = t
        }, e.prototype.update = function() {
            this.time = performance.now();
            var n = this.getHeadYawOrientation_(),
                r = (this.time - this.lastTime) / 1e3,
                i = this.quatAngle_(this.lastControllerQ, this.controllerQ);
            i / r > e.MIN_ANGULAR_SPEED ? this.rootQ.slerp(n, i / 10) : this.rootQ.copy(n);
            var o = (new t.Euler).setFromQuaternion(this.controllerQ, "YXZ"),
                a = t.Math.radToDeg(o.x),
                s = this.clamp_((a - 11) / 39, 0, 1),
                u = this.rootQ.clone().inverse();
            u.multiply(this.controllerQ);
            var c = this.elbowPos;
            c.copy(this.headPos).add(e.HEAD_ELBOW_OFFSET);
            var l = (new t.Vector3).copy(e.ARM_EXTENSION_OFFSET);
            l.multiplyScalar(s), c.add(l);
            var f = this.quatAngle_(u, new t.Quaternion),
                h = t.Math.radToDeg(f),
                d = 1 - Math.pow(h / 180, 4),
                p = e.ELBOW_BEND_RATIO,
                m = 1 - e.ELBOW_BEND_RATIO,
                v = d * (p + m * s * e.EXTENSION_RATIO_WEIGHT),
                g = (new t.Quaternion).slerp(u, v),
                A = g.inverse(),
                y = u.clone().multiply(A),
                x = this.wristPos;
            x.copy(e.WRIST_CONTROLLER_OFFSET), x.applyQuaternion(g), x.add(e.ELBOW_WRIST_OFFSET), x.applyQuaternion(y), x.add(this.elbowPos);
            var _ = (new t.Vector3).copy(e.ARM_EXTENSION_OFFSET);
            _.multiplyScalar(s);
            var b = (new t.Vector3).copy(this.wristPos);
            b.add(_), b.applyQuaternion(this.rootQ);
            var w = (new t.Quaternion).copy(this.controllerQ);
            this.pose.orientation.copy(w), this.pose.position.copy(b), this.lastTime = this.time
        }, e.prototype.getPose = function() {
            return this.pose
        }, e.prototype.getForearmLength = function() {
            return e.ELBOW_WRIST_OFFSET.length()
        }, e.prototype.getElbowPosition = function() {
            return this.elbowPos.clone().applyQuaternion(this.rootQ)
        }, e.prototype.getWristPosition = function() {
            return this.wristPos.clone().applyQuaternion(this.rootQ)
        }, e.prototype.getHeadYawOrientation_ = function() {
            var e = (new t.Euler).setFromQuaternion(this.headQ, "YXZ");
            return e.x = 0, e.z = 0, (new t.Quaternion).setFromEuler(e)
        }, e.prototype.clamp_ = function(t, e, n) {
            return Math.min(Math.max(t, e), n)
        }, e.prototype.quatAngle_ = function(e, n) {
            var r = new t.Vector3(0, 0, -1),
                i = new t.Vector3(0, 0, -1);
            return r.applyQuaternion(e), i.applyQuaternion(n), r.angleTo(i)
        }
    }
}, function(t, e, n) {
    "use strict";

    function r() {
        a = !0;
        var t = document.createElement("div");
        t.style.cssText = "position:fixed;top:0;right:0;cursor:pointer;opacity:0.9;z-index:10000", document.body.appendChild(t), s = document.createElement("div"), s.style.cssText = "background-color:#000;color:#f00;font-size: 24pt;padding: 5px;text-align:right", t.appendChild(s), u = document.createElement("div"), u.style.cssText = "background-color:#000;color:#ff0;font-size: 14pt;padding: 5px;", t.appendChild(u)
    }
    e.__esModule = !0;
    var i = void 0,
        o = 0,
        a = !1,
        s = void 0,
        u = void 0;
    e.default = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1e3;
        a || r(), o++;
        var n = (performance || Date).now();
        if (void 0 === i && (i = n), n > i + e) {
            var c = 1e3 * o / (n - i),
                l = c.toFixed(1) + " fps",
                f = "dpr:" + t.getPixelRatio() + " w:" + t.domElement.width + " h:" + t.domElement.height;
            console.log(l + " " + f), s.innerHTML = l, u.innerHTML = f, o = 0, i = n
        }
    }
}, function(t, e, n) {
    t.exports = {
        default: n(557),
        __esModule: !0
    }
}, function(t, e, n) {
    n(558);
    var r = n(17).Object;
    t.exports = function(t, e, n) {
        return r.defineProperty(t, e, n)
    }
}, function(t, e, n) {
    var r = n(24);
    r(r.S + r.F * !n(51), "Object", {
        defineProperty: n(57).f
    })
}, function(t, e) {
    function n(t) {
        var e = 2.5949095;
        return (t *= 2) < 1 ? t * t * ((e + 1) * t - e) * .5 : .5 * ((t -= 2) * t * ((e + 1) * t + e) + 2)
    }
    t.exports = n
}, function(t, e) {
    function n(t) {
        return -.5 * (Math.cos(Math.PI * t) - 1)
    }
    t.exports = n
}, function(t, e) {
    function n(t) {
        var e = t * t;
        return t < 4 / 11 ? 7.5625 * e : t < 8 / 11 ? 9.075 * e - 9.9 * t + 3.4 : t < .9 ? 4356 / 361 * e - 35442 / 1805 * t + 16061 / 1805 : 10.8 * t * t - 20.52 * t + 10.72
    }
    t.exports = n
}, function(t, e) {
    function n(t) {
        var e = 1.70158;
        return --t * t * ((e + 1) * t + e) + 1
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = function(t, e) {
        // console.log('streamer');

        var n = !1,
            r = new XMLHttpRequest,
            i = 0,
            o = function(t) {
                e(null, t)
            };
        return r.onprogress = function() {
            if (!n) {
                const iStart = i;
                const string = r.response.slice(i);
                const elements = string.split("\n");
                for (var t = elements, e = 0; e < t.length - 1; e++) {
                    var a = t[e];
                    o(a);
                    i += a.length + 1;
                }

                // console.log('progress', JSON.stringify(t[t.length - 1].slice(0, 200)), i, iStart, r.response.length);
            }
        }, r.onload = function() {
            if (!n && 4 === r.readyState && 403 === r.status) return e(Error("Not found"));

            var t = r.response.slice(i);

            // console.log('load', JSON.stringify(t), i, r.response.length);

            /* if (t && /\s/.test(t)) {
              console.log('fail 1', JSON.stringify(t), i);
            } */

            t && o(t), e()
        }, r.onerror = function() {
            n || e(Error("Connection failed"))
        }, r.responseType = "text", r.open("GET", t, !0), r.send(), {
            cancel: function() {
                r.abort(), n = !0
            }
        }
    };
    e.default = r
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(120),
        s = r(a),
        u = n(121),
        c = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(u),
        l = n(118),
        f = r(l),
        h = n(10),
        d = r(h),
        p = function(t, e) {
            var n = t[e];

            if ("string" == typeof n && /\n/.test(n)) {
                console.log('parse json', JSON.stringify(n), t, e);
            }

            "string" == typeof n && (n = t[e] = JSON.parse(n));
            return n;
        },
        m = c.createPose(),
        v = function() {
            function t(e, n) {
                (0, o.default)(this, t);
                Object.defineProperty(this, 'frames', {
                  get() {
                    // console.log('get frame', new Error().stack);
                    return e;
                  },
                  set(e) {
                    // throw new Error('fail');
                    newE = e;
                  }
                });
                if (this.frames.frames){
                  console.log('construct frames', this.frames.frames, new Error().stack);
                  throw new Error('lol');
                }
                void 0 !== n && this.gotoTime(n);
            }
            return t.prototype.gotoTime = function(t, e) {
                var n = 2 * d.default.loopDuration;
                this.time = t % n;
                this.loopRatio = this.time / n;
                this.maxLayers = e;
                this.needsUpdate = !0;
            }, t.prototype.secondsToFrame = function(t) {
                return t * this.frames.fps
            }, t.prototype.getHeadPose = function(t, e) {
                var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                return this.getPose(t, 0, e, n)
            }, t.prototype.isLoaded = function() {
                return !!this.frames.frames && Math.ceil(this.requestedFrame) <= this.frameCount
            }, t.prototype.update = function() {
                var t = this.frames.frames,
                    e = this.time,
                    n = this.maxLayers,
                    r = this.frameCount = t && t.length,
                    i = this.requestedFrame = this.secondsToFrame(e);
                if (r) {
                    var o = Math.min(r - 1, i),
                        a = Math.floor(o),
                        s = Math.ceil(o);
                    if (t && !(r <= s) && o !== this.frameNumber) {
                        this.frameNumber = o;
                        var u = this.lower = p(t, a);
                        this.higher = p(t, s);
                        this.ratio = o % 1;
                        this._count = null != n ? Math.min(n, c.count(u)) : c.count(u);
                        this.needsUpdate = i > r;
                    }
                }
            }, t.prototype.getPose = function(t, e, n, r) {
                var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : m;
                this.needsUpdate && this.update();
                var o = i[0],
                    a = i[1],
                    s = this.lower,
                    u = this.higher,
                    l = this.ratio;
                return c.avgPosition(s, u, l, t, e, n, o), r && o.applyMatrix4(f.default.group.matrix), c.avgQuaternion(s, u, l, t, e, a), i
            }, (0, s.default)(t, [{
                key: "count",
                get: function() {
                    return this.needsUpdate && this.update(), this._count || 0
                }
            }]), t
        }();
    e.default = v
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    e.elasticIn = function(t) {
        return Math.sin(13 * t * Math.PI / 2) * Math.pow(2, 10 * (t - 1))
    }
}, function(t, e, n) {
    "use strict";
    var r = n(2),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        o = n(567),
        a = "undefined" != typeof navigator && parseFloat(("" + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) < 10 && !window.MSStream,
        s = function() {
            function t() {
                (0, i.default)(this, t), a ? this.noSleepTimer = null : (this.noSleepVideo = document.createElement("video"), this.noSleepVideo.setAttribute("playsinline", ""), this.noSleepVideo.setAttribute("src", o), this.noSleepVideo.addEventListener("timeupdate", function(t) {
                    this.noSleepVideo.currentTime > .5 && (this.noSleepVideo.currentTime = Math.random())
                }.bind(this)))
            }
            return t.prototype.enable = function() {
                a ? this.disable() : this.noSleepVideo.play()
            }, t.prototype.disable = function() {
                a ? this.noSleepTimer && (window.clearInterval(this.noSleepTimer), this.noSleepTimer = null) : this.noSleepVideo.pause()
            }, t
        }();
    t.exports = s
}, function(t, e, n) {
    "use strict";
    t.exports = "data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="
}, function(t, e, n) {
    function r(t) {
        if (!(this instanceof r)) return new r(t);
        t = t || {}, this.stack = [], this.defaultEase = t.defaultEase || a, this.eases = t.eases || {}, this._applyEase = this.ease.bind(this)
    }

    function i(t) {
        return "function" == typeof t.tick && "function" == typeof t.cancel
    }

    function o(t) {
        for (var e = 0; e < t.length; e++) {
            var n = t[e];
            "function" == typeof n.sync && n.sync()
        }
    }
    var a = n(239),
        s = n(569),
        u = n(122);
    r.prototype.cancel = function() {
        for (var t = 0; t < this.stack.length; t++) {
            var e = this.stack[t];
            e.cancel(), e.tick(0)
        }
        return this.stack.length = 0, this
    }, r.prototype.clear = r.prototype.cancel, r.prototype.to = function(t, e) {
        var n = t;
        if (e && "object" == typeof e) n = s(t, e);
        else if (t || e) {
            if (!i(n)) throw new Error("must provide options or a tween object")
        } else n = new u;
        return this.push(n)
    }, r.prototype.push = function(t) {
        return this.stack.push(t), t
    }, r.prototype.tick = function(t, e) {
        e = "function" == typeof e ? e : this._applyEase, t = "number" == typeof t ? t : 1 / 60;
        for (var n = 0; n < this.stack.length; n++) this.stack[n].tick(t, e);
        for (o(this.stack), n = this.stack.length - 1; n >= 0; n--) this.stack[n].active || this.stack.splice(n, 1)
    }, r.prototype.ease = function(t, e) {
        var n = t.ease || this.defaultEase;
        return "string" == typeof n && (n = this.eases[n]), "function" != typeof n && (n = a), n(e)
    }, t.exports = r
}, function(t, e, n) {
    var r = n(570),
        i = n(574);
    t.exports = function(t, e) {
        return Array.isArray(t) ? new i(t, e) : new r(t, e)
    }
}, function(t, e, n) {
    function r(t, e) {
        a.call(this, e), this.target = t, this.endings = void 0, this._options = e
    }
    var i = n(128),
        o = n(240),
        a = n(122),
        s = n(241);
    i(r, a), r.prototype.ready = function() {
        this.endings = s(this.target, this._options)
    }, r.prototype.lerp = function(t) {
        for (var e = 0; e < this.endings.length; e++) {
            var n = this.endings[e],
                r = n.key;
            this.target[r] = o(n.start, n.end, t, this.target[r])
        }
    }, t.exports = r
}, function(t, e) {
    function n(t, e, n) {
        return t * (1 - n) + e * n
    }
    t.exports = n
}, function(t, e) {
    function n() {
        this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0
    }

    function r(t) {
        return "function" == typeof t
    }

    function i(t) {
        return "number" == typeof t
    }

    function o(t) {
        return "object" == typeof t && null !== t
    }

    function a(t) {
        return void 0 === t
    }
    t.exports = n, n.EventEmitter = n, n.prototype._events = void 0, n.prototype._maxListeners = void 0, n.defaultMaxListeners = 10, n.prototype.setMaxListeners = function(t) {
        if (!i(t) || t < 0 || isNaN(t)) throw TypeError("n must be a positive number");
        return this._maxListeners = t, this
    }, n.prototype.emit = function(t) {
        var e, n, i, s, u, c;
        if (this._events || (this._events = {}), "error" === t && (!this._events.error || o(this._events.error) && !this._events.error.length)) {
            if ((e = arguments[1]) instanceof Error) throw e;
            var l = new Error('Uncaught, unspecified "error" event. (' + e + ")");
            throw l.context = e, l
        }
        if (n = this._events[t], a(n)) return !1;
        if (r(n)) switch (arguments.length) {
            case 1:
                n.call(this);
                break;
            case 2:
                n.call(this, arguments[1]);
                break;
            case 3:
                n.call(this, arguments[1], arguments[2]);
                break;
            default:
                s = Array.prototype.slice.call(arguments, 1), n.apply(this, s)
        } else if (o(n))
            for (s = Array.prototype.slice.call(arguments, 1), c = n.slice(), i = c.length, u = 0; u < i; u++) c[u].apply(this, s);
        return !0
    }, n.prototype.addListener = function(t, e) {
        var i;
        if (!r(e)) throw TypeError("listener must be a function");
        return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", t, r(e.listener) ? e.listener : e), this._events[t] ? o(this._events[t]) ? this._events[t].push(e) : this._events[t] = [this._events[t], e] : this._events[t] = e, o(this._events[t]) && !this._events[t].warned && (i = a(this._maxListeners) ? n.defaultMaxListeners : this._maxListeners) && i > 0 && this._events[t].length > i && (this._events[t].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[t].length), "function" == typeof console.trace && console.trace()), this
    }, n.prototype.on = n.prototype.addListener, n.prototype.once = function(t, e) {
        function n() {
            this.removeListener(t, n), i || (i = !0, e.apply(this, arguments))
        }
        if (!r(e)) throw TypeError("listener must be a function");
        var i = !1;
        return n.listener = e, this.on(t, n), this
    }, n.prototype.removeListener = function(t, e) {
        var n, i, a, s;
        if (!r(e)) throw TypeError("listener must be a function");
        if (!this._events || !this._events[t]) return this;
        if (n = this._events[t], a = n.length, i = -1, n === e || r(n.listener) && n.listener === e) delete this._events[t], this._events.removeListener && this.emit("removeListener", t, e);
        else if (o(n)) {
            for (s = a; s-- > 0;)
                if (n[s] === e || n[s].listener && n[s].listener === e) {
                    i = s;
                    break
                }
            if (i < 0) return this;
            1 === n.length ? (n.length = 0, delete this._events[t]) : n.splice(i, 1), this._events.removeListener && this.emit("removeListener", t, e)
        }
        return this
    }, n.prototype.removeAllListeners = function(t) {
        var e, n;
        if (!this._events) return this;
        if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[t] && delete this._events[t], this;
        if (0 === arguments.length) {
            for (e in this._events) "removeListener" !== e && this.removeAllListeners(e);
            return this.removeAllListeners("removeListener"), this._events = {}, this
        }
        if (n = this._events[t], r(n)) this.removeListener(t, n);
        else if (n)
            for (; n.length;) this.removeListener(t, n[n.length - 1]);
        return delete this._events[t], this
    }, n.prototype.listeners = function(t) {
        return this._events && this._events[t] ? r(this._events[t]) ? [this._events[t]] : this._events[t].slice() : []
    }, n.prototype.listenerCount = function(t) {
        if (this._events) {
            var e = this._events[t];
            if (r(e)) return 1;
            if (e) return e.length
        }
        return 0
    }, n.listenerCount = function(t, e) {
        return t.listenerCount(e)
    }
}, function(t, e) {
    function n(t) {
        var e = Object.getOwnPropertyNames(t);
        return Object.getOwnPropertySymbols && (e = e.concat(Object.getOwnPropertySymbols(t))), e.filter(function(e) {
            return r.call(t, e)
        })
    }
    var r = Object.prototype.propertyIsEnumerable;
    t.exports = n
}, function(t, e, n) {
    function r(t, e) {
        a.call(this, e), this.target = t, this.end = [], this._options = e
    }
    var i = n(128),
        o = n(240),
        a = n(122),
        s = n(241);
    i(r, a), r.prototype.ready = function() {
        this.end = this.target.map(function(t) {
            return s(t, this._options)
        }, this)
    }, r.prototype.lerp = function(t) {
        for (var e = 0; e < this.end.length; e++)
            for (var n = this.end[e], r = this.target[e], i = 0; i < n.length; i++) {
                var a = n[i],
                    s = a.key;
                r[s] = o(a.start, a.end, t, r[s])
            }
    }, t.exports = r
}, function(t, e) {
    function n(t) {
        var e = t - 1;
        return e * e * e + 1
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i(t) {
        var e = t.error;
        return (0, o.h)(s.default, null, (0, o.h)(f.default, {
            type: "center",
            margin: !0
        }, (0, o.h)(c.default, null, e || "The page you requested cannot be found."), (0, o.h)("div", {
            style: {
                marginTop: "1rem"
            }
        }, (0, o.h)("a", {
            href: "/"
        }, (0, o.h)("span", null, "Go home")))))
    }
    e.__esModule = !0, e.default = i;
    var o = n(1);
    n(577);
    var a = n(85),
        s = r(a),
        u = n(94),
        c = r(u),
        l = n(26),
        f = r(l)
}, function(t, e) {}, function(t, e) {}, function(t, e) {}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i(t) {
        var e = t.onClick;
        return (0, o.h)(s.default, null, (0, o.h)(c.default, {
            type: "center"
        }, (0, o.h)(f.default, {
            onClick: e,
            large: !0
        }), (0, o.h)("a", {
            onClick: e,
            className: "play-button-label"
        }, "Press play to Dance Tonite")))
    }
    e.__esModule = !0, e.default = i;
    var o = n(1);
    n(582);
    var a = n(85),
        s = r(a),
        u = n(26),
        c = r(u),
        l = n(583),
        f = r(l)
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(1),
        o = n(19),
        a = r(o),
        s = n(244),
        u = r(s),
        c = n(585),
        l = r(c);
    n(586), e.default = function(t) {
        var e = t.onClick,
            n = t.large;
        return (0, i.h)(a.default, {
            onClick: e,
            icon: n ? l.default : u.default,
            className: "button-play"
        })
    }
}, function(t, e) {}, function(t, e) {
    t.exports = '<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 40 80"><style>.st0{display:none}.st1{display:inline}.st2{clip-path:url(#SVGID_2_)}</style><g id="ADD" class="st0"><g class="st1"><defs><path id="SVGID_1_" d="M5.8 77.9h68.3v71.8H5.8z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" overflow="visible"/></clipPath><path class="st2" d="M41.8 147.9L7.3 132.2v-27.7l30.8-24.9 34.5 15.7V123l-30.8 24.9zm0 0v-27.7L7.3 104.5m22 10l8.9-7.2L72.7 123M38.2 79.6v27.7"/></g><path class="st1" d="M17.7 121.8l13.6 6.3v2.6l-13.6-6.3z"/><path class="st1" d="M17.7 121.8l13.6 6.3v2.6l-13.6-6.3z"/><path class="st1" d="M23.6 117l1.9 1v17.4l-1.9-.9z"/><path class="st1" d="M23.6 117l1.9 1v17.4l-1.9-.9z"/></g><path d="M-11.4 72.4v-50l45.4 25-45.4 25zm4.7-42.1v34.2l31-17.1-31-17.1z"/></svg>'
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(588),
        o = r(i),
        a = n(680),
        s = r(a),
        u = n(721),
        c = r(u);
    e.default = {
        "/": s.default,
        "/gallery/:id?/:roomId?/:gif?": c.default,
        "/record/:roomId/:hideHead?": o.default,
        "/:roomId/:id": s.default
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(2),
        s = r(a),
        u = n(3),
        c = r(u),
        l = n(4),
        f = r(l),
        h = n(1),
        d = n(123),
        p = r(d),
        m = n(85),
        v = r(m),
        g = n(613),
        A = r(g),
        y = n(621),
        x = r(y),
        _ = n(625),
        b = r(_),
        w = n(41),
        M = r(w),
        E = n(11),
        S = r(E),
        T = n(78),
        L = r(T),
        C = ["tutorial", "record", "review"],
        P = function(t) {
            function e() {
                (0, s.default)(this, e);
                var n = (0, c.default)(this, t.call(this));
                return n.state = {
                    mode: "tutorial",
                    overlay: !1,
                    count: 0
                }, n.goto = n.goto.bind(n), n.revealOverlay = n.revealOverlay.bind(n), n
            }
            return (0, f.default)(e, t), e.prototype.goto = function(t) {
                S.default.fadeOut();
                var e = this.state.count + 1;
                L.default.recordSectionChange(t), -1 === C.indexOf(t) ? M.default.navigate(t) : this.setState({
                    mode: t,
                    count: e
                })
            }, e.prototype.revealOverlay = function(t) {
                this.setState({
                    overlay: t
                })
            }, e.prototype.render = function(t, e) {
                var n = e.mode,
                    r = e.overlay,
                    i = e.count;
                return (0, h.h)(v.default, null, (0, h.h)(p.default, {
                    about: !0,
                    mute: !0,
                    close: !0,
                    overlay: r,
                    goto: this.goto
                }), "tutorial" === n ? (0, h.h)(A.default, (0, o.default)({}, t, {
                    goto: this.goto,
                    revealOverlay: this.revealOverlay,
                    key: i
                })) : "review" === n ? (0, h.h)(b.default, (0, o.default)({}, t, {
                    goto: this.goto,
                    key: i
                })) : (0, h.h)(x.default, (0, o.default)({}, t, {
                    goto: this.goto,
                    key: i
                })))
            }, e
        }(h.Component);
    e.default = P
}, function(t, e) {}, function(t, e) {}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><path d="M40.417 64.685L24.975 49.579h-12.71v-19.11h12.75l15.373-15.172.029 49.388zM15.364 46.479h10.875l11.074 10.832-.021-34.604-11.005 10.861H15.364v12.911zM49.174 38.474h17.012v3.1H49.174zM58.48 19.915l2.177 2.206L49.24 33.392l-2.178-2.206zM49.24 46.763l11.418 11.27-2.179 2.208L47.061 48.97z"/></svg>'
}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><path d="M40.417 64.685L24.975 49.579h-12.71v-19.11h12.75l15.373-15.172.029 49.388zM15.364 46.479h10.875l11.074 10.832-.021-34.604-11.005 10.861H15.364v12.911z"/></svg>'
}, function(t, e) {}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><path d="M52.6 59.3c-2.3 0-7-1.8-8-8.6l-3.2-18.2c0-.2-.1-.4-.5-.5h-1.8c-.4 0-.5.3-.5.4l-3.2 18.3c-.9 6.8-5.6 8.5-8 8.5H8.9c-7 0-8.8-5.8-8.8-8.8V28.8c0-7 5.8-8.8 8.8-8.8h62.3c3 0 8.8 1.8 8.8 8.8v21.7c0 3-1.8 8.8-8.8 8.8H52.6zM39.1 29h1.8c1 0 3.1.6 3.5 3l3.2 18.3c.8 6 4.8 6.1 5 6.1h18.5c5.6 0 5.8-5.2 5.8-5.8V28.8c0-5.6-5.2-5.8-5.8-5.8H8.9c-.6 0-5.8.2-5.8 5.8v21.7c0 .6.2 5.8 5.8 5.8h18.5c.4 0 4.2-.3 5-6L35.6 32c.4-2.4 2.5-3 3.5-3zm22.5 19.4c-4.8 0-8.8-3.9-8.8-8.8s3.9-8.8 8.8-8.8 8.8 3.9 8.8 8.8-4 8.8-8.8 8.8zm0-14.5c-3.2 0-5.8 2.6-5.8 5.8s2.6 5.8 5.8 5.8 5.8-2.6 5.8-5.8-2.6-5.8-5.8-5.8zM18.4 48.4c-4.8 0-8.8-3.9-8.8-8.8s3.9-8.8 8.8-8.8c4.8 0 8.8 3.9 8.8 8.8s-4 8.8-8.8 8.8zm0-14.5c-3.2 0-5.8 2.6-5.8 5.8s2.6 5.8 5.8 5.8c3.2 0 5.8-2.6 5.8-5.8s-2.6-5.8-5.8-5.8z"/></svg>'
}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><path d="M8.244 71.88l-2.122-2.122L71.76 4.12l2.121 2.122zM71.135 20H62.95l-3 3h11.178c.594.005 5.802.214 5.802 5.795v21.681c0 .593-.163 5.794-5.795 5.794H52.598c-.45-.011-4.219-.274-5.034-6.065l-2.208-12.61-2.591 2.591 1.837 10.487c.957 6.801 5.644 8.598 7.988 8.598h18.546c6.957 0 8.795-5.752 8.795-8.794V28.795C79.93 21.838 74.177 20 71.135 20zM39.101 28.961c-1.042 0-3.106.622-3.461 2.944l-1.168 6.673 3.692-3.692.437-2.496c.02-.132.062-.407.501-.43h1.764c.078.004.129.023.185.039l2.169-2.169a3.785 3.785 0 0 0-2.321-.87h-1.798z"/><path d="M61.591 48.448c4.829 0 8.758-3.929 8.758-8.758s-3.929-8.759-8.758-8.759-8.758 3.929-8.758 8.759 3.929 8.758 8.758 8.758zm0-14.517c3.175 0 5.758 2.583 5.758 5.759s-2.583 5.758-5.758 5.758-5.758-2.583-5.758-5.758 2.583-5.759 5.758-5.759zM18.408 30.931c-4.83 0-8.758 3.929-8.758 8.759s3.929 8.758 8.758 8.758c4.829 0 8.758-3.929 8.758-8.758s-3.929-8.759-8.758-8.759zm0 14.517c-3.175 0-5.758-2.583-5.758-5.758s2.583-5.759 5.758-5.759 5.758 2.583 5.758 5.759-2.583 5.758-5.758 5.758z"/><path d="M13.78 59.27l3-3H8.865c-5.581 0-5.79-5.207-5.795-5.794V28.795c0-5.581 5.208-5.79 5.795-5.795H50.05l3-3H8.865C5.823 20 .07 21.838.07 28.795v21.681c0 3.042 1.838 8.794 8.795 8.794h4.915zM32.368 50.581c-.909 5.43-4.55 5.68-4.958 5.689h-.731l-3 3h3.731c2.345 0 7.032-1.797 7.98-8.548l.671-3.835-3.693 3.694z"/></svg>'
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(1);
    n(597);
    var s = n(598),
        u = r(s),
        c = n(19),
        l = r(c);
    e.default = function(t) {
        return (0, a.h)(l.default, (0, o.default)({}, t, {
            icon: u.default
        }))
    }
}, function(t, e) {}, function(t, e) {
    t.exports = '<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 80 80"><style>.st0{display:none}.st1{display:inline}.st2,.st3{stroke:#000}.st2{clip-path:url(#SVGID_2_);stroke-width:3}.st3{display:inline}</style><g id="ADD" class="st0"><g class="st1"><defs><path id="SVGID_1_" d="M5.8 77.9h68.3v71.8H5.8z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" overflow="visible"/></clipPath><path class="st2" d="M41.8 147.9L7.3 132.2v-27.7l30.8-24.9 34.5 15.7V123l-30.8 24.9zm0 0v-27.7L7.3 104.5m22 10l8.9-7.2L72.7 123M38.2 79.6v27.7"/></g><path class="st1" d="M17.7 121.8l13.6 6.3v2.6l-13.6-6.3z"/><path class="st3" d="M17.7 121.8l13.6 6.3v2.6l-13.6-6.3z"/><path class="st1" d="M23.6 117l1.9 1v17.4l-1.9-.9z"/><path class="st3" d="M23.6 117l1.9 1v17.4l-1.9-.9z"/></g><path class="st4" d="M40 11.5c-15.7 0-28.5 12.8-28.5 28.5S24.3 68.5 40 68.5 68.5 55.7 68.5 40 55.7 11.5 40 11.5zm0 54c-14.1 0-25.5-11.4-25.5-25.5S25.9 14.5 40 14.5 65.5 25.9 65.5 40 54.1 65.5 40 65.5z"/><path class="st4" d="M40 52.1c-1.6 0-2.8 1.2-2.8 2.8 0 1.6 1.2 2.8 2.8 2.8 1.6 0 2.8-1.2 2.8-2.8 0-1.5-1.2-2.8-2.8-2.8zM40.7 22.3c-6 0-10.4 4.1-10.7 9.8h3.8c.2-3.3 2-7 6.9-7 4.1 0 6.8 2.6 6.8 6.5 0 3.1-1.8 4.7-4.9 7-3.8 2.9-4.7 4.5-4.7 8.6v.5h3.6c0-3.8.1-4.6 4.6-7.9 2.6-2 5.2-4.3 5.2-8.4.1-5.2-4.5-9.1-10.6-9.1z"/></svg>'
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(1);
    n(600);
    var s = n(601),
        u = r(s),
        c = n(19),
        l = r(c),
        f = n(10),
        h = r(f),
        d = function() {
            return Math.floor(Math.random() * (h.default.roomCount - 2)) + 2
        };
    e.default = function(t) {
        return (0, a.h)(l.default, (0, o.default)({}, t, {
            icon: u.default,
            label: "Add your dance",
            navigate: "/record/" + d() + "/head=yes/"
        }))
    }
}, function(t, e) {}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><path d="M42 75.9L5.8 59.5V30L37.9 4.1l36.2 16.4v29.4L42 75.9zM8.8 57.5l31.5 14.3V47.4L8.8 33.1v24.4zm23.3-17.1l11.2 5.1V71l26.5-21.4-31.4-14.3-6.3 5.1zm7.6-7.8l31.5 14.3V22.5L39.7 8.2v24.4zm-29.5-2.2L29.1 39l7.6-6.2V9L10.2 30.4z"/><path d="M26 51.3v-7.4l-3-1.4v7.4l-5.8-2.7v3.7l5.8 2.8v7.4l3 1.4V55l5.8 2.8V54z"/></svg>'
}, function(t, e) {}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="80" viewBox="20 0 40 80"><path d="M56.632 25.631l-2.264-2.262L40 37.737 25.631 23.369l-2.262 2.262L37.737 40 23.369 54.368l2.262 2.264L40 42.263l14.368 14.369 2.264-2.264L42.263 40z"/></svg>'
}, function(t, e) {}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(23),
        s = r(a),
        u = n(2),
        c = r(u),
        l = n(3),
        f = r(l),
        h = n(4),
        d = r(h),
        p = n(1),
        m = n(607),
        v = r(m);
    n(608);
    var g = n(124),
        A = r(g),
        y = n(248),
        x = r(y),
        _ = n(13),
        b = r(_),
        w = n(11),
        M = r(w),
        E = n(41),
        S = r(E),
        T = n(612),
        L = r(T),
        C = void 0,
        P = function(t) {
            function e() {
                (0, c.default)(this, e);
                var n = (0, f.default)(this, t.call(this));
                return n.state = {}, n.receiveContentElement = n.receiveContentElement.bind(n), n
            }
            return (0, d.default)(e, t), e.prototype.componentWillMount = function() {
                var t = this;
                this.mounted = !0;
                var e = document.body.classList;
                e.remove("mod-overflow-hidden"), e.add("mod-about"), b.default.isMobile ? M.default.pause() : M.default.fadeOut().then(function() {
                    t.mounted && M.default.pause()
                }), this.asyncMount()
            }, e.prototype.shouldComponentUpdate = function(t, e) {
                return e.content !== this.state.content
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1;
                var t = document.body.classList;
                t.add("mod-overflow-hidden"), t.remove("mod-about"), M.default.play()
            }, e.prototype.receiveContentElement = function(t) {
                var e = this;
                t && setTimeout(function() {
                    t.querySelector(".gallery-link").addEventListener("click", function() {
                        e.props.onClose(), S.default.navigate("/gallery/")
                    })
                })
            }, e.prototype.asyncMount = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, s.default)(o.default.mark(function t() {
                    var e;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (C) {
                                    t.next = 8;
                                    break
                                }
                                return t.next = 3, fetch(L.default, {
                                    credentials: "same-origin"
                                });
                            case 3:
                                return e = t.sent, t.next = 6, e.text();
                            case 6:
                                C = t.sent, C = C.replace(/<a\s+href="http(s)*:\/\//gi, '<a target="_blank" href="http://');
                            case 8:
                                if (this.mounted) {
                                    t.next = 10;
                                    break
                                }
                                return t.abrupt("return");
                            case 10:
                                this.setState({
                                    content: C
                                });
                            case 11:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.render = function() {
                return (0, p.h)(v.default, {
                    into: "body"
                }, (0, p.h)("div", {
                    className: "about"
                }, (0, p.h)(A.default, {
                    onClick: this.props.onClose,
                    dark: !0
                }), C && (0, p.h)("div", {
                    className: "about-content",
                    ref: this.receiveContentElement,
                    dangerouslySetInnerHTML: {
                        __html: C
                    }
                }), C && (0, p.h)("div", {
                    className: "about-content mod-colophon"
                }, (0, p.h)(x.default, null), (0, p.h)("div", {
                    className: "privacy-and-terms"
                }, (0, p.h)("a", {
                    href: "https://www.google.com/policies/privacy/",
                    target: "_blank",
                    rel: "noreferrer noopener"
                }, "Privacy"), " | ", (0, p.h)("a", {
                    href: "https://www.google.com/policies/terms/",
                    target: "_blank",
                    rel: "noreferrer noopener"
                }, "Terms")))))
            }, e
        }(p.Component);
    e.default = P
}, function(t, e, n) {
    ! function(e, r) {
        t.exports = r(n(1))
    }(0, function(t) {
        "use strict";
        var e = function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            },
            n = function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            },
            r = function(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            },
            i = function(i) {
                function a() {
                    return e(this, a), r(this, i.apply(this, arguments))
                }
                return n(a, i), a.prototype.componentDidUpdate = function(t) {
                    for (var e in t)
                        if (t[e] !== this.props[e]) return this.renderLayer()
                }, a.prototype.componentDidMount = function() {
                    this.renderLayer()
                }, a.prototype.componentWillUnmount = function() {
                    this.renderLayer(!1), this.remote && this.remote.parentNode.removeChild(this.remote)
                }, a.prototype.findNode = function(t) {
                    return "string" == typeof t ? document.querySelector(t) : t
                }, a.prototype.renderLayer = function() {
                    var e = arguments.length <= 0 || void 0 === arguments[0] || arguments[0];
                    this.props.into !== this.intoPointer && (this.intoPointer = this.props.into, this.into && this.remote && (this.remote = t.render(t.h(o, null), this.into, this.remote)), this.into = this.findNode(this.props.into)), this.remote = t.render(t.h(o, {
                        context: this.context
                    }, e && this.props.children || null), this.into, this.remote)
                }, a.prototype.render = function() {
                    return null
                }, a
            }(t.Component),
            o = function(t) {
                function i() {
                    return e(this, i), r(this, t.apply(this, arguments))
                }
                return n(i, t), i.prototype.getChildContext = function() {
                    return this.props.context
                }, i.prototype.render = function(t) {
                    var e = t.children;
                    return e && e[0] || null
                }, i
            }(t.Component);
        return i
    })
}, function(t, e) {}, function(t, e) {}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="1036.3 -49.3 662.9 324.8"><path d="M1037 46.3c-.4-1.3-.8-3.6-.8-4.5 0-3.4 2.1-5.4 5.7-5.4 2.5 0 4.7 1.3 5.5 4.4l14.9 57.7 16-57.4c.7-2.5 2.4-3.8 5.1-3.8 2.5 0 4.2 1.3 4.9 3.8l16 57.7 14.9-57.9c.8-3.1 3-4.4 5.5-4.4 3.6 0 5.7 2.1 5.7 5.4 0 .9-.5 3.2-.8 4.5l-19.5 74.6c-.7 2.8-2.6 4.1-5.4 4.1-2.8 0-4.9-1.3-5.7-4.1l-15.8-58-15.7 57.8c-.7 2.8-2.9 4.1-5.7 4.1-2.8 0-4.5-1.3-5.4-4.1L1037 46.3zm110.8 49.8c1.9 10.3 9.8 17.8 20.7 17.8 5.7 0 11.7-1.1 17.1-4.9 1.4-.9 3-1.7 4.7-1.7 3.7 0 5.3 2.6 5.3 5.5 0 2.2-1.2 4-2.9 5.4-6.1 5.1-16.7 7-24.1 7-21.1 0-32.7-15.1-32.7-34.3 0-18.1 11.4-34 31.7-34 18.4 0 31.2 13.2 31.2 33.5 0 3.1-1.9 5.8-5.7 5.8l-45.3-.1zm-.1-10.5h38.9c-1.3-10.7-8.3-17.5-19.1-17.5-10.9 0-18 7.3-19.8 17.5zm76.6 30.6v2.5c0 3.8-2.9 5.9-5.8 5.9s-5.8-2.1-5.8-5.9V42.1c0-4 3-5.9 5.8-5.9s5.8 1.9 5.8 5.9v23.6c4.5-5.5 11.2-8.9 19.9-8.9 20.7 0 31.7 15.8 31.7 34.2s-11.5 34.1-31.7 34.1c-8.7 0-15.3-3.3-19.9-8.9zm40.1-25.2c0-12.3-7.5-22.9-20.2-22.9-12.4 0-19.6 10.2-19.9 22.1V92c.4 11.8 7.5 21.9 19.9 21.9 12.7-.1 20.2-10.6 20.2-22.9zm18.9-45.3c-.6-1.4-1.1-3.1-1.1-4.1 0-3.2 2.3-5.4 5.9-5.4 2.6 0 4.4 1.2 5.3 3.5l22.9 63.7 22.8-63.7c.8-2.3 2.6-3.5 5.3-3.5 3.6 0 5.9 2.2 5.9 5.4 0 .9-.5 2.6-1.1 4.1l-27.4 75.1c-.9 2.6-2.8 4.1-5.5 4.1-2.9 0-4.5-1.4-5.7-4.1l-27.3-75.1zm104.1 41.5h-14.8v31.6c0 3.8-2.9 5.9-5.8 5.9s-5.8-2.1-5.8-5.9V42.6c0-4 3-5.9 5.8-5.9h30.3c13.9 0 25.3 9.4 25.3 24.7 0 13.9-9.2 23.6-21.1 25.4l20.1 27.4c.9 1.3 1.8 3.1 1.8 4.8 0 3.2-2.6 5.5-5.9 5.5-1.7 0-3.6-.7-5.1-2.5l-24.8-34.8zM1372.6 48v27.9h24.5c7.2 0 13.7-5.4 13.7-14.4 0-8.9-6.5-13.4-13.7-13.4h-24.5zm-305-96.9c2.1 0 3.3 1.7 3.3 3.2 0 1.5-1.2 3.1-3.3 3.1h-10.9v38.7c0 2.1-1.6 3.2-3.2 3.2s-3.2-1.1-3.2-3.2v-38.7h-10.9c-2.1 0-3.3-1.7-3.3-3.2 0-1.5 1.2-3.1 3.3-3.1h28.2zm8.8 3c0-2.2 1.7-3.2 3.2-3.2 1.5 0 3.2 1.1 3.2 3.2v13c2-3 6-4.9 10.4-4.9 9.7 0 15.1 5.4 15.1 16v18.1c0 2.2-1.7 3.2-3.2 3.2-1.6 0-3.2-1.1-3.2-3.2v-18.1c0-6.3-4-9.8-9.6-9.8-5.1 0-9.5 4.2-9.5 10.6v17.2c0 2.1-1.6 3.2-3.2 3.2s-3.2-1.1-3.2-3.2v-42.1zm40.9.6c0-2.3 1.8-4 4.1-4s4.1 1.7 4.1 4-1.8 4-4.1 4-4.1-1.8-4.1-4zm.9 11.2c0-2.3 1.7-3.3 3.2-3.3s3.2 1.1 3.2 3.3v30.2c0 2.1-1.6 3.2-3.2 3.2s-3.2-1.1-3.2-3.2v-30.2zm36.1 12.4c7.1 1.3 11.1 4.5 11.1 10.8 0 6.5-5.4 10.5-14.1 10.5-6.6 0-14.6-3.9-14.6-7.4 0-1.6.9-3 2.7-3 1.4 0 2.5.7 3.6 1.5 2.3 1.8 4.9 3 9.2 3 4.1 0 6.8-1.7 6.8-4.6 0-3.2-2.7-4.2-6.6-4.9l-3.6-.7c-6.1-1.1-11.1-4.2-11.1-11 0-5.9 5.5-10.4 13-10.4 6 0 14.1 3.1 14.1 6.8 0 1.6-.9 3-2.7 3-2.3 0-5.8-4-11.9-4-3.4 0-6 1.7-6 4.5 0 3 2.9 4.5 6.5 5.1l3.6.8zm38.3-23.6c0-2.3 1.8-4 4.1-4s4.1 1.7 4.1 4-1.8 4-4.1 4-4.1-1.8-4.1-4zm.9 11.2c0-2.3 1.7-3.3 3.2-3.3 1.5 0 3.2 1.1 3.2 3.3v30.2c0 2.1-1.6 3.2-3.2 3.2s-3.2-1.1-3.2-3.2v-30.2zm31 12.4c7.1 1.3 11.1 4.5 11.1 10.8 0 6.5-5.4 10.5-14.1 10.5-6.6 0-14.6-3.9-14.6-7.4 0-1.6.9-3 2.7-3 1.4 0 2.5.7 3.6 1.5 2.3 1.8 4.9 3 9.2 3 4.1 0 6.8-1.7 6.8-4.6 0-3.2-2.7-4.2-6.6-4.9l-3.6-.7c-6.1-1.1-11.1-4.2-11.1-11 0-5.9 5.5-10.4 13-10.4 6 0 14.1 3.1 14.1 6.8 0 1.6-.9 3-2.7 3-2.3 0-5.8-4-11.9-4-3.4 0-6 1.7-6 4.5 0 3 2.9 4.5 6.5 5.1l3.6.8zm73.1 17.8c0 2.1-1.6 3.2-3.2 3.2s-3.2-1.1-3.2-3.2v-1.4c-2.5 3-6.1 4.9-10.9 4.9-11.3 0-17.4-8.7-17.4-18.8s6-18.7 17.4-18.7c4.7 0 8.4 1.9 10.9 4.9v-1.1c0-2.3 1.6-3.3 3.2-3.3 1.5 0 3.2 1.1 3.2 3.3v30.2zm-17.3-27.8c-6.9 0-11.1 5.8-11.1 12.5 0 6.8 4.1 12.6 11.1 12.6 6.7 0 10.9-5.7 10.9-12.6 0-6.7-4-12.5-10.9-12.5zm-244.1 275.6v-75.2c0-4 3-5.9 5.8-5.9h50.1c3.7 0 5.9 3.1 5.9 5.9s-2.2 5.7-5.9 5.7h-44.3v24.7h31.1c3.8 0 5.9 3.1 5.9 5.9 0 2.8-2.1 5.7-5.9 5.7h-31.1v27.6h44.3c3.7 0 5.9 3.1 5.9 5.9s-2.2 5.7-5.9 5.7H1042c-2.9-.1-5.8-2.1-5.8-6zm95-27.2l-18.8-22.4c-.9-1.2-1.8-3.2-1.8-4.4 0-3.4 2.8-5.9 6-5.9 1.7 0 3.2.6 4.7 2.3l17.9 21.3 17.9-21.3c1.4-1.7 3-2.3 4.7-2.3 3.2 0 6 2.5 6 5.9 0 1.2-.8 3.2-1.8 4.4l-19 22.4 20.2 23.8c1.1 1.2 1.8 3.2 1.8 4.5 0 3.2-2.6 5.8-5.9 5.8-1.8 0-3.4-.5-4.8-2.2l-19.1-22.6-19.1 22.6c-1.4 1.7-3 2.2-4.8 2.2-3.2 0-5.9-2.5-5.9-5.8 0-1.3.7-3.4 1.8-4.5l20-23.8zm60.7 25.6v27.3c0 4-2.9 5.9-5.8 5.9s-5.8-1.9-5.8-5.9v-79.7c0-4.1 3-6 5.8-6s5.8 1.9 5.8 6v1.9c4.5-5.5 11.2-8.9 19.9-8.9 20.7 0 31.7 15.8 31.7 34.2s-11.5 34.1-31.7 34.1c-8.7 0-15.3-3.3-19.9-8.9zm40.1-25.2c0-12.3-7.5-22.9-20.2-22.9-12.4 0-19.6 10.2-19.9 22.1v1.8c.4 11.8 7.5 21.9 19.9 21.9 12.7 0 20.2-10.6 20.2-22.9zm35.2 5.1c1.9 10.3 9.8 17.8 20.7 17.8 5.7 0 11.7-1.1 17.1-4.9 1.4-.9 3-1.7 4.7-1.7 3.7 0 5.3 2.6 5.3 5.5 0 2.2-1.2 4-2.9 5.4-6.1 5.1-16.7 7-24.1 7-21.1 0-32.7-15.1-32.7-34.3 0-18.1 11.4-34 31.7-34 18.4 0 31.2 13.2 31.2 33.5 0 3.1-1.9 5.8-5.7 5.8l-45.3-.1zm-.1-10.5h38.9c-1.3-10.7-8.3-17.5-19.1-17.5-10.9 0-18 7.3-19.8 17.5zm66.7-21.8c0-4.1 3-6 5.8-6s5.8 1.9 5.8 6v2.1c3.1-5.5 8.7-9 15.1-9 4.8 0 8.7 1.4 8.7 6.1 0 3.8-2.2 6.1-5.1 6.1-1.4 0-3.1-.7-4.8-.7-6.6 0-13.9 7.2-13.9 21.1v29.3c0 3.8-2.9 5.9-5.8 5.9s-5.8-2.1-5.8-5.9v-55zm49-20.6c0-4.2 3.2-7.2 7.4-7.2s7.4 3 7.4 7.2-3.2 7.3-7.4 7.3-7.4-3.1-7.4-7.3zm1.7 20.6c0-4.1 3-6 5.8-6s5.8 1.9 5.8 6v55c0 3.8-2.9 5.9-5.8 5.9s-5.8-2.1-5.8-5.9v-55zm102.7 21.6c0-10.4-3.7-17.1-12.6-17.1-8.7 0-12.8 6.2-12.8 18.4v32c0 4-3 5.9-5.8 5.9s-5.8-1.9-5.8-5.9v-33.4c0-10.4-3.7-17.1-12.6-17.1-8.4 0-12.8 6-12.8 17.5v32.9c0 3.8-2.9 5.9-5.8 5.9s-5.8-2.1-5.8-5.9v-55c0-4.1 3-6 5.8-6s5.8 1.9 5.8 6v.2c3-4.3 8.1-7.2 15.1-7.2 8.3 0 14.3 3 17.9 9.5 3.5-5.5 9.6-9.5 18.5-9.5 14.4 0 22.4 8.8 22.4 28.6v33.4c0 4-3 5.9-5.8 5.9s-5.8-1.9-5.8-5.9v-33.2h.1zm35.3 10.7c1.9 10.3 9.8 17.8 20.7 17.8 5.7 0 11.7-1.1 17.1-4.9 1.4-.9 3-1.7 4.7-1.7 3.7 0 5.3 2.6 5.3 5.5 0 2.2-1.2 4-2.9 5.4-6.1 5.1-16.7 7-24.1 7-21.1 0-32.7-15.1-32.7-34.3 0-18.1 11.4-34 31.7-34 18.4 0 31.2 13.2 31.2 33.5 0 3.1-1.9 5.8-5.7 5.8l-45.3-.1zm-.1-10.5h38.9c-1.3-10.7-8.3-17.5-19.1-17.5-10.9 0-18 7.3-19.8 17.5zm64.7-21.8c0-4.1 3-6 5.8-6s5.8 1.9 5.8 6v2.1c3.6-5.5 10.9-9 19-9 17.7 0 27.5 9.8 27.5 29v32.9c0 4-3 5.9-5.8 5.9-2.9 0-5.9-1.9-5.9-5.9V212c0-11.5-7.3-17.8-17.5-17.8-9.2 0-17.3 7.7-17.3 19.3v31.3c0 3.8-2.9 5.9-5.8 5.9s-5.8-2.1-5.8-5.9v-54.9zm80.9-5.2v-15.5c0-3.8 2.8-5.9 5.8-5.9 2.9 0 5.8 2.1 5.8 5.9v15.5h12.5c3.8 0 5.9 2.8 5.9 5.7 0 2.8-2.1 5.9-5.9 5.9h-12.5v35.1c0 4.9 2.1 8.5 7.1 8.5 1.7 0 3.1-.6 4.5-.9.9-.4 1.8-.5 2.6-.5 3.6 0 5.4 2.2 5.4 5.5 0 2.3-1.2 3.8-2.8 4.9-2.6 1.7-6.8 2.2-10.7 2.2-12.7 0-17.8-7.2-17.8-19.6v-35.2h-5.4c-3.7 0-5.9-3.1-5.9-5.9 0-2.9 2.2-5.7 5.9-5.7h5.5z" fill="#FF0"/></svg>'
}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="249.3 209.7 294.5 192.6"><path fill="#FF0" d="M321.7 340.2c.3 1.8.5 3.8.5 6 0 7.6-2.1 17.2-8.9 23.9-6.6 6.9-15 10.5-26.1 10.5-20.6 0-37.9-16.8-37.9-37.4s17.3-37.4 37.9-37.4c11.4 0 19.5 4.5 25.7 10.3l-7.2 7.2c-4.4-4.1-10.3-7.3-18.5-7.3-15.1 0-26.8 12.1-26.8 27.2s11.7 27.2 26.8 27.2c9.7 0 15.3-3.9 18.9-7.5 2.9-2.9 4.8-7 5.5-12.5h-24.4v-10.2h34.5zm52.8 16.3c0 13.8-10.8 24.1-24.1 24.1s-24-10.2-24-24.1c0-14 10.8-24.1 24-24.1 13.4.1 24.1 10.2 24.1 24.1zm-10.5 0c0-8.7-6.3-14.6-13.5-14.6-7.3 0-13.5 6-13.5 14.6s6.3 14.6 13.5 14.6c7.3 0 13.5-6 13.5-14.6zm62.8 0c0 13.8-10.8 24.1-24.1 24.1s-24.1-10.2-24.1-24.1c0-14 10.8-24.1 24.1-24.1 13.3.1 24.1 10.2 24.1 24.1zm-10.5 0c0-8.7-6.3-14.6-13.5-14.6s-13.5 6-13.5 14.6 6.3 14.6 13.5 14.6 13.5-6 13.5-14.6zm60.6-22.6v43.3c0 17.8-10.5 25.1-22.9 25.1-11.7 0-18.7-7.9-21.3-14.2l9.2-3.9c1.6 3.9 5.6 8.6 12.1 8.6 8 0 12.8-4.9 12.8-14.1v-3.5h-.4c-2.4 2.9-7 5.5-12.7 5.5-12.1 0-23-10.5-23-24 0-13.6 11-24.2 23-24.2 5.7 0 10.3 2.5 12.7 5.4h.4V334h10.1zm-9.3 22.7c0-8.5-5.9-14.7-13.1-14.7s-13.1 6.2-13.1 14.7c0 8.4 5.8 14.5 13.1 14.5 7.2 0 13.1-6.1 13.1-14.5zm26.8-47.7v70.3H484v-70.3h10.4zm40.7 55.6l8.2 5.5c-2.6 3.9-9 10.7-20.1 10.7-13.7 0-23.9-10.6-23.9-24.1 0-14.3 10.3-24.1 22.7-24.1 12.5 0 18.6 10 20.6 15.3l1.1 2.7-32.2 13.3c2.5 4.9 6.3 7.3 11.7 7.3 5.4 0 9.2-2.6 11.9-6.6zm-25.3-8.7l21.6-9c-1.2-3-4.7-5.1-9-5.1-5.4.1-12.9 4.8-12.6 14.1zM253.7 211.1l9.5 22.6 9.5-22.6h2.9v25.7h-2.2v-11.1l.2-11.4-9.6 22.6h-1.6l-9.5-22.6.2 11.4v11.2h-2.2v-25.7l2.8-.1zm39.8 25.7c-.2-.3-.2-.7-.3-1.2-.1-.5-.1-.9-.2-1.5-.3.4-.7.8-1.2 1.2-.5.4-.9.7-1.5.9-.5.3-1.2.5-1.8.6-.6.2-1.3.2-2.1.2-.9 0-1.8-.2-2.6-.4s-1.4-.6-1.9-1.2c-.5-.5-.9-1.1-1.2-1.7-.3-.7-.5-1.4-.5-2.2 0-.9.2-1.8.6-2.5.4-.8 1-1.4 1.7-1.9.8-.5 1.7-.9 2.7-1.2 1.1-.3 2.3-.4 3.6-.4h3.9v-2.2c0-1.4-.4-2.5-1.2-3.2-.9-.8-2.1-1.2-3.7-1.2-.8 0-1.4.1-2 .3-.6.2-1.2.5-1.6.9-.5.4-.8.8-1.1 1.2-.2.5-.4.9-.4 1.5h-2.1c0-.7.2-1.4.5-2.1.4-.7.9-1.2 1.5-1.8.6-.5 1.4-.9 2.3-1.2.9-.3 1.9-.5 3-.5 1 0 1.9.2 2.8.4.9.2 1.6.6 2.2 1.2.6.5 1.1 1.2 1.4 1.9.3.8.5 1.7.5 2.7v10.3c0 .4.1.7.1 1 .1.3.1.6.2.9.1.3.2.5.2.8v.2h-2l.2.2zm-6.7-1.5c.8 0 1.5-.1 2.2-.3.6-.2 1.2-.5 1.8-.8.5-.3 1-.8 1.4-1.2.4-.5.7-.9.9-1.5v-4.2h-3.6c-1.1 0-2.1.1-2.9.3s-1.5.5-2.2.9c-.6.4-1 .8-1.3 1.3-.3.5-.5 1.1-.5 1.8 0 .5.1 1 .3 1.5.2.5.5.9.9 1.2.4.3.9.6 1.3.8.5.1 1 .2 1.7.2zm12.9-8.2c0-1.5.2-2.8.5-4 .3-1.2.9-2.2 1.5-3.1.6-.9 1.4-1.5 2.3-1.9s1.9-.7 3.1-.7c1.3 0 2.6.3 3.5.9 1 .5 1.8 1.3 2.4 2.2v-10.7h2.1v27.1h-2l-.1-2.5c-.6.9-1.5 1.6-2.4 2.2-1 .5-2.2.8-3.6.8-1.2 0-2.2-.2-3-.7-.9-.5-1.7-1.2-2.3-2-.6-.9-1.2-1.9-1.5-3.1a16 16 0 0 1-.5-3.9v-.6zm2.2.4c0 1.1.1 2.2.3 3.1.2.9.5 1.8 1 2.5s1 1.2 1.7 1.6c.7.4 1.5.6 2.5.6.7 0 1.4-.1 1.9-.2.6-.2 1.1-.4 1.5-.7.5-.3.9-.7 1.2-1.1s.6-.9.9-1.4v-9c-.2-.5-.5-.9-.8-1.4-.3-.5-.7-.9-1.2-1.2-.5-.3-.9-.6-1.5-.9-.6-.2-1.2-.3-2-.3-1 0-1.9.2-2.5.6s-1.3.9-1.8 1.7c-.5.7-.8 1.5-1 2.5s-.3 2-.3 3.1v.4l.1.1zm25.9 9.6c-1.2 0-2.4-.2-3.5-.7-1.1-.5-1.9-1.1-2.7-1.9s-1.3-1.8-1.8-2.9c-.4-1.2-.6-2.4-.6-3.8v-.8c0-1.5.2-2.8.7-4 .5-1.2 1-2.2 1.8-3 .8-.9 1.6-1.5 2.6-1.9 1-.5 2-.7 3.1-.7 1.2 0 2.3.2 3.2.6.9.5 1.7 1 2.4 1.9.6.8 1.2 1.7 1.5 2.8s.5 2.2.5 3.5v1.3h-13.6v.4c0 1.1.2 2 .5 2.9.3.9.8 1.7 1.3 2.4s1.2 1.2 2.1 1.6c.8.4 1.7.6 2.6.6 1.2 0 2.2-.2 3-.6.9-.4 1.6-1.1 2.3-2l1.3 1c-.3.5-.7.9-1.1 1.3-.4.4-.9.8-1.5 1.1-.5.3-1.2.5-1.9.7-.5.2-1.3.2-2.2.2zm-.3-17.9c-.8 0-1.5.2-2.2.5-.7.3-1.3.8-1.8 1.3s-.9 1.2-1.3 2c-.3.8-.5 1.7-.7 2.6h11.4v-.2c0-.8-.2-1.5-.4-2.3-.2-.8-.5-1.4-1-2-.5-.5-1-1-1.7-1.4-.6-.3-1.4-.5-2.3-.5zm24.6 13.2l.3 1.6.4-1.7 4.6-14.6h1.8l4.6 14.5.5 2 .4-1.9 3.9-14.6h2.2l-5.6 19.1h-1.8l-4.9-15.1-.2-1-.2 1.1-4.8 15.1h-1.8l-5.6-19.1h2.2l4 14.6zm22.3-20.2c0-.4.2-.8.4-1 .2-.3.6-.4 1.1-.4.5 0 .8.2 1.1.4.2.3.4.6.4 1s-.2.8-.4 1c-.2.3-.6.4-1.1.4-.5 0-.8-.2-1.1-.4-.2-.2-.4-.5-.4-1zm2.6 24.6h-2.1v-19.1h2.1v19.1zm8.8-23.9v4.9h3.9v1.7h-3.9v12.8c0 .7.1 1.2.2 1.6s.3.7.5.9c.2.2.5.4.8.5.3.1.6.1.9.1.3 0 .6 0 .9-.1.3-.1.5-.1.8-.1l.1 1.7c-.2.1-.6.2-1 .2-.4.1-.9.1-1.2.1-.6 0-1.2-.1-1.7-.2-.5-.2-.9-.5-1.3-.9s-.6-.9-.8-1.5c-.2-.6-.3-1.5-.3-2.4v-12.7h-3.5v-1.7h3.5v-4.9h2.1zm10.3 8.1c.3-.5.7-1 1.2-1.5s.9-.9 1.5-1.2 1.1-.5 1.7-.7c.6-.2 1.2-.2 1.9-.2.9 0 1.8.2 2.5.4.8.2 1.4.7 1.9 1.2s.9 1.3 1.2 2.2c.3.9.4 1.9.4 3.2v12.4h-2.1v-12.4c0-1-.1-1.8-.3-2.5-.2-.7-.5-1.2-.9-1.6-.4-.4-.9-.7-1.4-.9-.5-.2-1.2-.2-1.9-.2-.8 0-1.5.2-2 .4-.6.2-1.2.6-1.6 1-.5.4-.9.9-1.2 1.5-.3.5-.6 1.1-.9 1.7v13.1H394v-27.1h2.1V221zm-134.3 54.3c0-.4-.1-.8-.2-1.2-.2-.4-.4-.8-.8-1.1-.4-.3-.9-.7-1.5-1-.7-.3-1.5-.5-2.5-.8-1.1-.2-2-.5-2.9-.8-.9-.3-1.5-.6-2.1-1.1-.5-.4-1-.9-1.3-1.5-.3-.5-.5-1.2-.5-2 0-.7.2-1.4.5-2 .3-.6.8-1.2 1.3-1.6.6-.5 1.3-.9 2.1-1.1.8-.3 1.8-.4 2.8-.4 1.1 0 2.1.2 2.9.5s1.6.7 2.2 1.2c.6.5 1.1 1.1 1.4 1.8.3.7.5 1.5.5 2.2h-2.1c0-.5-.1-1-.3-1.5-.2-.5-.5-.9-.9-1.2-.4-.4-.9-.6-1.5-.9-.6-.2-1.3-.3-2.1-.3s-1.5.1-2.1.3c-.6.2-1.1.5-1.5.8s-.6.7-.8 1.1c-.2.4-.2.8-.2 1.2 0 .4.1.8.2 1.2.2.3.4.7.8 1 .4.3.8.5 1.5.8.7.2 1.5.5 2.6.8 1.2.3 2.2.5 3 .9.9.3 1.5.7 2.1 1.2.5.5.9 1 1.2 1.5.2.6.4 1.2.4 2s-.2 1.5-.5 2.2c-.3.6-.8 1.2-1.4 1.7-.6.5-1.4.9-2.2 1.1-.8.2-1.9.4-2.9.4-1.2 0-2.3-.2-3.2-.5-.9-.3-1.7-.7-2.3-1.2s-1.1-1.2-1.5-1.9c-.3-.7-.5-1.4-.5-2.2h2.1c.1.8.2 1.4.6 1.9.3.5.8.9 1.2 1.2.5.3 1.1.5 1.7.6.6.2 1.2.2 1.9.2.8 0 1.5-.1 2.1-.3.6-.2 1.2-.5 1.5-.8s.7-.7.9-1.1c.1-.4.3-.8.3-1.3zm5.5-4.9c0-1.4.2-2.7.6-3.9.4-1.2 1-2.2 1.7-3 .8-.9 1.6-1.5 2.7-2s2.2-.7 3.5-.7c1.3 0 2.5.2 3.6.7 1.1.5 1.9 1.2 2.7 2s1.3 1.9 1.7 3c.4 1.2.6 2.5.6 3.9v.6c0 1.4-.2 2.7-.6 3.9-.4 1.2-1 2.2-1.7 3-.8.9-1.6 1.5-2.7 2s-2.2.7-3.5.7c-1.3 0-2.5-.2-3.5-.7-1.1-.5-1.9-1.2-2.7-2s-1.3-1.9-1.7-3c-.4-1.2-.6-2.5-.6-3.9l-.1-.6zm2.1.5c0 1.1.2 2 .4 3 .3.9.7 1.8 1.2 2.5s1.2 1.3 2 1.7 1.7.6 2.8.6c1 0 1.9-.2 2.7-.6s1.5-1 2-1.7.9-1.5 1.2-2.5c.3-.9.4-1.9.4-3v-.6c0-1-.2-2-.4-2.9-.3-.9-.7-1.8-1.2-2.5s-1.2-1.3-2-1.7c-.8-.5-1.7-.6-2.8-.6-1 0-1.9.2-2.7.6-.8.5-1.5 1-2 1.7s-.9 1.5-1.2 2.5c-.3.9-.4 1.9-.4 2.9v.6zm21-9.8l.1 3.1c.3-.5.7-1 1.1-1.4.4-.5.9-.8 1.4-1.1.5-.3 1.1-.5 1.7-.7.6-.2 1.2-.2 2-.2 1.4 0 2.6.3 3.6.9 1 .6 1.7 1.5 2.2 2.9.3-.5.7-1 1.1-1.5.5-.5.9-.9 1.5-1.2.5-.3 1.2-.6 1.8-.8.7-.2 1.4-.3 2.2-.3 1 0 1.9.2 2.6.4.8.2 1.5.7 1.9 1.2.5.5.9 1.3 1.2 2.2.3.9.4 1.9.4 3.2v12.4h-2.1v-12.4c0-1-.1-1.9-.3-2.5-.2-.7-.5-1.2-.9-1.6-.4-.4-.9-.7-1.5-.8-.5-.2-1.2-.2-1.9-.2-.9 0-1.7.2-2.3.5-.7.3-1.2.7-1.7 1.2s-.9 1-1.1 1.6c-.2.6-.4 1.2-.5 1.7V280h-2.1v-12.6c0-.9-.1-1.8-.3-2.4-.2-.6-.5-1.2-.9-1.5-.4-.4-.9-.7-1.5-.9-.5-.2-1.2-.2-1.9-.2-.8 0-1.5.2-2.1.4-.6.2-1.2.6-1.6 1-.5.4-.9.9-1.1 1.5-.3.5-.5 1.1-.7 1.7v13h-2.1v-19h1.8v.1zm37.3 19.4c-1.2 0-2.4-.2-3.5-.7-1.1-.5-1.9-1.1-2.7-1.9s-1.3-1.8-1.8-2.9c-.4-1.2-.6-2.4-.6-3.8v-.8c0-1.5.2-2.8.7-4 .5-1.2 1-2.2 1.8-3 .8-.9 1.6-1.5 2.6-1.9 1-.5 2-.7 3.1-.7 1.2 0 2.3.2 3.2.6.9.5 1.7 1 2.4 1.9.6.8 1.2 1.7 1.5 2.8s.5 2.2.5 3.5v1.3h-13.6v.4c0 1.1.2 2 .5 2.9.3.9.8 1.7 1.3 2.4s1.2 1.2 2.1 1.6c.8.4 1.7.6 2.6.6 1.2 0 2.2-.2 3-.6.9-.4 1.6-1.1 2.3-2l1.3 1c-.3.5-.7.9-1.1 1.3-.4.4-.9.8-1.5 1.1-.5.3-1.2.5-1.9.7-.6.1-1.4.2-2.2.2zm-.4-17.9c-.8 0-1.5.2-2.2.5-.7.3-1.3.8-1.8 1.3s-.9 1.2-1.3 2c-.3.8-.5 1.7-.7 2.6h11.4v-.2c0-.8-.2-1.5-.4-2.3-.2-.8-.5-1.4-1-2-.5-.5-1-1-1.7-1.4-.6-.4-1.4-.5-2.3-.5zm21.6 17.6v-17.4h-3.2v-1.7h3.2v-2.4c0-.9.2-1.9.4-2.5.2-.8.6-1.4 1.1-1.9.5-.5 1.1-.9 1.8-1.2.7-.2 1.5-.4 2.4-.4.4 0 .8 0 1.1.1.4.1.8.2 1.2.2l-.2 1.8c-.3-.1-.6-.2-.9-.2-.3 0-.6-.1-1-.1-1.2 0-2.1.4-2.7 1.1-.6.7-1 1.8-1 3.1v2.4h4.6v1.7H351v17.4h-2.1zm19.1-17.3c-.5-.1-.9-.2-1.4-.2-.7 0-1.4.1-1.9.3-.5.2-1.1.5-1.5.9-.5.4-.9.9-1.1 1.4-.3.5-.5 1.1-.7 1.7v13.1h-2.1V261h2.1v3c.5-1.1 1.2-1.9 2.1-2.5.9-.6 2-.9 3.2-.9.2 0 .5 0 .8.1.2.1.5.1.6.2l-.1 2zm3-7.4c0-.4.2-.8.4-1 .2-.3.6-.4 1.1-.4s.8.2 1.1.4c.2.3.4.6.4 1s-.2.8-.4 1c-.2.3-.6.4-1.1.4s-.8-.2-1.1-.4c-.2-.2-.4-.5-.4-1zm2.5 24.7h-2.1v-19.1h2.1v19.1zm13 .3c-1.2 0-2.4-.2-3.5-.7-1.1-.5-1.9-1.1-2.7-1.9-.8-.9-1.3-1.8-1.8-2.9-.4-1.2-.6-2.4-.6-3.8v-.8c0-1.5.2-2.8.7-4 .5-1.2 1-2.2 1.8-3 .8-.9 1.6-1.5 2.6-1.9 1-.5 2-.7 3.1-.7 1.2 0 2.3.2 3.2.6.9.5 1.7 1 2.4 1.9.6.8 1.2 1.7 1.5 2.8s.5 2.2.5 3.5v1.3h-13.6v.4c0 1.1.2 2 .5 2.9.3.9.8 1.7 1.3 2.4s1.2 1.2 2.1 1.6c.8.4 1.7.6 2.6.6 1.2 0 2.2-.2 3-.6s1.6-1.1 2.3-2l1.3 1c-.3.5-.7.9-1.1 1.3-.4.4-.9.8-1.5 1.1-.5.3-1.2.5-1.9.7-.6.1-1.4.2-2.2.2zm-.4-17.9c-.8 0-1.5.2-2.2.5-.7.3-1.3.8-1.8 1.3s-.9 1.2-1.3 2c-.3.8-.5 1.7-.7 2.6h11.4v-.2c0-.8-.2-1.5-.4-2.3s-.5-1.4-1-2c-.5-.5-1-1-1.7-1.4-.7-.4-1.4-.5-2.3-.5zm13.5-1.5l.1 3.2c.3-.5.7-1 1.2-1.5s.9-.9 1.5-1.2c.5-.3 1.1-.5 1.7-.7.6-.2 1.2-.2 1.9-.2.9 0 1.8.2 2.5.4s1.4.7 1.9 1.2.9 1.3 1.2 2.2c.3.9.4 1.9.4 3.2v12.4h-2.1v-12.4c0-1-.1-1.8-.3-2.5-.2-.7-.5-1.2-.9-1.6-.4-.4-.9-.7-1.4-.9-.5-.2-1.2-.2-1.9-.2-.8 0-1.5.2-2 .4-.6.2-1.2.6-1.6 1-.5.4-.8.9-1.2 1.5-.3.5-.6 1.1-.9 1.7v13.1h-2.2v-19.1h2.1zm16.8 9.4c0-1.5.2-2.8.5-4 .3-1.2.9-2.2 1.5-3.1s1.4-1.5 2.3-1.9c.9-.5 1.9-.7 3.1-.7 1.3 0 2.5.3 3.5.9 1 .5 1.8 1.3 2.4 2.2v-10.7h2.1v27.1h-2l-.1-2.6c-.6.9-1.5 1.6-2.4 2.2-1 .5-2.2.8-3.6.8-1.2 0-2.2-.2-3-.7-.9-.5-1.7-1.2-2.3-2s-1.2-1.9-1.5-3.1a16 16 0 0 1-.5-3.9v-.5zm2.1.3c0 1.1.1 2.2.3 3.1.2.9.5 1.8 1 2.5s1 1.2 1.7 1.6c.7.4 1.5.6 2.5.6.7 0 1.4-.1 1.9-.2.6-.2 1.1-.4 1.5-.7.5-.3.9-.7 1.2-1.1.3-.4.6-.9.9-1.4v-9c-.2-.5-.5-.9-.8-1.4s-.7-.9-1.2-1.2c-.5-.3-.9-.6-1.5-.9-.6-.2-1.2-.3-2-.3-1 0-1.9.2-2.5.6-.7.4-1.3.9-1.8 1.7-.5.7-.8 1.5-1 2.5-.2.9-.3 2-.3 3.1v.4l.1.1zm30 4.5c0-.4-.1-.8-.2-1.2-.2-.4-.4-.8-.8-1.1-.4-.3-.9-.7-1.5-1-.7-.3-1.5-.5-2.5-.8-1.1-.2-2-.5-2.9-.8-.9-.3-1.5-.6-2.1-1.1-.5-.4-1-.9-1.3-1.5-.3-.5-.5-1.2-.5-2 0-.7.2-1.4.5-2 .3-.6.8-1.2 1.3-1.6.6-.5 1.3-.9 2.1-1.1.9-.3 1.8-.4 2.8-.4 1.1 0 2.1.2 2.9.5.9.3 1.6.7 2.2 1.2.6.5 1.1 1.1 1.4 1.8.3.7.5 1.5.5 2.2h-2.1c0-.5-.1-1-.3-1.5-.2-.5-.5-.9-.9-1.2-.4-.4-.9-.6-1.5-.9-.6-.2-1.3-.3-2.1-.3-.9 0-1.5.1-2.1.3-.6.2-1.1.5-1.5.8-.4.3-.6.7-.9 1.1-.2.4-.2.8-.2 1.2 0 .4.1.8.2 1.2.2.3.4.7.8 1 .4.3.9.5 1.5.8.7.2 1.5.5 2.6.8 1.2.3 2.2.5 3 .9.9.3 1.5.7 2.1 1.2.5.5.9 1 1.2 1.5.2.6.4 1.2.4 2s-.2 1.5-.5 2.2c-.3.6-.8 1.2-1.4 1.7-.6.5-1.4.9-2.2 1.1-.9.2-1.9.4-2.9.4-1.2 0-2.3-.2-3.2-.5s-1.7-.7-2.3-1.2-1.1-1.2-1.5-1.9c-.3-.7-.5-1.4-.5-2.2h2.1c.1.8.2 1.4.6 1.9.3.5.8.9 1.2 1.2.5.3 1.1.5 1.7.6.6.2 1.2.2 1.9.2.8 0 1.5-.1 2.1-.3.6-.2 1.2-.5 1.5-.8s.7-.7.9-1.1c.4-.4.4-.8.4-1.3zm16.8 4.9v-17.4h-3.2v-1.7h3.2v-2.4c0-.9.2-1.9.4-2.5.2-.8.6-1.4 1.1-1.9.5-.5 1.1-.9 1.8-1.2.7-.2 1.5-.4 2.4-.4.4 0 .8 0 1.1.1.4.1.8.2 1.2.2l-.2 1.8c-.3-.1-.6-.2-.9-.2-.3 0-.6-.1-1-.1-1.2 0-2.1.4-2.7 1.1-.6.7-1 1.8-1 3.1v2.4h4.6v1.7h-4.6v17.4h-2.2zm19.1-17.3c-.5-.1-.9-.2-1.4-.2-.7 0-1.4.1-1.9.3s-1.1.5-1.5.9c-.5.4-.9.9-1.1 1.4-.3.5-.5 1.1-.7 1.7v13.1h-2.2V261h2.1v3c.5-1.1 1.2-1.9 2.1-2.5.9-.6 2-.9 3.2-.9.2 0 .5 0 .8.1.2.1.5.1.6.2v2zm1.7 7.5c0-1.4.2-2.7.6-3.9.4-1.2 1-2.2 1.7-3 .8-.9 1.6-1.5 2.7-2s2.2-.7 3.5-.7c1.3 0 2.5.2 3.6.7 1.1.5 1.9 1.2 2.7 2s1.3 1.9 1.7 3c.4 1.2.6 2.5.6 3.9v.6c0 1.4-.2 2.7-.6 3.9-.4 1.2-1 2.2-1.7 3-.8.9-1.6 1.5-2.7 2s-2.2.7-3.5.7c-1.3 0-2.5-.2-3.5-.7-1.1-.5-1.9-1.2-2.7-2-.8-.9-1.3-1.9-1.7-3-.4-1.2-.6-2.5-.6-3.9l-.1-.6zm2.1.5c0 1.1.2 2 .4 3 .3.9.7 1.8 1.2 2.5s1.2 1.3 2 1.7 1.7.6 2.8.6c1 0 1.9-.2 2.7-.6.8-.4 1.5-1 2-1.7s.9-1.5 1.2-2.5c.3-.9.4-1.9.4-3v-.6c0-1-.2-2-.4-2.9-.3-.9-.7-1.8-1.2-2.5s-1.2-1.3-2-1.7c-.8-.5-1.7-.6-2.8-.6-1 0-1.9.2-2.7.6-.8.5-1.5 1-2 1.7s-.9 1.5-1.2 2.5-.4 1.9-.4 2.9v.6zm21-9.8l.1 3.1c.3-.5.7-1 1.1-1.4.4-.5.8-.8 1.4-1.1s1.1-.5 1.7-.7c.6-.2 1.2-.2 2-.2 1.4 0 2.6.3 3.6.9 1 .6 1.7 1.5 2.2 2.9.3-.5.7-1 1.1-1.5.5-.5.9-.9 1.5-1.2.5-.3 1.2-.6 1.8-.8.7-.2 1.4-.3 2.2-.3 1 0 1.9.2 2.6.4.8.2 1.5.7 1.9 1.2.5.5.9 1.3 1.2 2.2.3.9.4 1.9.4 3.2v12.4h-2.1v-12.4c0-1-.1-1.9-.3-2.5-.2-.7-.5-1.2-.9-1.6-.4-.4-.9-.7-1.5-.8-.5-.2-1.2-.2-1.9-.2-.9 0-1.7.2-2.3.5-.7.3-1.2.7-1.7 1.2s-.8 1-1.1 1.6c-.2.6-.4 1.2-.5 1.7V280h-2.1v-12.6c0-.9-.1-1.8-.3-2.4-.2-.6-.5-1.2-.9-1.5-.4-.4-.9-.7-1.5-.9-.5-.2-1.2-.2-1.9-.2-.8 0-1.5.2-2.1.4-.6.2-1.2.6-1.6 1-.5.4-.9.9-1.1 1.5-.3.5-.5 1.1-.7 1.7v13h-2.1v-19h1.8v.1z"/></svg>'
}, function(t, e, n) {
    t.exports = n.p + "9a51341d0d7c3eb9c50b95e124929369.md"
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(23),
        s = r(a),
        u = n(2),
        c = r(u),
        l = n(3),
        f = r(l),
        h = n(4),
        d = r(h),
        p = n(1);
    n(614);
    var m = n(95),
        v = r(m),
        g = n(125),
        A = r(g),
        y = n(617),
        x = r(y),
        _ = n(26),
        b = r(_),
        w = n(11),
        M = r(w),
        E = n(13),
        S = r(E),
        T = n(6),
        L = r(T),
        C = n(76),
        P = n(41),
        R = r(P),
        D = n(78),
        O = r(D),
        I = n(243),
        B = r(I),
        N = function(t) {
            function e() {
                (0, c.default)(this, e);
                var n = (0, f.default)(this, t.call(this));
                return n.state = {
                    layers: 0,
                    skipButton: !0
                }, n.setLayers = n.setLayers.bind(n), n.performShowOverlay = n.performShowOverlay.bind(n), n.performHideOverlay = n.performHideOverlay.bind(n), n.performAddPerformance = n.performAddPerformance.bind(n), L.default.exitPresent(), n
            }
            return (0, d.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, M.default.fadeOut()
            }, e.prototype.setLayers = function(t) {
                this.setState({
                    layers: t
                })
            }, e.prototype.performHideOverlay = function() {
                this.setState({
                    skipButton: !0,
                    overlay: null
                })
            }, e.prototype.performAddPerformance = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, s.default)(o.default.mark(function t() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (L.default.vrEffect.isPresenting) {
                                    t.next = 3;
                                    break
                                }
                                return t.next = 3, L.default.vrEffect.requestPresent();
                            case 3:
                                return t.next = 5, (0, C.sleep)(500);
                            case 5:
                                this.props.goto("record");
                            case 6:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.performShowOverlay = function() {
                this.setState({
                    skipButton: !1,
                    overlay: S.default.has6DOF ? "add-performance" : "room-scale-error"
                })
            }, e.prototype.render = function(t, e) {
                var n = this,
                    r = t.roomId,
                    i = e.skipButton,
                    o = e.layers,
                    a = e.overlay;
                return (0, p.h)("div", null, "room-scale-error" === a && (0, p.h)(A.default, {
                    type: a,
                    goto: this.props.goto,
                    onClose: this.performHideOverlay
                }, (0, p.h)("p", null, "To add your dance, you will need a room-scale VR device and a WebVR-enabled browser."), (0, p.h)("a", {
                    href: "https://webvr.info",
                    target: "_blank",
                    rel: "noopener noreferrer",
                    onClick: B.default
                }, (0, p.h)("span", null, "Learn more")), " or ", (0, p.h)("a", {
                    onClick: function() {
                        return R.default.navigate("/")
                    }
                }, (0, p.h)("span", null, "go back to the experience")), "."), "add-performance" === a && (0, p.h)(A.default, {
                    type: a,
                    goto: this.props.goto,
                    onClose: this.performHideOverlay
                }, (0, p.h)("a", {
                    className: "add-your-performance",
                    onClick: this.performAddPerformance
                }, (0, p.h)("span", null, "Add your performance"))), (0, p.h)(v.default, {
                    roomId: r,
                    id: "hIR_Tw",
                    orbs: !0,
                    tutorialLayers: o,
                    highlightLast: o < 6,
                    morph: !1,
                    progressive: S.default.isIOs
                }, (0, p.h)(x.default, {
                    onUpdateLayers: this.setLayers,
                    onEnd: this.performShowOverlay,
                    visible: !a
                })), i && (0, p.h)(b.default, {
                    type: "bottom-right"
                }, (0, p.h)("a", {
                    className: "skip-tutorial",
                    onClick: function() {
                        n.performShowOverlay(), O.default.recordTutorialSkip()
                    }
                }, "Skip Tutorial")))
            }, e
        }(p.Component);
    e.default = N
}, function(t, e) {}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(6),
        h = r(f),
        d = n(11),
        p = r(d),
        m = n(10),
        v = r(m),
        g = n(175),
        A = r(g),
        y = n(127),
        x = r(y),
        _ = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.state = {}, n.orb = new A.default, n.orb2 = new A.default, n.performLeftRoom = n.performLeftRoom.bind(n), n.performEnteredRoom = n.performEnteredRoom.bind(n), n.performEarlyLeftRoom = n.performEarlyLeftRoom.bind(n), n.performEarlyEnteredRoom = n.performEarlyEnteredRoom.bind(n), n.tick = n.tick.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, h.default.on("tick", this.tick), this.props.onCreatedOrb && this.props.onCreatedOrb(this.orb)
            }, e.prototype.shouldComponentUpdate = function(t) {
                var e = t.mode;
                this.props.mode !== e && "left" === e && (this.orb2.fadeOut(), this.orb.fadeIn())
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, h.default.off("tick", this.tick), this.orb.destroy(), this.orb2.destroy()
            }, e.prototype.tick = function() {
                var t = this.props.reversed,
                    e = v.default.roomDepth,
                    n = v.default.roomOffset,
                    r = t ? 1 : -1,
                    i = p.default.progress - 1,
                    o = ((i - .5) * e + n) * r;
                this.orb.position.z = o, p.default.totalProgress > 1 && (this.orb2.position.z = o + 2 * e * r)
            }, e.prototype.performLeftRoom = function() {
                this.props.fade && (this.orb2.fadeOut(), this.orb.fadeIn());
                var t = this.props.onLeftRoom;
                t && t()
            }, e.prototype.performEnteredRoom = function() {
                var t = this.props.onEnteredRoom;
                t && t()
            }, e.prototype.performEarlyEnteredRoom = function() {
                var t = this.props.onEarlyEnteredRoom;
                t && t()
            }, e.prototype.performEarlyLeftRoom = function() {
                var t = this.props.onEarlyLeftRoom;
                t && t()
            }, e.prototype.render = function() {
                return (0, l.h)(x.default, {
                    progress: !0,
                    keyframes: [{
                        time: 0,
                        callback: this.performLeftRoom
                    }, {
                        time: .9,
                        callback: this.performEarlyEnteredRoom
                    }, {
                        time: 1,
                        callback: this.performEnteredRoom
                    }, {
                        time: 1.9,
                        callback: this.performEarlyLeftRoom
                    }]
                })
            }, e
        }(l.Component);
    e.default = _
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(2),
        s = r(a),
        u = n(3),
        c = r(u),
        l = n(4),
        f = r(l),
        h = n(1);
    n(618);
    var d = n(6),
        p = r(d),
        m = n(127),
        v = r(m),
        g = n(250),
        A = r(g),
        y = n(54),
        x = n(11),
        _ = r(x),
        b = function(t) {
            function e() {
                (0, s.default)(this, e);
                var n = (0, c.default)(this, t.call(this));
                return n.performUpdateTutorial = n.performUpdateTutorial.bind(n), n.tick = n.tick.bind(n), n.getTime = n.getTime.bind(n), n
            }
            return (0, f.default)(e, t), e.prototype.componentWillMount = function() {
                var t = this,
                    e = function(e) {
                        return t.context.room && t.context.room.getHeadPosition(void 0 !== e ? e : t.context.room.frame.count - 1)
                    };
                this.keyframes = [{
                    time: .5,
                    text: "This is you.",
                    getPosition: e.bind(this),
                    layers: 1
                }, {
                    time: 5,
                    text: "This is the camera.",
                    getPosition: function() {
                        return t.context.orb && t.context.orb.position
                    }
                }, {
                    time: 8,
                    text: "Dance!"
                }, {
                    time: 10.5,
                    text: "(Try to avoid bumping into the camera)",
                    getPosition: null
                }, {
                    time: 13.5,
                    text: "",
                    getPosition: null
                }, {
                    time: 14,
                    getPosition: e.bind(this),
                    text: "This is you..."
                }, {
                    time: 17,
                    text: "This is your previous recording.",
                    getPosition: e.bind(this, 0)
                }, {
                    time: 24,
                    text: "Dance together!"
                }, {
                    time: 32,
                    text: "Add up to 20 copies of yourself.",
                    layers: 3
                }, {
                    time: 33,
                    layers: 4
                }, {
                    time: 34,
                    layers: 5
                }, {
                    time: 35,
                    layers: 6
                }, {
                    time: 38,
                    text: "",
                    callback: this.props.onEnd
                }], p.default.on("tick", this.tick)
            }, e.prototype.componentWillUnmount = function() {
                p.default.off("tick", this.tick)
            }, e.prototype.getTime = function() {
                return _.default.totalTime % 48
            }, e.prototype.tick = function() {
                if (this.getLineTarget) {
                    var t = this.getLineTarget();
                    if (!t) return;
                    this.setState((0, y.worldToScreen)(p.default.camera, t))
                } else this.setState({
                    x: null,
                    y: null
                })
            }, e.prototype.performUpdateTutorial = function(t) {
                var e = t.text,
                    n = t.getPosition,
                    r = t.layers;
                void 0 !== e && this.setState({
                    text: e
                }), this.getLineTarget = n, void 0 !== r && this.props.onUpdateLayers(r)
            }, e.prototype.render = function(t, e) {
                var n = (t.children, t.visible);
                return (0, h.h)(A.default, (0, o.default)({}, e, {
                    visible: n
                }), (0, h.h)(v.default, {
                    keyframes: this.keyframes,
                    getTime: this.getTime,
                    callback: this.performUpdateTutorial
                }))
            }, e
        }(h.Component);
    e.default = b
}, function(t, e) {}, function(t, e) {}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(20),
        s = r(a),
        u = n(23),
        c = r(u),
        l = n(2),
        f = r(l),
        h = n(3),
        d = r(h),
        p = n(4),
        m = r(p),
        v = n(1),
        g = n(94),
        A = r(g),
        y = n(26),
        x = r(y),
        _ = n(96),
        b = r(_),
        w = n(622),
        M = r(w),
        E = n(624),
        S = r(E),
        T = n(177),
        L = r(T),
        C = n(95),
        P = r(C),
        R = n(11),
        D = r(R),
        O = n(6),
        I = r(O),
        B = n(10),
        N = r(B),
        k = n(126),
        F = r(k),
        U = n(60),
        z = r(U),
        V = n(76),
        G = n(78),
        H = r(G),
        W = function(t) {
            function e() {
                (0, f.default)(this, e);
                var n = (0, d.default)(this, t.call(this));
                return n.state = {
                    mode: "connect-controllers"
                }, n.tick = n.tick.bind(n), n.performFinish = n.performFinish.bind(n), n.performStart = n.performStart.bind(n), n.performWaitRoom = n.performWaitRoom.bind(n), n.performRetry = n.performRetry.bind(n), n.performControllersDisconnected = n.performControllersDisconnected.bind(n), n.performControllersConnected = n.performControllersConnected.bind(n), n.performRecordRoom = n.performRecordRoom.bind(n), n.setLoading = n.setLoading.bind(n), n
            }
            return (0, m.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0;
                var t = this.props,
                    e = t.roomId,
                    n = t.hideHead;
                F.default.setup({
                    roomIndex: e - 1,
                    hideHead: n
                }), I.default.switchCamera("default"), z.default.exit()
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1
            }, e.prototype.setLoading = function(t) {
                this.setState({
                    loading: t
                })
            }, e.prototype.performFinish = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, c.default)(o.default.mark(function t() {
                    var e = this;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (!this.performedFinish) {
                                    t.next = 2;
                                    break
                                }
                                return t.abrupt("return");
                            case 2:
                                return this.performedFinish = !0, this.setState({
                                    controllerInstructions: null
                                }), t.next = 6, s.default.all([(0, V.sleep)(D.default.duration - D.default.time < .5 * N.default.loopDuration ? 1e3 * (D.default.duration - D.default.time + .1) : 0).then(function() {
                                    e.mounted && F.default.stop()
                                }), D.default.fadeOut(), z.default.fadeOut()]);
                            case 6:
                                if (I.default.off("tick", this.tick), H.default.recordDanceSessionStop(this.state.round), this.mounted) {
                                    t.next = 10;
                                    break
                                }
                                return t.abrupt("return");
                            case 10:
                                this.props.goto("review");
                            case 11:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.performRecordRoom = function() {
                this.setState({
                    controllerSettings: null
                })
            }, e.prototype.performWaitRoom = function() {
                D.default.totalProgress > 1 && (this.setState({
                    controllerSettings: {
                        removeOnPress: !0,
                        left: {
                            text: "press\nto\nrestart",
                            onPress: this.performRetry
                        },
                        right: {
                            text: "press\nto\nfinish",
                            onPress: this.performFinish
                        }
                    }
                }), setTimeout(function() {
                    I.default.controllers.forEach(function(t) {
                        var e = t.gamepad && t.gamepad.hapticActuators[0];
                        e && e.pulse(1, 60)
                    })
                }, 500));
                var t = Math.floor(D.default.totalProgress / 2);
                this.setState({
                    round: t
                }), t === N.default.maxLayerCount && this.performFinish()
            }, e.prototype.performStart = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, c.default)(o.default.mark(function t() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                this.setState({
                                    mode: "recording"
                                }), this.performWaitRoom(), D.default.dim(!0), D.default.play(), I.default.on("tick", this.tick), H.default.recordDanceSessionStart();
                            case 6:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.performRetry = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, c.default)(o.default.mark(function t() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return H.default.recordSectionChange("retry"), this.setState({
                                    mode: "retry"
                                }), t.next = 4, z.default.enter({
                                    text: "Lets try that again...",
                                    duration: 3e3
                                });
                            case 4:
                                return D.default.fadeOut(), t.next = 7, z.default.fadeOut();
                            case 7:
                                this.mounted && this.props.goto("record");
                            case 8:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.performControllersConnected = function() {
                this.setState({
                    controllerSettings: {
                        removeOnPress: !0,
                        right: {
                            text: "press\nto\nstart",
                            onPress: this.performStart
                        }
                    }
                })
            }, e.prototype.performControllersDisconnected = function() {
                this.setState({
                    controllerSettings: null
                })
            }, e.prototype.tick = function() {
                "recording" === this.state.mode && F.default.tick()
            }, e.prototype.render = function(t, e) {
                var n = t.roomId,
                    r = e.error,
                    i = e.loading,
                    o = e.round,
                    a = e.countdownSeconds,
                    s = e.controllerSettings,
                    u = e.mode;
                return (0, v.h)("div", null, (0, v.h)(P.default, {
                    orbs: "recording" === u,
                    reverseOrbs: !0,
                    record: !0,
                    roomId: n,
                    onOrbEnteredRoom: this.performRecordRoom,
                    onOrbLeftRoom: this.performWaitRoom
                }), "connect-controllers" === u ? (0, v.h)(S.default, {
                    onConnected: this.performControllersConnected,
                    onDisconnected: this.performControllersDisconnected
                }) : null, i ? null : (0, v.h)(L.default, {
                    settings: s
                }), "recording" === u && void 0 !== o ? (0, v.h)(M.default, {
                    key: o,
                    round: o,
                    seconds: a
                }) : null, (0, v.h)(x.default, {
                    type: "center"
                }, r ? (0, v.h)(A.default, null, r) : i ? (0, v.h)(b.default, {
                    text: "" + i
                }) : null))
            }, e
        }(v.Component);
    e.default = W
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(23),
        s = r(a),
        u = n(2),
        c = r(u),
        l = n(3),
        f = r(l),
        h = n(4),
        d = r(h),
        p = n(1),
        m = n(76),
        v = n(623),
        g = r(v),
        A = n(252),
        y = r(A),
        x = n(11),
        _ = r(x),
        b = n(10),
        w = r(b),
        M = n(60),
        E = r(M),
        S = function(t) {
            function e() {
                (0, c.default)(this, e);
                var n = (0, f.default)(this, t.call(this));
                return n.state = {}, n
            }
            return (0, d.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, this.beginCountdown()
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1
            }, e.prototype.beginCountdown = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, s.default)(o.default.mark(function t() {
                    var e, n;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                e = this.props.round, this.setState({
                                    subtitle: (0, g.default)(e)
                                }), n = Math.round(w.default.loopDuration - _.default.time);
                            case 3:
                                if (!(n > -2)) {
                                    t.next = 11;
                                    break
                                }
                                return n > 0 ? this.setState({
                                    main: n.toString()
                                }) : 0 === n && this.setState({
                                    main: "",
                                    subtitle: "DANCE!"
                                }), n--, t.next = 8, (0, m.sleep)(1e3);
                            case 8:
                                this.mounted || (n = -2), t.next = 3;
                                break;
                            case 11:
                                this.setState({
                                    subtitle: ""
                                });
                            case 12:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.render = function(t, e) {
                var n = e.main,
                    r = e.subtitle;
                return E.default.isFadedOut() ? null : (0, p.h)(y.default, {
                    main: n,
                    subtitle: r
                })
            }, e
        }(p.Component);
    e.default = S
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(10),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        o = ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten"];
    e.default = function(t) {
        return t === i.default.maxLayerCount - 1 ? "last round" : "round " + (o[t] || t + 1)
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(6),
        h = r(f),
        d = n(61),
        p = r(d),
        m = n(252),
        v = r(m),
        g = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.tick = n.tick.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, h.default.on("tick", this.tick)
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, h.default.off("tick", this.tick)
            }, e.prototype.tick = function() {
                var t = p.default.controllers.countActiveControllers();
                t !== this.state.count && (this.setState({
                    count: t
                }), 2 === t ? this.props.onConnected && this.props.onConnected() : this.props.onDisconnected && this.props.onDisconnected())
            }, e.prototype.render = function(t, e) {
                var n = e.count;
                return (0, l.h)(v.default, {
                    subtitle: 2 === n ? "press right controller to start" : 1 === n ? "turn on both of your controllers" : "turn on your controllers\nthen press any button to begin"
                })
            }, e
        }(l.Component);
    e.default = g
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(20),
        s = r(a),
        u = n(23),
        c = r(u),
        l = n(2),
        f = r(l),
        h = n(3),
        d = r(h),
        p = n(4),
        m = r(p),
        v = n(1),
        g = n(177),
        A = r(g),
        y = n(94),
        x = r(y),
        _ = n(253),
        b = r(_),
        w = n(125),
        M = r(w),
        E = n(11),
        S = r(E),
        T = n(126),
        L = r(T),
        C = n(60),
        P = r(C),
        R = n(76),
        D = n(180),
        O = r(D),
        I = n(10),
        B = r(I),
        N = n(13),
        k = r(N),
        F = function(t) {
            function e() {
                (0, f.default)(this, e);
                var n = (0, d.default)(this, t.call(this));
                return n.state = {
                    visible: !1
                }, n.performSubmit = n.performSubmit.bind(n), n.performRedo = n.performRedo.bind(n), n.performGoHome = n.performGoHome.bind(n), n
            }
            return (0, m.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, this.asyncMount()
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, S.default.fadeOut()
            }, e.prototype.asyncMount = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, c.default)(o.default.mark(function t() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, s.default.all([P.default.enter({
                                    text: "Time to review your performance"
                                }), (0, R.sleep)(5e3)]);
                            case 2:
                                if (this.mounted) {
                                    t.next = 4;
                                    break
                                }
                                return t.abrupt("return");
                            case 4:
                                return t.next = 6, P.default.fadeOut();
                            case 6:
                                if (this.mounted) {
                                    t.next = 8;
                                    break
                                }
                                return t.abrupt("return");
                            case 8:
                                return t.next = 10, S.default.load({
                                    src: B.default.assetsURL + "sound/room-" + this.props.roomId + "." + (k.default.isChrome ? "ogg" : "mp3"),
                                    loops: 2
                                });
                            case 10:
                                if (this.mounted) {
                                    t.next = 12;
                                    break
                                }
                                return t.abrupt("return");
                            case 12:
                                this.setState({
                                    visible: !0
                                }), P.default.exit();
                            case 14:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.performSubmit = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, c.default)(o.default.mark(function t() {
                    var e, n, r;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, s.default.all([P.default.fadeOut(), S.default.fadeOut()]);
                            case 2:
                                if (this.mounted) {
                                    t.next = 4;
                                    break
                                }
                                return t.abrupt("return");
                            case 4:
                                return this.setState({
                                    visible: !1
                                }), t.next = 7, P.default.enter({
                                    text: "Submitting your recording. Please wait."
                                });
                            case 7:
                                if (this.mounted) {
                                    t.next = 9;
                                    break
                                }
                                return t.abrupt("return");
                            case 9:
                                return t.prev = 9, t.next = 12, s.default.all([O.default.persist(L.default.serialize(), L.default.roomIndex + 1), (0, R.sleep)(5e3)]);
                            case 12:
                                if (e = t.sent, n = e[0], this.mounted) {
                                    t.next = 16;
                                    break
                                }
                                return t.abrupt("return");
                            case 16:
                                return t.next = 18, P.default.fadeOut();
                            case 18:
                                if (this.mounted) {
                                    t.next = 20;
                                    break
                                }
                                return t.abrupt("return");
                            case 20:
                                r = n.replace(".json", ""), this.props.goto("/" + (L.default.roomIndex + 1) + "/" + r), t.next = 27;
                                break;
                            case 24:
                                t.prev = 24, t.t0 = t.catch(9), this.setState({
                                    error: t.t0
                                });
                            case 27:
                            case "end":
                                return t.stop()
                        }
                    }, t, this, [
                        [9, 24]
                    ])
                }));
                return t
            }(), e.prototype.performRedo = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, c.default)(o.default.mark(function t() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return S.default.fadeOut(), t.next = 3, P.default.fadeOut();
                            case 3:
                                if (this.mounted) {
                                    t.next = 5;
                                    break
                                }
                                return t.abrupt("return");
                            case 5:
                                return this.setState({
                                    visible: !1
                                }), t.next = 8, P.default.enter({
                                    text: "Okay, here we go again",
                                    duration: 3e3
                                });
                            case 8:
                                if (this.mounted) {
                                    t.next = 10;
                                    break
                                }
                                return t.abrupt("return");
                            case 10:
                                this.props.goto("record");
                            case 11:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.performGoHome = function() {
                window.location = "/"
            }, e.prototype.render = function(t, e) {
                var n = t.id,
                    r = t.roomId,
                    i = e.visible,
                    o = e.error;
                return o ? (0, v.h)(M.default, {
                    opaque: !0
                }, (0, v.h)(x.default, null, "Oops, an error occurred: ", o, "."), (0, v.h)("p", null, (0, v.h)("a", {
                    onClick: this.performGoHome
                }, (0, v.h)("span", null, "Go home")))) : i ? (0, v.h)("div", null, (0, v.h)(A.default, {
                    settings: {
                        left: {
                            text: "press\nto\nredo",
                            onPress: this.performRedo,
                            removeOnPress: !0
                        },
                        right: {
                            text: "press\nto\nsubmit",
                            onPress: this.performSubmit,
                            removeOnPress: !0
                        }
                    }
                }), (0, v.h)(b.default, {
                    review: !0,
                    totalProgress: !0,
                    fixedControllers: !0,
                    hideRoomCountdown: !0,
                    recording: L.default,
                    pathRecordingId: n,
                    pathRoomId: r
                })) : null
            }, e
        }(v.Component);
    e.default = F
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i(t, e, n, r) {
        (0, a.default)(e)(t, (0, u.default)((0, l.default)(n)), r)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = i;
    var o = n(627),
        a = r(o),
        s = n(654),
        u = r(s),
        c = n(655),
        l = r(c);
    t.exports = e.default
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i(t) {
        return function(e, n, r) {
            function i(t, e) {
                if (f -= 1, t) c = !0, r(t);
                else {
                    if (e === p.default || c && f <= 0) return c = !0, r(null);
                    o()
                }
            }

            function o() {
                for (; f < t && !c;) {
                    var e = s();
                    if (null === e) return c = !0, void(f <= 0 && r(null));
                    f += 1, n(e.value, e.key, (0, h.default)(i))
                }
            }
            if (r = (0, u.default)(r || a.default), t <= 0 || !e) return r(null);
            var s = (0, l.default)(e),
                c = !1,
                f = 0;
            o()
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = i;
    var o = n(628),
        a = r(o),
        s = n(629),
        u = r(s),
        c = n(630),
        l = r(c),
        f = n(652),
        h = r(f),
        d = n(653),
        p = r(d);
    t.exports = e.default
}, function(t, e) {
    function n() {}
    t.exports = n
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function() {
            if (null !== t) {
                var e = t;
                t = null, e.apply(this, arguments)
            }
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = r, t.exports = e.default
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i(t) {
        var e = -1,
            n = t.length;
        return function() {
            return ++e < n ? {
                value: t[e],
                key: e
            } : null
        }
    }

    function o(t) {
        var e = -1;
        return function() {
            var n = t.next();
            return n.done ? null : (e++, {
                value: n.value,
                key: e
            })
        }
    }

    function a(t) {
        var e = (0, d.default)(t),
            n = -1,
            r = e.length;
        return function() {
            var i = e[++n];
            return n < r ? {
                value: t[i],
                key: i
            } : null
        }
    }

    function s(t) {
        if ((0, c.default)(t)) return i(t);
        var e = (0, f.default)(t);
        return e ? o(e) : a(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = s;
    var u = n(254),
        c = r(u),
        l = n(634),
        f = r(l),
        h = n(635),
        d = r(h);
    t.exports = e.default
}, function(t, e, n) {
    function r(t) {
        if (!o(t)) return !1;
        var e = i(t);
        return e == s || e == u || e == a || e == c
    }
    var i = n(178),
        o = n(258),
        a = "[object AsyncFunction]",
        s = "[object Function]",
        u = "[object GeneratorFunction]",
        c = "[object Proxy]";
    t.exports = r
}, function(t, e, n) {
    function r(t) {
        var e = a.call(t, u),
            n = t[u];
        try {
            t[u] = void 0;
            var r = !0
        } catch (t) {}
        var i = s.call(t);
        return r && (e ? t[u] = n : delete t[u]), i
    }
    var i = n(255),
        o = Object.prototype,
        a = o.hasOwnProperty,
        s = o.toString,
        u = i ? i.toStringTag : void 0;
    t.exports = r
}, function(t, e) {
    function n(t) {
        return i.call(t)
    }
    var r = Object.prototype,
        i = r.toString;
    t.exports = n
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = function(t) {
        return r && t[r] && t[r]()
    };
    var r = "function" == typeof Symbol && Symbol.iterator;
    t.exports = e.default
}, function(t, e, n) {
    function r(t) {
        return a(t) ? i(t) : o(t)
    }
    var i = n(636),
        o = n(648),
        a = n(254);
    t.exports = r
}, function(t, e, n) {
    function r(t, e) {
        var n = a(t),
            r = !n && o(t),
            l = !n && !r && s(t),
            h = !n && !r && !l && c(t),
            d = n || r || l || h,
            p = d ? i(t.length, String) : [],
            m = p.length;
        for (var v in t) !e && !f.call(t, v) || d && ("length" == v || l && ("offset" == v || "parent" == v) || h && ("buffer" == v || "byteLength" == v || "byteOffset" == v) || u(v, m)) || p.push(v);
        return p
    }
    var i = n(637),
        o = n(638),
        a = n(640),
        s = n(641),
        u = n(643),
        c = n(644),
        l = Object.prototype,
        f = l.hasOwnProperty;
    t.exports = r
}, function(t, e) {
    function n(t, e) {
        for (var n = -1, r = Array(t); ++n < t;) r[n] = e(n);
        return r
    }
    t.exports = n
}, function(t, e, n) {
    var r = n(639),
        i = n(179),
        o = Object.prototype,
        a = o.hasOwnProperty,
        s = o.propertyIsEnumerable,
        u = r(function() {
            return arguments
        }()) ? r : function(t) {
            return i(t) && a.call(t, "callee") && !s.call(t, "callee")
        };
    t.exports = u
}, function(t, e, n) {
    function r(t) {
        return o(t) && i(t) == a
    }
    var i = n(178),
        o = n(179),
        a = "[object Arguments]";
    t.exports = r
}, function(t, e) {
    var n = Array.isArray;
    t.exports = n
}, function(t, e, n) {
    (function(t) {
        var r = n(256),
            i = n(642),
            o = "object" == typeof e && e && !e.nodeType && e,
            a = o && "object" == typeof t && t && !t.nodeType && t,
            s = a && a.exports === o,
            u = s ? r.Buffer : void 0,
            c = u ? u.isBuffer : void 0,
            l = c || i;
        t.exports = l
    }).call(e, n(260)(t))
}, function(t, e) {
    function n() {
        return !1
    }
    t.exports = n
}, function(t, e) {
    function n(t, e) {
        return !!(e = null == e ? r : e) && ("number" == typeof t || i.test(t)) && t > -1 && t % 1 == 0 && t < e
    }
    var r = 9007199254740991,
        i = /^(?:0|[1-9]\d*)$/;
    t.exports = n
}, function(t, e, n) {
    var r = n(645),
        i = n(646),
        o = n(647),
        a = o && o.isTypedArray,
        s = a ? i(a) : r;
    t.exports = s
}, function(t, e, n) {
    function r(t) {
        return a(t) && o(t.length) && !!s[i(t)]
    }
    var i = n(178),
        o = n(259),
        a = n(179),
        s = {};
    s["[object Float32Array]"] = s["[object Float64Array]"] = s["[object Int8Array]"] = s["[object Int16Array]"] = s["[object Int32Array]"] = s["[object Uint8Array]"] = s["[object Uint8ClampedArray]"] = s["[object Uint16Array]"] = s["[object Uint32Array]"] = !0, s["[object Arguments]"] = s["[object Array]"] = s["[object ArrayBuffer]"] = s["[object Boolean]"] = s["[object DataView]"] = s["[object Date]"] = s["[object Error]"] = s["[object Function]"] = s["[object Map]"] = s["[object Number]"] = s["[object Object]"] = s["[object RegExp]"] = s["[object Set]"] = s["[object String]"] = s["[object WeakMap]"] = !1, t.exports = r
}, function(t, e) {
    function n(t) {
        return function(e) {
            return t(e)
        }
    }
    t.exports = n
}, function(t, e, n) {
    (function(t) {
        var r = n(257),
            i = "object" == typeof e && e && !e.nodeType && e,
            o = i && "object" == typeof t && t && !t.nodeType && t,
            a = o && o.exports === i,
            s = a && r.process,
            u = function() {
                try {
                    return s && s.binding && s.binding("util")
                } catch (t) {}
            }();
        t.exports = u
    }).call(e, n(260)(t))
}, function(t, e, n) {
    function r(t) {
        if (!i(t)) return o(t);
        var e = [];
        for (var n in Object(t)) s.call(t, n) && "constructor" != n && e.push(n);
        return e
    }
    var i = n(649),
        o = n(650),
        a = Object.prototype,
        s = a.hasOwnProperty;
    t.exports = r
}, function(t, e) {
    function n(t) {
        var e = t && t.constructor;
        return t === ("function" == typeof e && e.prototype || r)
    }
    var r = Object.prototype;
    t.exports = n
}, function(t, e, n) {
    var r = n(651),
        i = r(Object.keys, Object);
    t.exports = i
}, function(t, e) {
    function n(t, e) {
        return function(n) {
            return t(e(n))
        }
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function() {
            if (null === t) throw new Error("Callback was already called.");
            var e = t;
            t = null, e.apply(this, arguments)
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = r, t.exports = e.default
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = {}, t.exports = e.default
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e, n, r) {
            return t(e, r)
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = r, t.exports = e.default
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return s && "AsyncFunction" === t[Symbol.toStringTag]
    }

    function i(t) {
        return r(t) ? (0, a.default)(t) : t
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.isAsync = void 0;
    var o = n(656),
        a = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(o),
        s = "function" == typeof Symbol;
    e.default = i, e.isAsync = r
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i(t) {
        return (0, l.default)(function(e, n) {
            var r;
            try {
                r = t.apply(this, e)
            } catch (t) {
                return n(t)
            }(0, u.default)(r) && "function" == typeof r.then ? r.then(function(t) {
                o(n, null, t)
            }, function(t) {
                o(n, t.message ? t : new Error(t))
            }) : n(null, r)
        })
    }

    function o(t, e, n) {
        try {
            t(e, n)
        } catch (t) {
            (0, h.default)(a, t)
        }
    }

    function a(t) {
        throw t
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = i;
    var s = n(258),
        u = r(s),
        c = n(657),
        l = r(c),
        f = n(658),
        h = r(f);
    t.exports = e.default
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = function(t) {
        return function() {
            var e = (0, i.default)(arguments),
                n = e.pop();
            t.call(this, e, n)
        }
    };
    var r = n(261),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    t.exports = e.default
}, function(t, e, n) {
    "use strict";
    (function(t, r) {
        function i(t) {
            setTimeout(t, 0)
        }

        function o(t) {
            return function(e) {
                var n = (0, u.default)(arguments, 1);
                t(function() {
                    e.apply(null, n)
                })
            }
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.hasNextTick = e.hasSetImmediate = void 0, e.fallback = i, e.wrap = o;
        var a, s = n(261),
            u = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s),
            c = e.hasSetImmediate = "function" == typeof t && t,
            l = e.hasNextTick = "object" == typeof r && "function" == typeof r.nextTick;
        a = c ? t : l ? r.nextTick : i, e.default = o(a)
    }).call(e, n(267).setImmediate, n(167))
}, function(t, e, n) {
    (function(t, e) {
        ! function(t, n) {
            "use strict";

            function r(t) {
                "function" != typeof t && (t = new Function("" + t));
                for (var e = new Array(arguments.length - 1), n = 0; n < e.length; n++) e[n] = arguments[n + 1];
                var r = {
                    callback: t,
                    args: e
                };
                return c[u] = r, s(u), u++
            }

            function i(t) {
                delete c[t]
            }

            function o(t) {
                var e = t.callback,
                    r = t.args;
                switch (r.length) {
                    case 0:
                        e();
                        break;
                    case 1:
                        e(r[0]);
                        break;
                    case 2:
                        e(r[0], r[1]);
                        break;
                    case 3:
                        e(r[0], r[1], r[2]);
                        break;
                    default:
                        e.apply(n, r)
                }
            }

            function a(t) {
                if (l) setTimeout(a, 0, t);
                else {
                    var e = c[t];
                    if (e) {
                        l = !0;
                        try {
                            o(e)
                        } finally {
                            i(t), l = !1
                        }
                    }
                }
            }
            if (!t.setImmediate) {
                var s, u = 1,
                    c = {},
                    l = !1,
                    f = t.document,
                    h = Object.getPrototypeOf && Object.getPrototypeOf(t);
                h = h && h.setTimeout ? h : t, "[object process]" === {}.toString.call(t.process) ? function() {
                    s = function(t) {
                        e.nextTick(function() {
                            a(t)
                        })
                    }
                }() : function() {
                    if (t.postMessage && !t.importScripts) {
                        var e = !0,
                            n = t.onmessage;
                        return t.onmessage = function() {
                            e = !1
                        }, t.postMessage("", "*"), t.onmessage = n, e
                    }
                }() ? function() {
                    var e = "setImmediate$" + Math.random() + "$",
                        n = function(n) {
                            n.source === t && "string" == typeof n.data && 0 === n.data.indexOf(e) && a(+n.data.slice(e.length))
                        };
                    t.addEventListener ? t.addEventListener("message", n, !1) : t.attachEvent("onmessage", n), s = function(n) {
                        t.postMessage(e + n, "*")
                    }
                }() : t.MessageChannel ? function() {
                    var t = new MessageChannel;
                    t.port1.onmessage = function(t) {
                        a(t.data)
                    }, s = function(e) {
                        t.port2.postMessage(e)
                    }
                }() : f && "onreadystatechange" in f.createElement("script") ? function() {
                    var t = f.documentElement;
                    s = function(e) {
                        var n = f.createElement("script");
                        n.onreadystatechange = function() {
                            a(e), n.onreadystatechange = null, t.removeChild(n), n = null
                        }, t.appendChild(n)
                    }
                }() : function() {
                    s = function(t) {
                        setTimeout(a, 0, t)
                    }
                }(), h.setImmediate = r, h.clearImmediate = i
            }
        }("undefined" == typeof self ? void 0 === t ? this : t : self)
    }).call(e, n(97), n(167))
}, function(t, e) {}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = "function" == typeof fetch ? fetch.bind() : function(t, e) {
        return e = e || {}, new Promise(function(n, r) {
            function i() {
                var t, e = [],
                    n = [],
                    r = {};
                return o.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm, function(i, o, a) {
                    e.push(o = o.toLowerCase()), n.push([o, a]), t = r[o], r[o] = t ? t + "," + a : a
                }), {
                    ok: 1 == (o.status / 200 | 0),
                    status: o.status,
                    statusText: o.statusText,
                    url: o.responseURL,
                    clone: i,
                    text: function() {
                        return Promise.resolve(o.responseText)
                    },
                    json: function() {
                        return Promise.resolve(o.responseText).then(JSON.parse)
                    },
                    blob: function() {
                        return Promise.resolve(new Blob([o.response]))
                    },
                    headers: {
                        keys: function() {
                            return e
                        },
                        entries: function() {
                            return n
                        },
                        get: function(t) {
                            return r[t.toLowerCase()]
                        },
                        has: function(t) {
                            return t.toLowerCase() in r
                        }
                    }
                }
            }
            var o = new XMLHttpRequest;
            o.open(e.method || "get", t);
            for (var a in e.headers) o.setRequestHeader(a, e.headers[a]);
            o.withCredentials = "include" == e.credentials, o.onload = function() {
                n(i())
            }, o.onerror = r, o.send(e.body)
        })
    };
    e.default = r
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(20),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        o = void 0,
        a = function() {
            return new i.default(function(t) {
                if (o) return t(o);
                n.e(0).then(function(e) {
                    o = n(268).default, t(o)
                }.bind(null, n)).catch(n.oe)
            })
        },
        s = function() {
            return a().then(function() {
                return o.contactServer(o.serverURL + "getDraftPlaylist", {}, !0)
            })
        },
        u = function(t) {
            var e = t.room,
                n = t.id;
            return a().then(function() {
                return o.contactServer(o.serverURL + "updateDraftPlaylist", {
                    room: e,
                    id: n
                }, !0)
            })
        },
        c = function() {
            return a().then(function() {
                return o.contactServer(o.serverURL + "publishDraftPlaylist", {}, !0)
            })
        },
        l = function() {
            return a().then(function() {
                return o.contactServer(o.serverURL + "getUnmoderatedRecordings", {}, !0)
            })
        },
        f = function(t) {
            return a().then(function() {
                return o.contactServer(o.serverURL + "getRecording", {
                    id: t
                }, !0)
            })
        },
        h = function(t) {
            return a().then(function() {
                return o.contactServer(o.serverURL + "banRecording", {
                    id: t
                }, !0)
            })
        },
        d = function(t) {
            return a().then(function() {
                return o.contactServer(o.serverURL + "getAvailableRecordings", {
                    room: t
                }, !0)
            })
        },
        p = function() {
            return a().then(function() {
                return o.contactServer(o.serverURL + "getAllRecordings", {}, !0)
            })
        },
        m = function(t) {
            var e = t.id,
                n = t.title,
                r = t.rating,
                i = t.is_universal,
                s = t.is_megagrid_worthy,
                u = t.room;
            return a().then(function() {
                return o.contactServer(o.serverURL + "updateRecording", {
                    id: e,
                    title: n,
                    rating: r,
                    is_universal: i,
                    is_megagrid_worthy: s,
                    room: u
                }, !0)
            })
        };
    e.default = {
        getDraftPlaylist: s,
        updateDraftPlaylist: u,
        publishDraftPlaylist: c,
        getUnmoderatedRecordings: l,
        getRecording: f,
        banRecording: h,
        getAllRecordings: p,
        getAvailableRecordings: d,
        updateRecording: m
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(181),
        s = r(a),
        u = n(23),
        c = r(u),
        l = n(20),
        f = r(l),
        h = n(664),
        d = r(h),
        p = void 0,
        m = function() {
            return new f.default(function(t) {
                if (p) return t(p);
                n.e(0).then(function(e) {
                    p = n(268).default, t(p)
                }.bind(null, n)).catch(n.oe)
            })
        },
        v = function(t, e) {
            return new f.default(function(n, r) {
                var i = p.firebase.storage().ref().child("_incoming/" + e),
                    o = {
                        contentType: "application/json",
                        customMetadata: {
                            uid: p.userAuth.id,
                            token: p.userAuth.token
                        }
                    };
                i.putString(t, void 0, o).on("state_changed", function() {}, function(t) {
                    r(t)
                }, function() {
                    n()
                })
            })
        },
        g = function(t) {
            return m().then(function() {
                return p.contactServer(p.serverURL + "processSubmission", {
                    uid: t
                })
            })
        },
        A = {
            upload: function() {
                var t = (0, c.default)(o.default.mark(function t(e, n, r) {
                    var i, a, u, c, l, h;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2, m();
                            case 2:
                                return t.next = 4, p.loginAnonymously();
                            case 4:
                                if (!(i = t.sent)) {
                                    t.next = 7;
                                    break
                                }
                                return t.abrupt("return", r(i));
                            case 7:
                                return a = [15, 45, 90], u = p.userAuth.id, t.next = 11, f.default.all(a.map(function(t) {
                                    return v((90 === t ? e : (0, d.default)(e, t)).map(s.default).join("\n"), u + "_" + t + ".json")
                                }));
                            case 11:
                                return t.next = 13, g(u);
                            case 13:
                                if (c = t.sent, l = c.data, !(h = c.error)) {
                                    t.next = 18;
                                    break
                                }
                                return t.abrupt("return", r(h));
                            case 18:
                                r(null, l.id);
                            case 19:
                            case "end":
                                return t.stop()
                        }
                    }, t, void 0)
                }));
                return function(e, n, r) {
                    return t.apply(this, arguments)
                }
            }()
        };
    e.default = A
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(34),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        o = n(121),
        a = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(o),
        s = function(t, e) {
            for (var n = e % 1, r = a.getFrame(t, Math.floor(e)), i = a.getFrame(t, Math.ceil(e)), o = [], s = 0, u = a.count(r); s < u; s++)
                for (var c = 0; c < 3; c++) a.serialize(a.avgPosition(r, i, n, s, c), a.avgQuaternion(r, i, n, s, c)).forEach(function(t) {
                    return o.push(t)
                });
            return o
        },
        u = function(t) {
            return Array.apply(null, {
                length: t
            }).map(Number.call, Number)
        };
    e.default = function(t, e) {
        var n = t.slice(1),
            r = Math.floor(n.length / 90 * e),
            o = u(r).map(function(t) {
                return s(n, t / e * 90)
            });
        return o.unshift((0, i.default)({
            fps: e
        }, t[0])), o
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(34),
        o = r(i),
        a = n(2),
        s = r(a),
        u = n(3),
        c = r(u),
        l = n(4),
        f = r(l),
        h = n(1),
        d = n(6),
        p = r(d),
        m = n(10),
        v = r(m),
        g = n(48),
        A = n(18),
        y = n(127),
        x = r(y),
        _ = n(174),
        b = r(_),
        w = (0, b.default)(),
        M = new A.Color(0),
        E = new A.Color,
        S = function(t) {
            function e() {
                (0, s.default)(this, e);
                var n = (0, c.default)(this, t.call(this));
                return n.performChangeBackground = n.performChangeBackground.bind(n), n.keyframes = v.default.colorTimes.map(function(t, e) {
                    return {
                        time: t,
                        color: (0, g.getRoomColorByIndex)(e + 23)
                    }
                }), n
            }
            return (0, f.default)(e, t), e.prototype.componentWillMount = function() {
                this.mounted = !0
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, p.default.renderer.setClearColor(M)
            }, e.prototype.performChangeBackground = function(t) {
                var e = t.color;
                w(E.copy(e).multiplyScalar(.7), (0, o.default)({
                    ease: "easeOutCubic",
                    duration: 1,
                    onUpdate: function() {
                        return p.default.renderer.setClearColor(E)
                    }
                }, M))
            }, e.prototype.render = function() {
                return (0, h.h)(x.default, {
                    keyframes: this.keyframes,
                    callback: this.performChangeBackground
                })
            }, e
        }(h.Component);
    e.default = S
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1);
    n(667);
    var f = n(6),
        h = r(f),
        d = n(668),
        p = r(d),
        m = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.tick = n.tick.bind(n), n.roomToRoomLabel = n.roomToRoomLabel.bind(n), n.isVisibleOnScreen = function(t) {
                    return t.isVisibleOnScreen()
                }, n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                h.default.on("tick", this.tick)
            }, e.prototype.componentWillUnmount = function() {
                h.default.off("tick", this.tick)
            }, e.prototype.tick = function() {
                this.setState({
                    visibleRooms: this.props.rooms.filter(this.isVisibleOnScreen)
                })
            }, e.prototype.roomToRoomLabel = function(t) {
                var e = this.props.entries;
                return e && (0, l.h)(p.default, {
                    room: t,
                    key: t.index,
                    entry: e[t.index]
                })
            }, e.prototype.render = function(t, e) {
                var n = e.visibleRooms;
                return n && !h.default.vrEffect.isPresenting && (0, l.h)("div", {
                    className: "room-labels"
                }, n.map(this.roomToRoomLabel))
            }, e
        }(l.Component);
    e.default = m
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1);
    n(669);
    var f = n(41),
        h = r(f),
        d = n(56),
        p = r(d),
        m = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.toggleAbout = n.toggleAbout.bind(n), n.navigateToChooser = n.navigateToChooser.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.toggleAbout = function() {
                this.setState({
                    about: !this.state.about
                })
            }, e.prototype.navigateToChooser = function(t) {
                h.default.navigate("/choose/" + (p.default.getPlaylistIndex(this.props.room.index) + 1)), t.stopPropagation()
            }, e.prototype.render = function(t) {
                var e = t.entry,
                    n = t.room,
                    r = Math.floor(e.days_featured),
                    i = Math.floor(e.days_featured % 1 * 24),
                    o = "" === e.title ? "Unnamed" : e.title,
                    a = "Featured " + r + " day" + (r > 1 ? "s" : "") + ", " + i + " hour" + (i > 0 ? "s" : ""),
                    s = n.getScreenCoordinates();
                return (0, l.h)("div", {
                    className: "room-label",
                    key: o,
                    style: {
                        transform: "translate(" + s.x + "px, " + s.y + "px)"
                    },
                    onClick: this.navigateToChooser
                }, (0, l.h)("span", null, "Room ", p.default.getPlaylistIndex(n.index) + 1), (0, l.h)("span", {
                    className: "wrap"
                }, o), (0, l.h)("span", {
                    className: "new-line"
                }, a))
            }, e
        }(l.Component);
    e.default = m
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(6),
        h = r(f),
        d = n(671),
        p = r(d),
        m = n(11),
        v = r(m),
        g = n(26),
        A = r(g),
        y = n(674),
        x = r(y),
        _ = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.state = {
                    inPOV: !1
                }, n.tick = n.tick.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, this.pov = (0, p.default)(this.props), this.props.enterHeads && this.pov.setupInput(), h.default.on("tick", this.tick)
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, h.default.off("tick", this.tick), this.pov.removeInput()
            }, e.prototype.tick = function() {
                var t = this.props.totalProgress ? v.default.totalProgress : v.default.progress;
                this.pov.update(t, !!this.props.fixedControllers);
                var e = this.pov.isInPOV();
                this.state.inPOV !== e && this.setState({
                    inPOV: e
                })
            }, e.prototype.render = function() {
                return this.state.inPOV ? (0, l.h)(A.default, {
                    type: "top-right"
                }, (0, l.h)(x.default, null)) : null
            }, e
        }(l.Component);
    e.default = _
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i(t) {
        var e = t.rooms,
            n = t.orb,
            r = t.offset,
            i = void 0 === r ? 0 : r,
            o = x.default.holeHeight,
            s = void 0,
            c = void 0,
            f = void 0,
            d = void 0,
            m = !1,
            g = function(t) {
                var e = t.clientX,
                    n = t.clientY;
                h.default.vrEffect.isPresenting || (s = e, c = n)
            },
            y = function(t) {
                var n = t.clientX,
                    r = t.clientY,
                    i = t.touches;
                if (!h.default.vrEffect.isPresenting) {
                    if (l.default.isMobile && (f || d)) return f = null, d = !1, p.default.group.remove(h.default.camera), h.default.switchCamera("orthographic"), void(m = !1);
                    if (!f && !d) {
                        var o = n,
                            s = r;
                        i && 1 === i.length && (o = i[0].pageX, s = i[0].pageY), d = (0, u.default)(o, s), f = (0, a.default)(o, s, e), (f || d) && (h.default.switchCamera("default"), p.default.group.add(h.default.camera), f ? S.default.recordHeadSelectStart() : d && S.default.recordOrbSelectStart(), m = !0)
                    }
                }
            },
            _ = function(t) {
                var e = t.touches;
                h.default.vrEffect.isPresenting || l.default.isMobile || e && e.length >= 1 || (f ? S.default.recordHeadSelectStop() : d && S.default.recordOrbSelectStop(), f = null, d = !1, p.default.group.remove(h.default.camera), h.default.switchCamera("orthographic"), m = !1)
            },
            w = function() {
                p.default.group.remove(h.default.camera), f = null, d = !1, n && n.unhighlight(), v.default.setHighlight()
            },
            E = function(t) {
                if (f) {
                    var n = f,
                        r = n[0],
                        i = n[1];
                    (r % 2 == 0 && t % 2 == 1 || r % 2 == 1 && t % 2 == 0) && (f[1] = (i + 1) % e[r].frame.count, v.default.setHighlight(f))
                }
            };
        return window.addEventListener("vrdisplaypresentchange", w, !1), b.default.on("loop", E), {
            update: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    r = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                h.default.vrEffect.isPresenting || l.default.isMobile || ((0, u.default)(s, c) && !m ? (n && n.highlight(), v.default.setHighlight()) : (n && n.unhighlight(), f || d || v.default.setHighlight((0, a.default)(s, c, e)))), !h.default.vrEffect.isPresenting && l.default.isMobile && (m && f ? v.default.setHighlight(f) : v.default.setHighlight());
                var p = A.default.getPosition(t + i + .5);
                if (p.y += o, p.z *= -1, r && M.default.controllers.fixToPosition(p), h.default.camera.position.copy(p), d) h.default.camera.position.z *= -1, h.default.camera.rotation.set(0, Math.PI, 0);
                else if (f) {
                    var g = f,
                        y = g[0],
                        x = g[1];
                    e[y].transformToHead(h.default.camera, x)
                }
            },
            setupInput: function() {
                l.default.isMobile ? (window.addEventListener("touchstart", y, !1), window.addEventListener("touchend", _, !1)) : (window.addEventListener("mousemove", g), window.addEventListener("mousedown", y), window.addEventListener("mouseup", _))
            },
            removeInput: function() {
                l.default.isMobile ? (window.removeEventListener("touchstart", y), window.removeEventListener("touchend", _)) : (window.removeEventListener("mousemove", g), window.removeEventListener("mousedown", y), window.removeEventListener("mouseup", _)), window.removeEventListener("vrdisplaypresentchange", w), b.default.off("loop", E)
            },
            isInPOV: function() {
                return m
            },
            clearHighlights: w
        }
    }
    e.__esModule = !0, e.default = i;
    var o = n(672),
        a = r(o),
        s = n(673),
        u = r(s),
        c = n(13),
        l = r(c),
        f = n(6),
        h = r(f),
        d = n(118),
        p = r(d),
        m = n(119),
        v = r(m),
        g = n(56),
        A = r(g),
        y = n(10),
        x = r(y),
        _ = n(11),
        b = r(_),
        w = n(61),
        M = r(w),
        E = n(78),
        S = r(E)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(18),
        o = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(i),
        a = n(6),
        s = r(a),
        u = n(55),
        c = r(u),
        l = n(54),
        f = new o.Vector2,
        h = new o.Vector2,
        d = function(t) {
            return h.copy((0, l.worldToScreen)(s.default.camera, t)).distanceToSquared(f)
        },
        p = [];
    e.default = function(t, e, n) {
        if (void 0 !== t) {
            f.set(t, e);
            for (var r = Number.MAX_VALUE, i = void 0, o = void 0, a = c.default.width * c.default.width * .5, s = 0; s < n.length; s++) {
                var u = n[s];
                if (!(d(u.worldPosition) > a))
                    for (var l = 0, h = u.frame.count; l < h; l++) {
                        var m = u.getPose(l, 1, u.position, !0);
                        if (m) {
                            var v = d(m[0]);
                            v < r && v < 1e4 && (i = s, o = l, r = v);
                            var g = d(u.getPose(l, 2, u.position, !0)[0]);
                            if (g < r && g < 1e4 && (i = s, o = l, r = g), !1 === u.frames.hideHead) {
                                var A = d(u.getPose(l, 0, u.position, !0)[0]);
                                A < r && A < 1e4 && (i = s, o = l, r = A)
                            }
                        }
                    }
            }
            return void 0 === i ? null : (p[0] = i, p[1] = o, p)
        }
    }
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0, e.default = function(t, e) {
        return void 0 !== t && (u.set(.5 * a.default.width, .5 * a.default.height), s.set(t, e), u.distanceToSquared(s) < c)
    };
    var r = n(18),
        i = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(r),
        o = n(55),
        a = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(o),
        s = new i.Vector2,
        u = new i.Vector2,
        c = Math.pow(32, 2)
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(1);
    n(675);
    var i = n(13),
        o = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = function() {
        return (0, r.h)("div", {
            className: "record-label"
        }, (0, r.h)("span", {
            className: "record-blinker"
        }, ""), "POV CAM", !o.default.isMobile && "ERA")
    }
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(1);
    n(677);
    var o = n(678),
        a = r(o),
        s = n(251),
        u = r(s);
    e.default = function(t) {
        var e = t.target,
            n = t.current,
            r = t.color,
            o = e - n;
        return o >= 0 && (0, i.h)("div", {
            className: "room-countdown"
        }, n < 2 ? "Stay tuned for the shared performance in room " + e + "." : e === n ? "The shared performance is in the " + r + " room." : (0, u.default)((0, a.default)(o)) + " room" + (o > 1 ? "s" : "") + " to go")
    }
}, function(t, e) {}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = [null, "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten", "eleven", "twelve", "thirteen", "fourteen", "fifteen", "sixteen", "seventeen", "eighteen", "nineteen"],
        i = [null, null, "twenty"],
        o = function t(e) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                o = [],
                a = Math.round(.001 * e - .5),
                s = Math.round(e % 100 - .5);
            if (s < 20) o.push(r[s]);
            else {
                var u = Math.round(s / 10 - .5),
                    c = s % 10;
                o.push(i[u], r[c])
            }
            if (a > 0) {
                var l;
                (l = o).unshift.apply(l, t(a, n + 1))
            }
            return 0 === n && (o = o.filter(function(t) {
                return !!t
            })), o
        };
    e.default = function(t) {
        return o(t).join(" ")
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(6),
        h = r(f),
        d = n(242),
        p = r(d),
        m = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.tick = n.tick.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentWillMount = function() {
                this.mounted = !0, h.default.on("tick", this.tick), p.default.reset()
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, h.default.off("tick", this.tick)
            }, e.prototype.tick = function() {
                h.default.insideTransition || p.default.tick()
            }, e
        }(l.Component);
    e.default = m
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(2),
        s = r(a),
        u = n(3),
        c = r(u),
        l = n(4),
        f = r(l),
        h = n(1),
        d = n(123),
        p = r(d),
        m = n(681),
        v = (r(m), n(85)),
        g = r(v),
        A = n(695),
        y = r(A),
        x = n(703),
        _ = r(x),
        b = n(265),
        w = r(b),
        M = n(126),
        E = r(M),
        S = n(13),
        T = r(S),
        L = n(78),
        C = r(L),
        P = function(t) {
            function e(n) {
                var r = n.roomId;
                (0, s.default)(this, e);
                var i = (0, c.default)(this, t.call(this)),
                    o = void 0 !== r,
                    a = E.default.exists() && o;
                return i.state = {
                    mode: "playback",
                    fromRecording: a,
                    count: 0
                }, i.performGotoFullExperience = i.performGotoFullExperience.bind(i), i.performGotoSubmission = i.performGotoSubmission.bind(i), i.setMode = i.setMode.bind(i), i
            }
            return (0, f.default)(e, t), e.prototype.setMode = function(t) {
                this.setState({
                    mode: t
                })
            }, e.prototype.revealOverlay = function(t) {
                this.setState({
                    overlay: t
                })
            }, e.prototype.performGotoFullExperience = function() {
                var t = this.props,
                    e = t.roomId,
                    n = t.id;
                window.location = "/" + e + "/" + n + "/"
            }, e.prototype.performGotoSubmission = function() {
                this.setState({
                    mode: "submission"
                }), C.default.recordSectionChange("Submission")
            }, e.prototype.renderMenu = function() {
                var t = this.state,
                    e = t.fromRecording,
                    n = t.mode;
                return this.context.presenting && T.default.vrPolyfill ? (0, h.h)(p.default, {
                    close: this.performExitPresent
                }) : e || /submission|gif/.test(n) ? (0, h.h)(p.default, {
                    about: !0,
                    mute: !0
                }) : (0, h.h)(p.default, {
                    vr: !0,
                    addRoom: !0,
                    about: !0,
                    mute: !0
                })
            }, e.prototype.render = function(t, e) {
                var n = e.mode,
                    r = e.fromRecording;
                return (0, h.h)(g.default, null, this.renderMenu(), "playback" === n ? (0, h.h)(y.default, (0, o.default)({}, t, {
                    inContextOfRecording: r,
                    onGotoSubmission: this.performGotoSubmission,
                    colophon: !r
                })) : "gif" === n ? (0, h.h)(w.default, (0, o.default)({}, t, {
                    inContextOfRecording: r,
                    goBack: this.performGotoSubmission
                })) : (0, h.h)(_.default, (0, o.default)({}, t, {
                    goto: this.setMode,
                    fromRecording: r,
                    onGotoFullExperience: this.performGotoFullExperience
                })))
            }, e
        }(h.Component);
    e.default = P
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1);
    n(682);
    var f = n(26),
        h = r(f),
        d = n(245),
        p = r(d),
        m = n(246),
        v = r(m),
        g = n(683),
        A = r(g),
        y = n(685),
        x = r(y),
        _ = n(687),
        b = r(_),
        w = n(124),
        M = r(w),
        E = n(247),
        S = r(E),
        T = n(689),
        L = r(T),
        C = n(6),
        P = r(C),
        R = n(13),
        D = r(R),
        O = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.state = {
                    vrOverlay: !1
                }, n.toggleVR = n.toggleVR.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentWillReceiveProps = function(t, e) {
                var n = e.presenting;
                n !== this.context.presenting && this.setState({
                    enterVROVerlay: n
                })
            }, e.prototype.toggleVR = function() {
                D.default.hasVR && P.default.toggleVR()
            }, e.prototype.render = function(t) {
                var e = t.unreadCount,
                    n = t.close,
                    r = t.audio,
                    i = t.vr,
                    o = t.mute,
                    a = t.submissions,
                    s = t.inbox,
                    u = t.publish;
                return (0, l.h)("div", {
                    className: "cms-menu"
                }, this.state.vrOverlay ? (0, l.h)(S.default, null) : null, (0, l.h)(h.default, {
                    type: "top-left",
                    margin: !0,
                    rows: !0
                }, i ? (0, l.h)(v.default, {
                    onClick: this.toggleVR
                }) : null, o ? (0, l.h)(p.default, null) : null, a ? (0, l.h)(x.default, null) : null, s ? (0, l.h)(A.default, {
                    unreadCount: e
                }) : null), n ? (0, l.h)(h.default, {
                    type: "top-right",
                    margin: !0,
                    rows: !0
                }, (0, l.h)(M.default, {
                    navigate: "/"
                })) : null, r ? (0, l.h)(h.default, {
                    type: "top-right",
                    margin: !0,
                    rows: !0
                }, (0, l.h)(L.default, null)) : null, u ? (0, l.h)(h.default, {
                    type: "bottom-right",
                    margin: !0,
                    rows: !0
                }, (0, l.h)(b.default, null)) : null)
            }, e
        }(l.Component);
    e.default = O
}, function(t, e) {}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(1),
        i = n(19),
        o = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    n(684), e.default = function(t) {
        var e = t.unreadCount;
        return (0, r.h)(o.default, {
            navigate: "/inbox",
            text: "Inbox" + (e ? " (" + e + ")" : "")
        })
    }
}, function(t, e) {}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(1),
        i = n(19),
        o = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    n(686), e.default = function() {
        return (0, r.h)(o.default, {
            navigate: "/submissions",
            text: "Submissions"
        })
    }
}, function(t, e) {}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(1),
        i = n(19),
        o = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    n(688), e.default = function() {
        return (0, r.h)(o.default, {
            navigate: "/publish",
            text: "Publish Playlist",
            className: "cms-button-item--wide"
        })
    }
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function i() {
        return (0, o.h)("div", {
            className: "audio-controls"
        }, (0, o.h)(f.default, {
            onClick: m
        }), (0, o.h)(d.default, null), (0, o.h)(c.default, {
            onClick: p
        }))
    }
    e.__esModule = !0, e.default = i;
    var o = n(1);
    n(690);
    var a = n(11),
        s = r(a),
        u = n(263),
        c = r(u),
        l = n(264),
        f = r(l),
        h = n(693),
        d = r(h),
        p = s.default.nextLoop.bind(s.default),
        m = s.default.previousLoop.bind(s.default)
}, function(t, e) {}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="80" viewBox="20 0 40 80"><path d="M27.399 56.835l-1.624-2.873 24.36-13.776-23.642-14.169 1.696-2.83 28.502 17.082z"/></svg>'
}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="80" viewBox="20 0 40 80"><path d="M51.811 56.813L23.308 39.731l29.293-16.565 1.625 2.872-24.36 13.776 23.642 14.169z"/></svg>'
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(19),
        h = r(f),
        d = n(11),
        p = r(d),
        m = n(244),
        v = r(m),
        g = n(694),
        A = r(g),
        y = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.state = {
                    playing: !1
                }, n.onPlay = n.setPlaying.bind(n, !0), n.onPause = n.setPlaying.bind(n, !1), n.togglePlaying = n.togglePlaying.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                p.default.on("play", this.onPlay), p.default.on("pause", this.onPause)
            }, e.prototype.componentWillUnmount = function() {
                p.default.off("play", this.onPlay), p.default.off("pause", this.onPause)
            }, e.prototype.setPlaying = function(t) {
                this.setState({
                    playing: t
                })
            }, e.prototype.togglePlaying = function() {
                p.default.toggle()
            }, e.prototype.render = function(t, e) {
                var n = e.playing;
                return (0, l.h)(h.default, {
                    onClick: this.togglePlaying,
                    icon: n ? A.default : v.default
                })
            }, e
        }(l.Component);
    e.default = y
}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="40" height="80" viewBox="20 0 40 80"><path d="M33.97 23.288l.024 33.421-3.3.002-.025-33.42zM49.307 23.289l.024 33.42-3.301.003-.024-33.421z"/></svg>'
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(20),
        s = r(a),
        u = n(23),
        c = r(u),
        l = n(2),
        f = r(l),
        h = n(3),
        d = r(h),
        p = n(4),
        m = r(p),
        v = n(1);
    n(696);
    var g = n(123),
        A = (r(g), n(85)),
        y = r(A),
        x = n(94),
        _ = r(x),
        b = n(26),
        w = r(b),
        M = n(96),
        E = r(M),
        S = n(697),
        T = r(S),
        L = n(701),
        C = r(L),
        P = n(248),
        R = r(P),
        D = n(253),
        O = r(D),
        I = n(19),
        B = r(I),
        N = n(125),
        k = r(N),
        F = n(177),
        U = r(F),
        z = n(11),
        V = r(z),
        G = n(6),
        H = r(G),
        W = n(10),
        j = r(W),
        Q = n(60),
        q = r(Q),
        X = n(13),
        Y = r(X),
        Z = n(76),
        J = j.default.assetsURL + "sound/tonite.ogg",
        K = j.default.assetsURL + "sound/tonite.mp3",
        $ = function(t) {
            function e() {
                (0, f.default)(this, e);
                var n = (0, d.default)(this, t.call(this));
                return n.onTitlesChanged = n.onTitlesChanged.bind(n), n.performExitPresent = n.performExitPresent.bind(n), n.performExitVRInstructions = n.performExitVRInstructions.bind(n), n
            }
            return (0, m.default)(e, t), e.prototype.componentWillMount = function() {
                this.setState({
                    hoverHead: null,
                    orb: !0,
                    colophon: !1 !== this.props.colophon,
                    loading: this.props.inContextOfRecording ? null : "Moving dancers into position"
                })
            }, e.prototype.componentDidMount = function() {
                this.mounted = !0, this.asyncMount()
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, H.default.vrEffect.isPresenting && H.default.vrEffect.exitPresent()
            }, e.prototype.onTitlesChanged = function(t) {
                var e = t.titles,
                    n = t.colophon;
                this.setState({
                    orb: !e,
                    colophon: !!n
                })
            }, e.prototype.setLoading = function(t) {
                this.setState({
                    loading: t
                })
            }, e.prototype.performExitPresent = function() {
                H.default.vrEffect.isPresenting && H.default.vrEffect.exitPresent(), this.forceUpdate()
            }, e.prototype.performExitVRInstructions = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, c.default)(o.default.mark(function t() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                if (this.mounted) {
                                    t.next = 2;
                                    break
                                }
                                return t.abrupt("return");
                            case 2:
                                return t.next = 4, s.default.all([V.default.fadeOut(), q.default.fadeOut()]);
                            case 4:
                                if (this.mounted) {
                                    t.next = 6;
                                    break
                                }
                                return t.abrupt("return");
                            case 6:
                                return this.setState({
                                    stopped: !0,
                                    takeOffHeadset: !0
                                }), t.next = 9, q.default.enter({
                                    text: "Please take off your headset"
                                });
                            case 9:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.asyncMount = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, c.default)(o.default.mark(function t() {
                    var e, n, r, i, a, s, u, c;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return e = this.props, n = e.inContextOfRecording, r = e.roomId, i = Date.now(), t.next = 4, V.default.load({
                                    src: Y.default.isChrome ? J : K,
                                    loops: j.default.totalLoopCount,
                                    loop: !0,
                                    progressive: !0
                                });
                            case 4:
                                if (this.mounted) {
                                    t.next = 6;
                                    break
                                }
                                return t.abrupt("return");
                            case 6:
                                if (n && (a = 30, s = 2, u = (r - 2 + s) * j.default.loopDuration, V.default.gotoTime(u), setTimeout(this.performExitVRInstructions, 1e3 * a)), !((c = 1500 - (Date.now() - i)) > 0)) {
                                    t.next = 13;
                                    break
                                }
                                return t.next = 11, (0, Z.sleep)(c);
                            case 11:
                                if (this.mounted) {
                                    t.next = 13;
                                    break
                                }
                                return t.abrupt("return");
                            case 13:
                                this.setLoading(null), q.default.isInside() && q.default.exit(), setTimeout(function() {
                                    V.default.play()
                                });
                            case 16:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.render = function(t, e, n) {
                var r = t.roomId,
                    i = t.id,
                    o = t.inContextOfRecording,
                    a = t.onGotoSubmission,
                    s = e.error,
                    u = e.loading,
                    c = e.orb,
                    l = e.colophon,
                    f = e.takeOffHeadset,
                    h = e.stopped,
                    d = n.presenting;
                return Y.default.vrPolyfill && H.default.vrEffect.isPresenting ? (0, v.h)(y.default, null, (0, v.h)(O.default, {
                    pathRecordingId: i,
                    pathRoomId: r,
                    orb: c && !d
                })) : (0, v.h)("div", {
                    className: "playback"
                }, o && (f ? (0, v.h)(k.default, {
                    opaque: !0
                }, (0, v.h)("a", {
                    onClick: a
                }, (0, v.h)("span", null, "Press here to continue"))) : (0, v.h)(w.default, {
                    type: "bottom-right"
                }, (0, v.h)(B.default, {
                    text: "Skip Preview",
                    onClick: this.performExitVRInstructions
                }))), (0, v.h)(R.default, {
                    hide: !u && !l
                }), (0, v.h)(O.default, {
                    pathRecordingId: i,
                    pathRoomId: r,
                    orb: c && !d,
                    stopped: h,
                    fixedControllers: o,
                    hideRoomCountdown: o
                }), (0, v.h)(T.default, {
                    onUpdate: this.onTitlesChanged
                }), o ? (0, v.h)(U.default, {
                    settings: {
                        right: {
                            text: "skip\npreview",
                            onPress: this.performExitVRInstructions,
                            removeOnPress: !0
                        }
                    }
                }) : (0, v.h)(C.default, null), (0, v.h)(w.default, {
                    type: "center"
                }, s ? (0, v.h)(_.default, null, s) : u ? (0, v.h)(E.default, {
                    text: "" + u
                }) : null))
            }, e
        }(v.Component);
    e.default = $
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(77),
        h = r(f);
    n(698);
    var d = n(699),
        p = r(d),
        m = n(249),
        v = r(m),
        g = n(11),
        A = r(g),
        y = n(6),
        x = r(y),
        _ = n(700),
        b = r(_),
        w = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return (n.timeline = (0, v.default)(p.default)).on("keyframe", function(t) {
                    n.setState(t), n.props.onUpdate(t)
                }), n.state = {
                    titles: null
                }, n.tick = n.tick.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                x.default.on("tick", this.tick)
            }, e.prototype.componentWillUnmount = function() {
                x.default.off("tick", this.tick)
            }, e.prototype.tick = function() {
                this.timeline.tick(A.default.time)
            }, e.prototype.renderTitles = function() {
                return this.state.titles.map(function(t) {
                    return (0, l.h)("div", {
                        className: "titles-title"
                    }, t)
                })
            }, e.prototype.render = function(t, e) {
                var n = e.titles,
                    r = e.small,
                    i = e.position;
                return x.default.vrEffect.isPresenting ? (0, l.h)(b.default, {
                    titles: n,
                    small: r,
                    position: i
                }) : n && (0, l.h)("div", {
                    className: (0, h.default)("titles", r && "mod-small")
                }, this.renderTitles())
            }, e
        }(l.Component);
    e.default = w
}, function(t, e) {}, function(t, e, n) {
    "use strict";
    e.__esModule = !0, e.default = [{
        time: 0,
        colophon: !0
    }, {
        time: 4.1,
        titles: ["lcd"],
        position: {
            z: 7.8
        }
    }, {
        time: 5.1,
        titles: ["lcd", "sound"],
        position: {
            z: 7.8
        }
    }, {
        time: 6.1,
        titles: ["lcd", "sound", "system"],
        position: {
            z: 7.8
        }
    }, {
        time: 7.1,
        titles: ["dance"],
        position: {
            z: 6
        }
    }, {
        time: 8.1,
        titles: ["dance", "dance"],
        position: {
            z: 6
        }
    }, {
        time: 9.1,
        titles: ["dance", "dance", "dance"],
        position: {
            z: 6
        }
    }, {
        time: 10.1,
        titles: ["tonite"],
        position: {
            z: 2.2
        }
    }, {
        time: 11.1,
        titles: ["tonite", "tonite"],
        position: {
            z: 2.2
        }
    }, {
        time: 12.1,
        titles: ["tonite", "tonite", "tonite"],
        position: {
            z: 2.2
        }
    }, {
        time: 13.1,
        titles: null
    }, {
        time: 15,
        titles: null,
        colophon: !1
    }, {
        time: 219,
        titles: ["directed by"],
        small: !0,
        position: {
            z: -160
        }
    }, {
        time: 222,
        titles: ["Jonathan", "Puckey"],
        small: !0,
        position: {
            z: -161.5
        }
    }, {
        time: 224,
        titles: ["Moniker"],
        small: !0,
        position: {
            z: -163
        }
    }, {
        time: 226,
        titles: ["Google", "Data Arts Team"],
        small: !0,
        position: {
            z: -164.5
        }
    }, {
        time: 228,
        titles: [""],
        small: !1
    }]
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(18),
        h = function(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(f),
        d = n(61),
        p = r(d),
        m = n(10),
        v = r(m),
        g = n(48),
        A = n(6),
        y = r(A),
        x = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.textCreator = p.default.SDFText.creator(), n.clearTitles = n.clearTitles.bind(n), n.setPosition = n.setPosition.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                var t = this.group = new h.Group;
                t.position.y = v.default.holeHeight, this.textLine = this.textCreator.create("", {
                    wrapWidth: 5120,
                    scale: 5,
                    align: "center",
                    vAlign: "center",
                    color: g.textColor.getHex(),
                    lineHeight: 400,
                    mode: "nowrap"
                }), t.add(this.textLine), y.default.scene.add(this.group)
            }, e.prototype.componentWillReceiveProps = function(t) {
                var e = t.titles,
                    n = t.position;
                if (!e) return void this.clearTitles();
                this.textLine.updateLabel(e.join("\n").replace(/o/g, "@")), this.setPosition(n)
            }, e.prototype.componentWillUnmount = function() {
                y.default.scene.remove(this.group)
            }, e.prototype.setPosition = function(t) {
                t && (this.group.position.z = t.z)
            }, e.prototype.clearTitles = function() {
                this.textLine.updateLabel("")
            }, e
        }(l.Component);
    e.default = x
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(6),
        h = r(f),
        d = n(55),
        p = r(d),
        m = n(11),
        v = r(m),
        g = n(10),
        A = r(g),
        y = n(13),
        x = r(y);
    n(702);
    var _ = function(t) {
            return t.clientX / p.default.width
        },
        b = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.state = {}, n.targetRatio = 0, n.onMouseMove = n.onMouseMove.bind(n), n.onMouseLeave = n.onMouseLeave.bind(n), n.onClick = n.onClick.bind(n), n.onMouseDown = n.onMouseDown.bind(n), n.tick = n.tick.bind(n), n.lastUpdate = Date.now(), n
            }
            return (0, c.default)(e, t), e.prototype.componentDidMount = function() {
                h.default.on("tick", this.tick)
            }, e.prototype.shouldComponentUpdate = function() {
                return !1
            }, e.prototype.componentWillUnmount = function() {
                h.default.off("tick", this.tick)
            }, e.prototype.onMouseMove = function(t) {
                this.moveRatio = _(t), t.stopPropagation()
            }, e.prototype.onMouseLeave = function() {
                this.moveRatio = null
            }, e.prototype.onClick = function(t) {
                v.default.gotoTime(v.default.duration * _(t)), t.stopPropagation()
            }, e.prototype.onMouseDown = function(t) {
                t.stopPropagation()
            }, e.prototype.tick = function() {
                if (void 0 !== v.default.progress && (!h.default.vrEffect.isPresenting || x.default.hasExternalDisplay)) {
                    var t = void 0;
                    this.moveRatio ? t = this.targetRatio = .8 * this.targetRatio + .2 * this.moveRatio : Date.now() - this.lastUpdate > 200 && (t = v.default.progress / A.default.totalLoopCount), t && (this.progressEl.style.transform = "scaleX(" + t + ")", this.lastUpdate = Date.now())
                }
            }, e.prototype.render = function() {
                var t = this,
                    e = x.default.isMobile;
                return (0, l.h)("div", {
                    className: "audio-progress-bar-container",
                    onClick: this.onClick,
                    onMouseDown: !e && this.onMouseDown,
                    onMouseLeave: !e && this.onMouseLeave,
                    onMouseMove: !e && this.onMouseMove
                }, (0, l.h)("div", {
                    className: "audio-progress-bar",
                    ref: function(e) {
                        t.progressEl = e
                    }
                }))
            }, e
        }(l.Component);
    e.default = b
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(23),
        s = r(a),
        u = n(2),
        c = r(u),
        l = n(3),
        f = r(l),
        h = n(4),
        d = r(h),
        p = n(1);
    n(704);
    var m = n(95),
        v = r(m),
        g = n(26),
        A = r(g),
        y = n(19),
        x = r(y),
        _ = n(705),
        b = r(_),
        w = n(716),
        M = r(w),
        E = n(11),
        S = r(E),
        T = n(6),
        L = r(T),
        C = n(10),
        P = r(C),
        R = n(60),
        D = r(R),
        O = function(t) {
            function e() {
                (0, c.default)(this, e);
                var n = (0, f.default)(this, t.call(this));
                return n.state = {
                    loading: "Loading performance"
                }, n.shareURL = {
                    googlePlus: "https://plus.google.com/share?url=",
                    twitter: "https://twitter.com/intent/tweet?text=",
                    facebook: "https://www.facebook.com/sharer/sharer.php?u="
                }, n.onRoomLoadError = n.onRoomLoadError.bind(n), n.gotoCreateGif = n.gotoCreateGif.bind(n), n
            }
            return (0, d.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, this.asyncMount()
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, S.default.fadeOut()
            }, e.prototype.onRoomLoadError = function() {
                window.location = "/"
            }, e.prototype.gotoCreateGif = function() {
                this.props.goto("gif")
            }, e.prototype.asyncMount = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, s.default)(o.default.mark(function t() {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                L.default.exitPresent(), D.default.reset(), L.default.fog.near = P.default.maxCullDistance, L.default.fog.far = P.default.maxCullDistance;
                            case 4:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.render = function(t) {
                var e = t.roomId,
                    n = t.id,
                    r = t.fromRecording;
                return (0, p.h)("div", {
                    className: "submission"
                }, (0, p.h)(v.default, {
                    roomId: e,
                    id: n,
                    orbs: !0,
                    onRoomLoadError: this.onRoomLoadError
                }, (0, p.h)(M.default, {
                    fromRecording: r
                })), (0, p.h)(A.default, {
                    type: "bottom-right"
                }, (0, p.h)(x.default, {
                    text: r ? "Watch yourself in the\nfull experience" : "Watch in full experience",
                    onClick: this.props.onGotoFullExperience,
                    underline: !0
                })), r && (0, p.h)(b.default, {
                    roomId: e,
                    id: n
                }, (0, p.h)(x.default, {
                    text: "Create animated GIF",
                    onClick: this.gotoCreateGif,
                    underline: !0
                })))
            }, e
        }(p.Component);
    e.default = O
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1);
    n(706);
    var f = n(26),
        h = r(f),
        d = n(707),
        p = r(d),
        m = n(710),
        v = r(m),
        g = n(713),
        A = r(g),
        y = n(78),
        x = r(y),
        _ = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.shareURL = {
                    googlePlus: "https://plus.google.com/share?url=",
                    twitter: "https://twitter.com/intent/tweet?text=",
                    facebook: "https://www.facebook.com/sharer/sharer.php?u="
                }, n.shareToGooglePlus = n.share.bind(n, "googlePlus"), n.shareToFacebook = n.share.bind(n, "facebook"), n.shareToTwitter = n.share.bind(n, "twitter"), n
            }
            return (0, c.default)(e, t), e.prototype.componentWillMount = function() {
                var t = this.props,
                    e = t.roomId,
                    n = t.id,
                    r = "/" + e + "/" + n + "/";
                this.setState({
                    link: r,
                    deepLink: "https://tonite.dance" + r,
                    description: "I'm in room " + e + " of @LCDSoundsystems Dance Tonite "
                })
            }, e.prototype.componentWillUpdate = function() {
                return !1
            }, e.prototype.share = function(t) {
                var e = "twitter" === t ? this.state.description : "";
                window.open("" + this.shareURL[t] + e + this.state.deepLink, "", "menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"), "googlePlus" === t ? x.default.recordSocialShare("Google+") : "facebook" === t ? x.default.recordSocialShare("Facebook") : "twitter" === t && x.default.recordSocialShare("Twitter")
            }, e.prototype.render = function(t, e) {
                var n = t.children,
                    r = e.link,
                    i = e.deepLink;
                return (0, l.h)(h.default, {
                    type: "bottom-left",
                    margin: !0
                }, (0, l.h)("div", null, "Share your killer moves:"), (0, l.h)("div", {
                    className: "share-icons"
                }, (0, l.h)(A.default, {
                    onClick: this.shareToGooglePlus
                }), (0, l.h)(p.default, {
                    onClick: this.shareToTwitter
                }), (0, l.h)(v.default, {
                    onClick: this.shareToFacebook
                })), (0, l.h)("a", {
                    href: r
                }, i), n)
            }, e
        }(l.Component);
    e.default = _
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(1);
    n(708);
    var s = n(709),
        u = r(s),
        c = n(19),
        l = r(c);
    e.default = function(t) {
        return (0, a.h)(l.default, (0, o.default)({}, t, {
            icon: u.default
        }))
    }
}, function(t, e) {}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><path d="M29.358 64.562a34.635 34.635 0 0 1-18.716-5.483 1.251 1.251 0 0 1 .82-2.294c.872.103 1.768.154 2.662.154 4.027 0 7.874-1.04 11.281-3.029a13.018 13.018 0 0 1-8.849-8.552 1.252 1.252 0 0 1 1.128-1.63c-3.25-2.396-5.315-6.253-5.315-10.493 0-.077 0-.149.005-.224a1.251 1.251 0 0 1 1.856-1.019c.213.119.431.23.651.333a13.006 13.006 0 0 1-2.417-7.564c0-2.298.609-4.561 1.763-6.544.206-.354.573-.585.982-.618.405-.028.808.138 1.067.456a32.292 32.292 0 0 0 21.802 11.722 13.43 13.43 0 0 1-.065-1.318c0-7.179 5.841-13.02 13.021-13.02 3.345 0 6.585 1.306 8.999 3.605a22.342 22.342 0 0 0 6.43-2.568 1.25 1.25 0 0 1 1.827 1.457 12.954 12.954 0 0 1-2.014 3.874 21.61 21.61 0 0 0 1.898-.74 1.25 1.25 0 0 1 1.548 1.836 25.07 25.07 0 0 1-5.64 6.012c.008.302.012.605.012.91 0 8.429-3.258 16.959-8.938 23.403-4.555 5.169-12.731 11.334-25.798 11.334zm-12.959-5.224a32.131 32.131 0 0 0 12.959 2.724c15.847 0 32.237-12.059 32.237-32.238a34 34 0 0 0-.032-1.466c-.019-.42.176-.822.517-1.068A22.734 22.734 0 0 0 65 24.775c-.96.232-1.938.409-2.928.527a1.25 1.25 0 0 1-.791-2.313 10.625 10.625 0 0 0 2.968-2.647 24.721 24.721 0 0 1-4.379 1.292 1.25 1.25 0 0 1-1.153-.371 10.58 10.58 0 0 0-7.682-3.325c-5.801 0-10.521 4.719-10.521 10.52 0 .819.092 1.625.272 2.398a1.249 1.249 0 0 1-1.28 1.533c-9.136-.459-17.737-4.541-23.89-11.275a10.539 10.539 0 0 0-.651 3.646c0 3.526 1.75 6.799 4.681 8.756.464.31.667.889.497 1.42-.17.532-.685.875-1.229.869a12.997 12.997 0 0 1-3.871-.72c.768 4.212 4.008 7.609 8.265 8.462a1.249 1.249 0 1 1 .082 2.432c-1.193.323-2.432.47-3.663.456a10.52 10.52 0 0 0 9.037 5.464 1.25 1.25 0 0 1 .748 2.234c-3.827 3-8.323 4.778-13.113 5.205z"/></svg>'
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(1);
    n(711);
    var s = n(712),
        u = r(s),
        c = n(19),
        l = r(c);
    e.default = function(t) {
        return (0, a.h)(l.default, (0, o.default)({}, t, {
            icon: u.default
        }))
    }
}, function(t, e) {}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><path d="M59.391 63.974H48.282c-.69 0-1.25-.56-1.25-1.25V45.843c0-.69.56-1.25 1.25-1.25h4.566l.526-4.079h-5.093c-.69 0-1.25-.56-1.25-1.25v-4.201c0-1.101 0-4.453 4.51-4.453l2.233-.001v-3.5a51.742 51.742 0 0 0-3.826-.144c-4.583 0-7.211 2.714-7.211 7.446v4.852c0 .69-.56 1.25-1.25 1.25h-4.432v4.079h4.432c.69 0 1.25.56 1.25 1.25v16.881c0 .69-.56 1.25-1.25 1.25H20.61a3.66 3.66 0 0 1-3.657-3.655v-38.78a3.66 3.66 0 0 1 3.657-3.656h38.781a3.66 3.66 0 0 1 3.656 3.656v38.781a3.66 3.66 0 0 1-3.656 3.655zm-9.859-2.5h9.858c.638 0 1.156-.519 1.156-1.155V21.538c0-.638-.519-1.156-1.156-1.156H20.61c-.638 0-1.157.519-1.157 1.156v38.781c0 .637.519 1.155 1.157 1.155h19.628V47.093h-4.432c-.69 0-1.25-.56-1.25-1.25v-6.579c0-.69.56-1.25 1.25-1.25h4.432v-3.602c0-6.042 3.812-9.946 9.711-9.946 2.629 0 4.718.2 5.242.271a1.25 1.25 0 0 1 1.084 1.239v5.884c0 .69-.56 1.25-1.249 1.25l-3.483.001c-1.846 0-2.011.506-2.011 1.953v2.951h5.265a1.249 1.249 0 0 1 1.239 1.41l-.849 6.579c-.08.623-.61 1.09-1.239 1.09h-4.416v14.38z"/></svg>'
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(1);
    n(714);
    var s = n(715),
        u = r(s),
        c = n(19),
        l = r(c);
    e.default = function(t) {
        return (0, a.h)(l.default, (0, o.default)({}, t, {
            icon: u.default
        }))
    }
}, function(t, e) {}, function(t, e) {
    t.exports = '<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><path d="M67.809 48.295h-5.668a1.2 1.2 0 0 1-1.2-1.2v-6.963h-6.963a1.2 1.2 0 0 1-1.2-1.2v-5.668a1.2 1.2 0 0 1 1.2-1.2h6.963v-6.736a1.2 1.2 0 0 1 1.2-1.2h5.668a1.2 1.2 0 0 1 1.2 1.2v6.736h6.735a1.2 1.2 0 0 1 1.2 1.2v5.668a1.2 1.2 0 0 1-1.2 1.2h-6.735v6.963a1.2 1.2 0 0 1-1.2 1.2zm-4.468-2.4h3.268v-6.963a1.2 1.2 0 0 1 1.2-1.2h6.735v-3.268h-6.735a1.2 1.2 0 0 1-1.2-1.2v-6.736h-3.268v6.736a1.2 1.2 0 0 1-1.2 1.2h-6.963v3.268h6.963a1.2 1.2 0 0 1 1.2 1.2v6.963zM26.567 61.962c-13.432 0-24.36-10.928-24.36-24.359 0-13.432 10.928-24.359 24.36-24.359a24.29 24.29 0 0 1 16.391 6.341 1.2 1.2 0 0 1 .017 1.759c-3.151 2.976-4.137 4.083-5.007 5.06-.465.523-.888.998-1.56 1.669a1.202 1.202 0 0 1-1.613.076c-1.95-1.613-4.297-3.105-8.228-3.105-6.914 0-12.329 5.516-12.329 12.558S19.653 50.16 26.567 50.16c6.417 0 9.094-2.556 10.807-6.784-4.141.003-10.805.013-10.805.013h-.002a1.199 1.199 0 0 1-1.2-1.201v-9.172a1.2 1.2 0 0 1 1.2-1.2h22.242a1.2 1.2 0 0 1 1.188 1.034c.887 6.354-.147 15.42-5.71 21.813-4.214 4.844-10.176 7.299-17.72 7.299zm0-46.317c-12.109 0-21.96 9.851-21.96 21.958s9.851 21.958 21.96 21.958c6.819 0 12.172-2.178 15.91-6.473 4.742-5.45 5.837-13.126 5.267-18.872H27.767v6.771c2.554-.004 8.517-.012 11.32-.012a1.202 1.202 0 0 1 1.14 1.576c-2.346 7.109-6.304 10.009-13.66 10.009-8.259 0-14.729-6.57-14.729-14.958s6.47-14.958 14.729-14.958c4.102 0 6.809 1.406 8.884 2.965.259-.279.486-.534.725-.802.805-.904 1.707-1.917 4.186-4.291a21.905 21.905 0 0 0-13.795-4.871z"/></svg>'
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(2),
        s = r(a),
        u = n(3),
        c = r(u),
        l = n(4),
        f = r(l),
        h = n(1),
        d = n(262),
        p = r(d);
    n(717);
    var m = n(6),
        v = r(m),
        g = n(11),
        A = r(g),
        y = n(127),
        x = r(y),
        _ = n(250),
        b = r(_),
        w = n(54),
        M = function(t) {
            function e() {
                (0, s.default)(this, e);
                var n = (0, c.default)(this, t.call(this));
                return n.performUpdate = n.performUpdate.bind(n), n.tick = n.tick.bind(n), n.getTime = n.getTime.bind(n), n
            }
            return (0, f.default)(e, t), e.prototype.componentWillMount = function() {
                for (var t = this, e = function(e) {
                        var n = t.context.room;
                        if (n) {
                            var r = n.frame.count;
                            if (r) return n && n.getHeadPosition(void 0 !== e ? (e + Math.floor(.5 * A.default.totalProgress)) % r : r - 1)
                        }
                    }, n = 0, r = (0, p.default)(["Nice moves.", "Killer steps.", "Sh.. Sh.. Shake it!", "So elegant.", "Remarkable.", "You monster, you!", "Cut that rug up!", "Exactly!", "Yes!", "You the best!", "Yes. Yes. Yes!", "Get your freak on.", "Loved this bit.", "E-l-e-c-t-r-i-f-y-i-n-g!", "Put that foot down.", "Get down with it.", "Cha! Cha! Dontcha!", "Improvisational.", "Pop it. Lock it.", "Classic.", "Such finesse.", "Such concentration!", "So nimble.", "Gene, is that you?", "Crank that."]), i = [{
                        duration: 2,
                        text: ""
                    }, {
                        duration: 1,
                        text: "..."
                    }, {
                        duration: 1,
                        text: "Gosh..."
                    }, {
                        duration: 2,
                        text: "We have no words!"
                    }, {
                        duration: 4,
                        text: "That was amazing."
                    }, {
                        duration: 4,
                        text: "You must be worn out."
                    }, {
                        duration: 6,
                        text: "Thanks so much for your contribution."
                    }, {
                        duration: 4,
                        text: "Lets take a moment to admire your moves:"
                    }, {
                        duration: 3,
                        text: ""
                    }], o = 0, a = r.length; o < a; o++) {
                    var s = r.pop();
                    i.push({
                        duration: 4 + 6 * Math.random(),
                        text: ""
                    }), i.push({
                        duration: Math.max(2, .15 * s.length),
                        text: s,
                        getPosition: e.bind(this, function() {
                            return Math.floor(100 * Math.random())
                        }())
                    })
                }
                this.keyframes = i.map(function(t) {
                    return t.time = n, n += t.duration, t
                }), v.default.on("tick", this.tick)
            }, e.prototype.componentWillUnmount = function() {
                v.default.off("tick", this.tick)
            }, e.prototype.getTime = function() {
                return A.default.totalTime
            }, e.prototype.tick = function() {
                if (this.getLineTarget) {
                    var t = this.getLineTarget();
                    if (!t) return;
                    this.setState((0, w.worldToScreen)(v.default.camera, t))
                } else this.setState({
                    x: null,
                    y: null
                })
            }, e.prototype.performUpdate = function(t) {
                var e = t.text,
                    n = t.getPosition,
                    r = t.layers;
                void 0 !== e && this.setState({
                    text: e
                }), this.getLineTarget = n, void 0 !== r && this.props.onUpdateLayers(r)
            }, e.prototype.render = function(t, e) {
                var n = (t.children, t.visible),
                    r = void 0 === n || n;
                return (0, h.h)(b.default, (0, o.default)({}, e, {
                    visible: r
                }), (0, h.h)(x.default, {
                    keyframes: this.keyframes,
                    getTime: this.getTime,
                    callback: this.performUpdate
                }))
            }, e
        }(h.Component);
    e.default = M
}, function(t, e) {}, function(t, e, n) {
    var r, i, o;
    ! function(n, a) {
        i = [], r = a, void 0 !== (o = "function" == typeof r ? r.apply(e, i) : r) && (t.exports = o)
    }(0, function() {
        return function t(e, n, r) {
            function i(t) {
                var e = t.split(/[:;,]/),
                    n = e[1],
                    r = "base64" == e[2] ? atob : decodeURIComponent,
                    i = r(e.pop()),
                    o = i.length,
                    a = 0,
                    s = new Uint8Array(o);
                for (a; a < o; ++a) s[a] = i.charCodeAt(a);
                return new m([s], {
                    type: n
                })
            }

            function o(t, e) {
                if ("download" in d) return d.href = t, d.setAttribute("download", v), d.className = "download-js-link", d.innerHTML = "downloading...", d.style.display = "none", document.body.appendChild(d), setTimeout(function() {
                    d.click(), document.body.removeChild(d), !0 === e && setTimeout(function() {
                        u.URL.revokeObjectURL(d.href)
                    }, 250)
                }, 66), !0;
                if (/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)) return /^data:/.test(t) && (t = "data:" + t.replace(/^data:([\w\/\-\+]+)/, c)), window.open(t) || confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.") && (location.href = t), !0;
                var n = document.createElement("iframe");
                document.body.appendChild(n), !e && /^data:/.test(t) && (t = "data:" + t.replace(/^data:([\w\/\-\+]+)/, c)), n.src = t, setTimeout(function() {
                    document.body.removeChild(n)
                }, 333)
            }
            var a, s, u = window,
                c = "application/octet-stream",
                l = r || c,
                f = e,
                h = !n && !r && f,
                d = document.createElement("a"),
                p = function(t) {
                    return String(t)
                },
                m = u.Blob || u.MozBlob || u.WebKitBlob || p,
                v = n || "download";
            if (m = m.call ? m.bind(u) : Blob, "true" === String(this) && (f = [f, l], l = f[0], f = f[1]), h && h.length < 2048 && (v = h.split("/").pop().split("?")[0], d.href = h, -1 !== d.href.indexOf(h))) {
                var g = new XMLHttpRequest;
                return g.open("GET", h, !0), g.responseType = "blob", g.onload = function(e) {
                    t(e.target.response, v, c)
                }, setTimeout(function() {
                    g.send()
                }, 0), g
            }
            if (/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(f)) {
                if (!(f.length > 2096103.424 && m !== p)) return navigator.msSaveBlob ? navigator.msSaveBlob(i(f), v) : o(f);
                f = i(f), l = f.type || c
            } else if (/([\x80-\xff])/.test(f)) {
                var A = 0,
                    y = new Uint8Array(f.length),
                    x = y.length;
                for (A; A < x; ++A) y[A] = f.charCodeAt(A);
                f = new m([y], {
                    type: l
                })
            }
            if (a = f instanceof m ? f : new m([f], {
                    type: l
                }), navigator.msSaveBlob) return navigator.msSaveBlob(a, v);
            if (u.URL) o(u.URL.createObjectURL(a), !0);
            else {
                if ("string" == typeof a || a.constructor === p) try {
                    return o("data:" + l + ";base64," + u.btoa(a))
                } catch (t) {
                    return o("data:" + l + "," + encodeURIComponent(a))
                }
                s = new FileReader, s.onload = function(t) {
                    o(this.result)
                }, s.readAsDataURL(a)
            }
            return !0
        }
    })
}, function(t, e, n) {
    "use strict";
    var r, i, o, a, a, s = n(170),
        u = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(s);
    ! function(n) {
        if ("object" === (0, u.default)(e) && void 0 !== t) t.exports = n();
        else {
            i = [], r = n, void 0 !== (o = "function" == typeof r ? r.apply(e, i) : r) && (t.exports = o)
        }
    }(function() {
        return function t(e, n, r) {
            function i(s, u) {
                if (!n[s]) {
                    if (!e[s]) {
                        var c = "function" == typeof a && a;
                        if (!u && c) return a(s, !0);
                        if (o) return o(s, !0);
                        var l = new Error("Cannot find module '" + s + "'");
                        throw l.code = "MODULE_NOT_FOUND", l
                    }
                    var f = n[s] = {
                        exports: {}
                    };
                    e[s][0].call(f.exports, function(t) {
                        var n = e[s][1][t];
                        return i(n || t)
                    }, f, f.exports, t, e, n, r)
                }
                return n[s].exports
            }
            for (var o = "function" == typeof a && a, s = 0; s < r.length; s++) i(r[s]);
            return i
        }({
            1: [function(t, e, n) {
                function r() {
                    this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0
                }

                function i(t) {
                    return "function" == typeof t
                }

                function o(t) {
                    return "number" == typeof t
                }

                function a(t) {
                    return "object" === (void 0 === t ? "undefined" : (0, u.default)(t)) && null !== t
                }

                function s(t) {
                    return void 0 === t
                }
                e.exports = r, r.EventEmitter = r, r.prototype._events = void 0, r.prototype._maxListeners = void 0, r.defaultMaxListeners = 10, r.prototype.setMaxListeners = function(t) {
                    if (!o(t) || t < 0 || isNaN(t)) throw TypeError("n must be a positive number");
                    return this._maxListeners = t, this
                }, r.prototype.emit = function(t) {
                    var e, n, r, o, u, c;
                    if (this._events || (this._events = {}), "error" === t && (!this._events.error || a(this._events.error) && !this._events.error.length)) {
                        if ((e = arguments[1]) instanceof Error) throw e;
                        var l = new Error('Uncaught, unspecified "error" event. (' + e + ")");
                        throw l.context = e, l
                    }
                    if (n = this._events[t], s(n)) return !1;
                    if (i(n)) switch (arguments.length) {
                        case 1:
                            n.call(this);
                            break;
                        case 2:
                            n.call(this, arguments[1]);
                            break;
                        case 3:
                            n.call(this, arguments[1], arguments[2]);
                            break;
                        default:
                            o = Array.prototype.slice.call(arguments, 1), n.apply(this, o)
                    } else if (a(n))
                        for (o = Array.prototype.slice.call(arguments, 1), c = n.slice(), r = c.length, u = 0; u < r; u++) c[u].apply(this, o);
                    return !0
                }, r.prototype.addListener = function(t, e) {
                    var n;
                    if (!i(e)) throw TypeError("listener must be a function");
                    return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", t, i(e.listener) ? e.listener : e), this._events[t] ? a(this._events[t]) ? this._events[t].push(e) : this._events[t] = [this._events[t], e] : this._events[t] = e, a(this._events[t]) && !this._events[t].warned && (n = s(this._maxListeners) ? r.defaultMaxListeners : this._maxListeners) && n > 0 && this._events[t].length > n && (this._events[t].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[t].length), "function" == typeof console.trace && console.trace()), this
                }, r.prototype.on = r.prototype.addListener, r.prototype.once = function(t, e) {
                    function n() {
                        this.removeListener(t, n), r || (r = !0, e.apply(this, arguments))
                    }
                    if (!i(e)) throw TypeError("listener must be a function");
                    var r = !1;
                    return n.listener = e, this.on(t, n), this
                }, r.prototype.removeListener = function(t, e) {
                    var n, r, o, s;
                    if (!i(e)) throw TypeError("listener must be a function");
                    if (!this._events || !this._events[t]) return this;
                    if (n = this._events[t], o = n.length, r = -1, n === e || i(n.listener) && n.listener === e) delete this._events[t], this._events.removeListener && this.emit("removeListener", t, e);
                    else if (a(n)) {
                        for (s = o; s-- > 0;)
                            if (n[s] === e || n[s].listener && n[s].listener === e) {
                                r = s;
                                break
                            }
                        if (r < 0) return this;
                        1 === n.length ? (n.length = 0, delete this._events[t]) : n.splice(r, 1), this._events.removeListener && this.emit("removeListener", t, e)
                    }
                    return this
                }, r.prototype.removeAllListeners = function(t) {
                    var e, n;
                    if (!this._events) return this;
                    if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[t] && delete this._events[t], this;
                    if (0 === arguments.length) {
                        for (e in this._events) "removeListener" !== e && this.removeAllListeners(e);
                        return this.removeAllListeners("removeListener"), this._events = {}, this
                    }
                    if (n = this._events[t], i(n)) this.removeListener(t, n);
                    else if (n)
                        for (; n.length;) this.removeListener(t, n[n.length - 1]);
                    return delete this._events[t], this
                }, r.prototype.listeners = function(t) {
                    return this._events && this._events[t] ? i(this._events[t]) ? [this._events[t]] : this._events[t].slice() : []
                }, r.prototype.listenerCount = function(t) {
                    if (this._events) {
                        var e = this._events[t];
                        if (i(e)) return 1;
                        if (e) return e.length
                    }
                    return 0
                }, r.listenerCount = function(t, e) {
                    return t.listenerCount(e)
                }
            }, {}],
            2: [function(t, e, n) {
                var r, i, o, a, s;
                s = navigator.userAgent.toLowerCase(), a = navigator.platform.toLowerCase(), r = s.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/) || [null, "unknown", 0], o = "ie" === r[1] && document.documentMode, i = {
                    name: "version" === r[1] ? r[3] : r[1],
                    version: o || parseFloat("opera" === r[1] && r[4] ? r[4] : r[2]),
                    platform: {
                        name: s.match(/ip(?:ad|od|hone)/) ? "ios" : (s.match(/(?:webos|android)/) || a.match(/mac|win|linux/) || ["other"])[0]
                    }
                }, i[i.name] = !0, i[i.name + parseInt(i.version, 10)] = !0, i.platform[i.platform.name] = !0, e.exports = i
            }, {}],
            3: [function(t, e, n) {
                var r, i, o, a = function(t, e) {
                        function n() {
                            this.constructor = t
                        }
                        for (var r in e) s.call(e, r) && (t[r] = e[r]);
                        return n.prototype = e.prototype, t.prototype = new n, t.__super__ = e.prototype, t
                    },
                    s = {}.hasOwnProperty,
                    u = [].indexOf || function(t) {
                        for (var e = 0, n = this.length; e < n; e++)
                            if (e in this && this[e] === t) return e;
                        return -1
                    },
                    c = [].slice;
                r = t("events").EventEmitter, o = t("./browser.coffee"), i = function(t) {
                    function e(t) {
                        var e, r, i;
                        this.running = !1, this.options = {}, this.frames = [], this.freeWorkers = [], this.activeWorkers = [], this.setOptions(t);
                        for (r in n) i = n[r], null == (e = this.options)[r] && (e[r] = i)
                    }
                    var n, r;
                    return a(e, t), n = {
                        workerScript: "gif.worker.js",
                        workers: 2,
                        repeat: 0,
                        background: "#fff",
                        quality: 10,
                        width: null,
                        height: null,
                        transparent: null,
                        debug: !1,
                        dither: !1
                    }, r = {
                        delay: 500,
                        copy: !1,
                        dispose: -1
                    }, e.prototype.setOption = function(t, e) {
                        if (this.options[t] = e, null != this._canvas && ("width" === t || "height" === t)) return this._canvas[t] = e
                    }, e.prototype.setOptions = function(t) {
                        var e, n, r;
                        n = [];
                        for (e in t) s.call(t, e) && (r = t[e], n.push(this.setOption(e, r)));
                        return n
                    }, e.prototype.addFrame = function(t, e) {
                        var n, i;
                        null == e && (e = {}), n = {}, n.transparent = this.options.transparent;
                        for (i in r) n[i] = e[i] || r[i];
                        if (null == this.options.width && this.setOption("width", t.width), null == this.options.height && this.setOption("height", t.height), "undefined" != typeof ImageData && null !== ImageData && t instanceof ImageData) n.data = t.data;
                        else if ("undefined" != typeof CanvasRenderingContext2D && null !== CanvasRenderingContext2D && t instanceof CanvasRenderingContext2D || "undefined" != typeof WebGLRenderingContext && null !== WebGLRenderingContext && t instanceof WebGLRenderingContext) e.copy ? n.data = this.getContextData(t) : n.context = t;
                        else {
                            if (null == t.childNodes) throw new Error("Invalid image");
                            e.copy ? n.data = this.getImageData(t) : n.image = t
                        }
                        return this.frames.push(n)
                    }, e.prototype.render = function() {
                        var t, e, n, r;
                        if (this.running) throw new Error("Already running");
                        if (null == this.options.width || null == this.options.height) throw new Error("Width and height must be set prior to rendering");
                        if (this.running = !0, this.nextFrame = 0, this.finishedFrames = 0, this.imageParts = function() {
                                var e, n, r;
                                for (r = [], t = e = 0, n = this.frames.length; 0 <= n ? e < n : e > n; t = 0 <= n ? ++e : --e) r.push(null);
                                return r
                            }.call(this), n = this.spawnWorkers(), !0 === this.options.globalPalette) this.renderNextFrame();
                        else
                            for (t = e = 0, r = n; 0 <= r ? e < r : e > r; t = 0 <= r ? ++e : --e) this.renderNextFrame();
                        return this.emit("start"), this.emit("progress", 0)
                    }, e.prototype.abort = function() {
                        for (var t;;) {
                            if (null == (t = this.activeWorkers.shift())) break;
                            this.log("killing active worker"), t.terminate()
                        }
                        return this.running = !1, this.emit("abort")
                    }, e.prototype.spawnWorkers = function() {
                        var t, e, n;
                        return t = Math.min(this.options.workers, this.frames.length),
                            function() {
                                n = [];
                                for (var r = e = this.freeWorkers.length; e <= t ? r < t : r > t; e <= t ? r++ : r--) n.push(r);
                                return n
                            }.apply(this).forEach(function(t) {
                                return function(e) {
                                    var n;
                                    return t.log("spawning worker " + e), n = new Worker(t.options.workerScript), n.onmessage = function(e) {
                                        return t.activeWorkers.splice(t.activeWorkers.indexOf(n), 1), t.freeWorkers.push(n), t.frameFinished(e.data)
                                    }, t.freeWorkers.push(n)
                                }
                            }(this)), t
                    }, e.prototype.frameFinished = function(t) {
                        var e, n;
                        if (this.log("frame " + t.index + " finished - " + this.activeWorkers.length + " active"), this.finishedFrames++, this.emit("progress", this.finishedFrames / this.frames.length), this.imageParts[t.index] = t, !0 === this.options.globalPalette && (this.options.globalPalette = t.globalPalette, this.log("global palette analyzed"), this.frames.length > 2))
                            for (e = 1, n = this.freeWorkers.length; 1 <= n ? e < n : e > n; 1 <= n ? ++e : --e) this.renderNextFrame();
                        return u.call(this.imageParts, null) >= 0 ? this.renderNextFrame() : this.finishRendering()
                    }, e.prototype.finishRendering = function() {
                        var t, e, n, r, i, o, a, s, u, c, l, f, h, d, p, m;
                        for (s = 0, d = this.imageParts, i = 0, u = d.length; i < u; i++) e = d[i], s += (e.data.length - 1) * e.pageSize + e.cursor;
                        for (s += e.pageSize - e.cursor, this.log("rendering finished - filesize " + Math.round(s / 1e3) + "kb"), t = new Uint8Array(s), f = 0, p = this.imageParts, o = 0, c = p.length; o < c; o++)
                            for (e = p[o], m = e.data, n = a = 0, l = m.length; a < l; n = ++a) h = m[n], t.set(h, f), n === e.data.length - 1 ? f += e.cursor : f += e.pageSize;
                        return r = new Blob([t], {
                            type: "image/gif"
                        }), this.emit("finished", r, t)
                    }, e.prototype.renderNextFrame = function() {
                        var t, e, n;
                        if (0 === this.freeWorkers.length) throw new Error("No free workers");
                        if (!(this.nextFrame >= this.frames.length)) return t = this.frames[this.nextFrame++], n = this.freeWorkers.shift(), e = this.getTask(t), this.log("starting frame " + (e.index + 1) + " of " + this.frames.length), this.activeWorkers.push(n), n.postMessage(e)
                    }, e.prototype.getContextData = function(t) {
                        return t.getImageData(0, 0, this.options.width, this.options.height).data
                    }, e.prototype.getImageData = function(t) {
                        var e;
                        return null == this._canvas && (this._canvas = document.createElement("canvas"), this._canvas.width = this.options.width, this._canvas.height = this.options.height), e = this._canvas.getContext("2d"), e.setFill = this.options.background, e.fillRect(0, 0, this.options.width, this.options.height), e.drawImage(t, 0, 0), this.getContextData(e)
                    }, e.prototype.getTask = function(t) {
                        var e, n;
                        if (e = this.frames.indexOf(t), n = {
                                index: e,
                                last: e === this.frames.length - 1,
                                delay: t.delay,
                                dispose: t.dispose,
                                transparent: t.transparent,
                                width: this.options.width,
                                height: this.options.height,
                                quality: this.options.quality,
                                dither: this.options.dither,
                                globalPalette: this.options.globalPalette,
                                repeat: this.options.repeat,
                                canTransfer: "chrome" === o.name
                            }, null != t.data) n.data = t.data;
                        else if (null != t.context) n.data = this.getContextData(t.context);
                        else {
                            if (null == t.image) throw new Error("Invalid frame");
                            n.data = this.getImageData(t.image)
                        }
                        return n
                    }, e.prototype.log = function() {
                        var t;
                        if (t = 1 <= arguments.length ? c.call(arguments, 0) : [], this.options.debug) return console.log.apply(console, t)
                    }, e
                }(r), e.exports = i
            }, {
                "./browser.coffee": 2,
                events: 1
            }]
        }, {}, [3])(3)
    })
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(33),
        o = r(i),
        a = n(2),
        s = r(a),
        u = n(3),
        c = r(u),
        l = n(4),
        f = r(l),
        h = n(1),
        d = n(123),
        p = r(d),
        m = n(85),
        v = r(m),
        g = n(265),
        A = r(g),
        y = n(722),
        x = r(y),
        _ = n(41),
        b = r(_),
        w = function(t) {
            function e() {
                (0, s.default)(this, e);
                var n = (0, c.default)(this, t.call(this));
                return n.gotoGalleryEntry = n.gotoGalleryEntry.bind(n), n
            }
            return (0, f.default)(e, t), e.prototype.gotoGalleryEntry = function() {
                b.default.navigate("/gallery/" + this.props.id)
            }, e.prototype.render = function(t) {
                return (0, h.h)(v.default, null, (0, h.h)(p.default, {
                    close: !0,
                    mute: !0,
                    about: !0
                }), t.gif ? (0, h.h)(A.default, (0, o.default)({}, t, {
                    goBack: this.gotoGalleryEntry
                })) : (0, h.h)(x.default, t))
            }, e
        }(h.Component);
    e.default = w
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(22),
        o = r(i),
        a = n(23),
        s = r(a),
        u = n(2),
        c = r(u),
        l = n(3),
        f = r(l),
        h = n(4),
        d = r(h),
        p = n(1),
        m = n(180),
        v = r(m);
    n(723);
    var g = n(95),
        A = r(g),
        y = n(94),
        x = r(y),
        _ = n(26),
        b = r(_),
        w = n(176),
        M = r(w),
        E = n(724),
        S = r(E),
        T = n(96),
        L = r(T),
        C = n(19),
        P = r(C),
        R = n(41),
        D = r(R),
        O = n(729),
        I = r(O),
        B = n(55),
        N = r(B),
        k = n(13),
        F = r(k),
        U = n(10),
        z = r(U),
        V = n(730),
        G = r(V),
        H = function(t) {
            function e() {
                (0, c.default)(this, e);
                var n = (0, f.default)(this, t.call(this));
                return n.state = {}, n.performSelect = n.performSelect.bind(n), n.onWindowResize = n.onWindowResize.bind(n), n.gotoGIF = n.gotoGIF.bind(n), n
            }
            return (0, d.default)(e, t), e.prototype.componentDidMount = function() {
                this.mounted = !0, this.asyncMount(), N.default.on("resize", this.onWindowResize)
            }, e.prototype.componentWillReceiveProps = function(t) {
                var e = t.id,
                    n = this.state,
                    r = n.items,
                    i = n.recordings,
                    o = r.find(function(t) {
                        return t.id === e
                    });
                this.setState({
                    item: o,
                    recording: i[o.index]
                })
            }, e.prototype.componentWillUnmount = function() {
                this.mounted = !1, N.default.off("resize", this.onWindowResize)
            }, e.prototype.onWindowResize = function() {
                this.forceUpdate()
            }, e.prototype.asyncMount = function() {
                function t() {
                    return e.apply(this, arguments)
                }
                var e = (0, s.default)(o.default.mark(function t() {
                    var e, n, r, i;
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                return this.setState({
                                    loading: "Loading recordings"
                                }), e = this.props.id, t.next = 4, v.default.loadGallery();
                            case 4:
                                if (n = t.sent, this.mounted) {
                                    t.next = 7;
                                    break
                                }
                                return t.abrupt("return");
                            case 7:
                                n = n.sort(function(t, e) {
                                    return e.timestamp - t.timestamp
                                }).filter(function(t) {
                                    return t.room > 0
                                }), r = n.map(function(t, e) {
                                    var n = t.title,
                                        r = t.id,
                                        i = t.country_code;
                                    return {
                                        index: e,
                                        id: r,
                                        title: "- " + (n || "Unnamed") + " " + (0, G.default)(i)
                                    }
                                }), i = e ? r.find(function(t) {
                                    return t.id === e
                                }) : r[0], this.setState({
                                    items: r,
                                    recordings: n,
                                    item: i,
                                    recording: n[i ? i.index : 0],
                                    loading: null
                                });
                            case 11:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.gotoGIF = function() {
                var t = this.state.recording;
                D.default.navigate("/gallery/" + t.id + "/" + t.room + "/gif")
            }, e.prototype.performSelect = function() {
                function t(t) {
                    return e.apply(this, arguments)
                }
                var e = (0, s.default)(o.default.mark(function t(e) {
                    return o.default.wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                            case 0:
                                D.default.navigate("/gallery/" + this.state.recordings[e.index].id);
                            case 1:
                            case "end":
                                return t.stop()
                        }
                    }, t, this)
                }));
                return t
            }(), e.prototype.render = function(t, e) {
                var n = (t.room, t.goHome, e.items),
                    r = e.item,
                    i = e.recording,
                    o = e.error,
                    a = e.loading;
                return (0, p.h)("div", null, (0, p.h)(M.default, null, F.default.isMobile ? "Gallery" : "Featured Performances"), (0, p.h)(b.default, {
                    type: "bottom-left",
                    margin: !0
                }, (0, p.h)(S.default, {
                    item: r,
                    items: n,
                    performChange: this.performSelect,
                    itemsPerPage: Math.floor(.3 * N.default.height / (0, I.default)())
                })), i ? (0, p.h)(A.default, {
                    id: i.id,
                    roomId: 1 + (i.room - 1) % z.default.roomCount,
                    key: i.id,
                    progressive: F.default.isIOs,
                    orbs: !0,
                    morph: !0
                }) : null, i && !F.default.isMobile ? (0, p.h)(b.default, {
                    type: "bottom-right",
                    margin: !0
                }, (0, p.h)(P.default, {
                    text: "Create GIF",
                    onClick: this.gotoGIF,
                    underline: !0
                })) : null, o || a ? (0, p.h)(b.default, {
                    type: "center"
                }, o ? (0, p.h)(x.default, null, o) : (0, p.h)(L.default, {
                    text: "" + (a || "something")
                })) : null)
            }, e
        }(p.Component);
    e.default = H
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(120),
        s = r(a),
        u = n(3),
        c = r(u),
        l = n(4),
        f = r(l),
        h = n(1);
    n(725);
    var d = n(263),
        p = r(d),
        m = n(264),
        v = r(m),
        g = n(726),
        A = r(g),
        y = n(727),
        x = r(y),
        _ = n(728),
        b = r(_),
        w = function(t, e) {
            return e > t + 1
        },
        M = function(t) {
            return t - 1 > -1
        },
        E = function(t, e) {
            return t * e
        },
        S = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, c.default)(this, t.call(this));
                return n.state = {}, n.nextPage = n.nextPage.bind(n), n.previousPage = n.previousPage.bind(n), n
            }
            return (0, f.default)(e, t), e.prototype.countPages = function() {
                var t = this.props,
                    e = t.items,
                    n = t.itemsPerPage,
                    r = void 0 === n ? 4 : n;
                return Math.ceil(e.length / r)
            }, e.prototype.nextPage = function() {
                this.setState({
                    page: Math.min(this.countPages() - 1, this.activePage + 1)
                })
            }, e.prototype.previousPage = function() {
                this.setState({
                    page: Math.max(0, this.activePage - 1)
                })
            }, e.prototype.render = function() {
                var t = this.props.items,
                    e = this.state.page;
                if (!t) return null;
                var n = this.props,
                    r = n.item,
                    i = n.itemsPerPage,
                    o = void 0 === i ? 4 : i,
                    a = n.performChange;
                null == e && (e = r ? Math.floor(t.indexOf(r) / o) : 0);
                var s = this.countPages();
                s <= e && (e = s - 1);
                var u = s > 1;
                t = t.slice(E(e, o), E(e + 1, o));
                var c = t.length;
                return (0, h.h)("div", {
                    className: "item-list"
                }, t.map(function(t, e) {
                    return (0, h.h)(A.default, {
                        onClick: a,
                        item: t,
                        active: r === t,
                        title: "" === t.title ? "Unnamed" : t.title,
                        className: u || e + 1 !== c ? null : "mod-last",
                        key: t.id
                    })
                }), u && (0, h.h)("div", {
                    className: "item-list-navigation"
                }, (0, h.h)(v.default, {
                    disabled: !M(e),
                    onClick: this.previousPage,
                    page: e
                }), (0, h.h)("span", {
                    className: "item-list-navigation-pages"
                }, (0, b.default)(e + 1, 2), (0, h.h)("span", {
                    className: "divider-icon",
                    dangerouslySetInnerHTML: {
                        __html: x.default
                    }
                }), (0, b.default)(s, 2)), (0, h.h)(p.default, {
                    disabled: !w(e, s),
                    onClick: this.nextPage,
                    page: e
                })))
            }, (0, s.default)(e, [{
                key: "activePage",
                get: function() {
                    var t = this.state.page;
                    if (void 0 !== t) return t;
                    var e = this.props,
                        n = e.item,
                        r = e.items,
                        i = e.itemsPerPage,
                        o = void 0 === i ? 4 : i;
                    return Math.floor(r.indexOf(n) / o)
                }
            }]), e
        }(h.Component);
    e.default = S
}, function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(2),
        o = r(i),
        a = n(3),
        s = r(a),
        u = n(4),
        c = r(u),
        l = n(1),
        f = n(77),
        h = r(f),
        d = function(t) {
            function e() {
                (0, o.default)(this, e);
                var n = (0, s.default)(this, t.call(this));
                return n.onClick = n.onClick.bind(n), n
            }
            return (0, c.default)(e, t), e.prototype.onClick = function() {
                this.props.onClick(this.props.item)
            }, e.prototype.render = function() {
                var t = this.props,
                    e = t.title,
                    n = t.active,
                    r = t.className;
                return (0, l.h)("a", {
                    className: (0, h.default)("paginated-list-item-link"),
                    onClick: !n && this.onClick
                }, (0, l.h)("div", {
                    className: (0, h.default)("paginated-list-item", n && "mod-active", r)
                }, (0, l.h)("div", {
                    className: "paginated-list-item-name-container"
                }, (0, l.h)("div", {
                    className: "paginated-list-item-name"
                }, e))))
            }, e
        }(l.Component);
    e.default = d
}, function(t, e) {
    t.exports = '<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="3.22" height="33.42" viewBox="0 0 3.22 33.42"><defs><style>.cls-1{fill:none;stroke:#fcee23;stroke-miterlimit:10;stroke-width:3.2px}</style></defs><title>divider</title><path class="cls-1" d="M1.62 33.42L1.6 0"/></svg>'
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0, e.default = function(t, e) {
        return t.toString().padStart(e, "0")
    }
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var r = n(55),
        i = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.default = function() {
        return i.default.width < 1024 ? 20 : i.default.width > 1920 ? 40 : 20 / 1024 * i.default.width
    }
}, function(t, e, n) {
    "use strict";
    e.__esModule = !0, e.default = function(t) {
        return t.split("").map(function(t) {
            var e = t.charCodeAt(0) + 127397 - 65536;
            return String.fromCharCode(e >>> 10 & 1023 | 55296) + String.fromCharCode(56320 | 1023 & e)
        }).join("")
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var i = n(13),
        o = r(i),
        a = n(173),
        s = r(a);
    e.default = function() {
        if (document.body.classList.add("mod-mobile"), s.default.create(), o.default.isIOs) {
            var t = 0;
            document.addEventListener("touchmove", function(t) {
                1 !== t.scale && t.preventDefault()
            }, !1), document.addEventListener("gesturestart", function(t) {
                t.preventDefault()
            }, !1), document.addEventListener("touchstart", function(e) {
                (e.timeStamp - t <= 300 || e.touches.length > 1) && e.preventDefault(), t = e.timeStamp
            }, !1)
        }
    }
}]);
//# sourceMappingURL=bundle.js.map
